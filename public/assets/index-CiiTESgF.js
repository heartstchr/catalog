var ci=Object.defineProperty;var di=(x,y,B)=>y in x?ci(x,y,{enumerable:!0,configurable:!0,writable:!0,value:B}):x[y]=B;var Tr=(x,y,B)=>di(x,typeof y!="symbol"?y+"":y,B);import{L as defineStore,r as ref,C as computed,s as resolveComponent,h as createElementBlock,f as openBlock,j as createBaseVNode,t as toDisplayString,e as createCommentVNode,F as Fragment,z as renderList,x as createVNode,v as withCtx,A as createTextVNode,M as createStaticVNode,d as createBlock,B as normalizeClass,y as TransitionGroup,J as withModifiers,q as withDirectives,H as vShow,N as vModelSelect,c as renderSlot,I as withKeys,G as normalizeStyle,O as vModelText,P as vModelCheckbox,l as resolveDynamicComponent,Q as useRouter,R as createRouter,S as createWebHistory,U as createApp,V as createPinia}from"./vendor-vue-CQR6wnVH.js";import{s as script,a as script$1,u as useConfirm,b as script$2,c as script$3,d as script$4,e as script$5,f as script$6,g as script$7,h as useToast,i as script$8,j as script$9,P as PrimeVue,C as ConfirmationService,T as ToastService}from"./vendor-primevue-Cq8GfJll.js";(function(){const y=document.createElement("link").relList;if(y&&y.supports&&y.supports("modulepreload"))return;for(const V of document.querySelectorAll('link[rel="modulepreload"]'))S(V);new MutationObserver(V=>{for(const C of V)if(C.type==="childList")for(const P of C.addedNodes)P.tagName==="LINK"&&P.rel==="modulepreload"&&S(P)}).observe(document,{childList:!0,subtree:!0});function B(V){const C={};return V.integrity&&(C.integrity=V.integrity),V.referrerPolicy&&(C.referrerPolicy=V.referrerPolicy),V.crossOrigin==="use-credentials"?C.credentials="include":V.crossOrigin==="anonymous"?C.credentials="omit":C.credentials="same-origin",C}function S(V){if(V.ep)return;V.ep=!0;const C=B(V);fetch(V.href,C)}})();var o$1l={transitionDuration:"{transition.duration}"},r$1i={borderWidth:"0 0 1px 0",borderColor:"{content.border.color}"},t$D={color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",activeHoverColor:"{text.color}",padding:"1.125rem",fontWeight:"600",borderRadius:"0",borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",hoverBackground:"{content.background}",activeBackground:"{content.background}",activeHoverBackground:"{content.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",activeHoverColor:"{text.color}"},first:{topBorderRadius:"{content.border.radius}",borderWidth:"0"},last:{bottomBorderRadius:"{content.border.radius}",activeBottomBorderRadius:"0"}},e$U={borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",color:"{text.color}",padding:"0 1.125rem 1.125rem 1.125rem"},c$p={root:o$1l,panel:r$1i,header:t$D,content:e$U},o$1k={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},r$1h={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},d$w={padding:"{list.padding}",gap:"{list.gap}"},e$T={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},l$g={background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},i$q={width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},c$o={borderRadius:"{border.radius.sm}"},f$9={padding:"{list.option.padding}"},s$9={light:{chip:{focusBackground:"{surface.200}",focusColor:"{surface.800}"},dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",focusColor:"{surface.0}"},dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"}}},a$E={root:o$1k,overlay:r$1h,list:d$w,option:e$T,optionGroup:l$g,dropdown:i$q,chip:c$o,emptyMessage:f$9,colorScheme:s$9},e$S={width:"2rem",height:"2rem",fontSize:"1rem",background:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},r$1g={size:"1rem"},o$1j={borderColor:"{content.background}",offset:"-0.75rem"},t$C={width:"3rem",height:"3rem",fontSize:"1.5rem",icon:{size:"1.5rem"},group:{offset:"-1rem"}},i$p={width:"4rem",height:"4rem",fontSize:"2rem",icon:{size:"2rem"},group:{offset:"-1.5rem"}},n$B={root:e$S,icon:r$1g,group:o$1j,lg:t$C,xl:i$p},r$1f={borderRadius:"{border.radius.md}",padding:"0 0.5rem",fontSize:"0.75rem",fontWeight:"700",minWidth:"1.5rem",height:"1.5rem"},o$1i={size:"0.5rem"},e$R={fontSize:"0.625rem",minWidth:"1.25rem",height:"1.25rem"},c$n={fontSize:"0.875rem",minWidth:"1.75rem",height:"1.75rem"},a$D={fontSize:"1rem",minWidth:"2rem",height:"2rem"},n$A={light:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.500}",color:"{surface.0}"},info:{background:"{sky.500}",color:"{surface.0}"},warn:{background:"{orange.500}",color:"{surface.0}"},danger:{background:"{red.500}",color:"{surface.0}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"{green.400}",color:"{green.950}"},info:{background:"{sky.400}",color:"{sky.950}"},warn:{background:"{orange.400}",color:"{orange.950}"},danger:{background:"{red.400}",color:"{red.950}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}},d$v={root:r$1f,dot:o$1i,sm:e$R,lg:c$n,xl:a$D,colorScheme:n$A},r$1e={borderRadius:{none:"0",xs:"2px",sm:"4px",md:"6px",lg:"8px",xl:"12px"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"}},o$1h={transitionDuration:"0.2s",focusRing:{width:"1px",style:"solid",color:"{primary.color}",offset:"2px",shadow:"none"},disabledOpacity:"0.6",iconSize:"1rem",anchorGutter:"2px",primary:{50:"{emerald.50}",100:"{emerald.100}",200:"{emerald.200}",300:"{emerald.300}",400:"{emerald.400}",500:"{emerald.500}",600:"{emerald.600}",700:"{emerald.700}",800:"{emerald.800}",900:"{emerald.900}",950:"{emerald.950}"},formField:{paddingX:"0.75rem",paddingY:"0.5rem",sm:{fontSize:"0.875rem",paddingX:"0.625rem",paddingY:"0.375rem"},lg:{fontSize:"1.125rem",paddingX:"0.875rem",paddingY:"0.625rem"},borderRadius:"{border.radius.md}",focusRing:{width:"0",style:"none",color:"transparent",offset:"0",shadow:"none"},transitionDuration:"{transition.duration}"},list:{padding:"0.25rem 0.25rem",gap:"2px",header:{padding:"0.5rem 1rem 0.25rem 1rem"},option:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}"},optionGroup:{padding:"0.5rem 0.75rem",fontWeight:"600"}},content:{borderRadius:"{border.radius.md}"},mask:{transitionDuration:"0.15s"},navigation:{list:{padding:"0.25rem 0.25rem",gap:"2px"},item:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}",gap:"0.5rem"},submenuLabel:{padding:"0.5rem 0.75rem",fontWeight:"600"},submenuIcon:{size:"0.875rem"}},overlay:{select:{borderRadius:"{border.radius.md}",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},popover:{borderRadius:"{border.radius.md}",padding:"0.75rem",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},modal:{borderRadius:"{border.radius.xl}",padding:"1.25rem",shadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)"},navigation:{shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"}},colorScheme:{light:{surface:{0:"#ffffff",50:"{slate.50}",100:"{slate.100}",200:"{slate.200}",300:"{slate.300}",400:"{slate.400}",500:"{slate.500}",600:"{slate.600}",700:"{slate.700}",800:"{slate.800}",900:"{slate.900}",950:"{slate.950}"},primary:{color:"{primary.500}",contrastColor:"#ffffff",hoverColor:"{primary.600}",activeColor:"{primary.700}"},highlight:{background:"{primary.50}",focusBackground:"{primary.100}",color:"{primary.700}",focusColor:"{primary.800}"},mask:{background:"rgba(0,0,0,0.4)",color:"{surface.200}"},formField:{background:"{surface.0}",disabledBackground:"{surface.200}",filledBackground:"{surface.50}",filledHoverBackground:"{surface.50}",filledFocusBackground:"{surface.50}",borderColor:"{surface.300}",hoverBorderColor:"{surface.400}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.400}",color:"{surface.700}",disabledColor:"{surface.500}",placeholderColor:"{surface.500}",invalidPlaceholderColor:"{red.600}",floatLabelColor:"{surface.500}",floatLabelFocusColor:"{primary.600}",floatLabelActiveColor:"{surface.500}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.700}",hoverColor:"{surface.800}",mutedColor:"{surface.500}",hoverMutedColor:"{surface.600}"},content:{background:"{surface.0}",hoverBackground:"{surface.100}",borderColor:"{surface.200}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},popover:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},modal:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.100}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.100}",activeBackground:"{surface.100}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}}},dark:{surface:{0:"#ffffff",50:"{zinc.50}",100:"{zinc.100}",200:"{zinc.200}",300:"{zinc.300}",400:"{zinc.400}",500:"{zinc.500}",600:"{zinc.600}",700:"{zinc.700}",800:"{zinc.800}",900:"{zinc.900}",950:"{zinc.950}"},primary:{color:"{primary.400}",contrastColor:"{surface.900}",hoverColor:"{primary.300}",activeColor:"{primary.200}"},highlight:{background:"color-mix(in srgb, {primary.400}, transparent 84%)",focusBackground:"color-mix(in srgb, {primary.400}, transparent 76%)",color:"rgba(255,255,255,.87)",focusColor:"rgba(255,255,255,.87)"},mask:{background:"rgba(0,0,0,0.6)",color:"{surface.200}"},formField:{background:"{surface.950}",disabledBackground:"{surface.700}",filledBackground:"{surface.800}",filledHoverBackground:"{surface.800}",filledFocusBackground:"{surface.800}",borderColor:"{surface.600}",hoverBorderColor:"{surface.500}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.300}",color:"{surface.0}",disabledColor:"{surface.400}",placeholderColor:"{surface.400}",invalidPlaceholderColor:"{red.400}",floatLabelColor:"{surface.400}",floatLabelFocusColor:"{primary.color}",floatLabelActiveColor:"{surface.400}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.0}",hoverColor:"{surface.0}",mutedColor:"{surface.400}",hoverMutedColor:"{surface.300}"},content:{background:"{surface.900}",hoverBackground:"{surface.800}",borderColor:"{surface.700}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},popover:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},modal:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.800}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.800}",activeBackground:"{surface.800}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}}}}},e$Q={primitive:r$1e,semantic:o$1h},r$1d={borderRadius:"{content.border.radius}"},o$1g={root:r$1d},o$1f={padding:"1rem",background:"{content.background}",gap:"0.5rem",transitionDuration:"{transition.duration}"},r$1c={color:"{text.muted.color}",hoverColor:"{text.color}",borderRadius:"{content.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",hoverColor:"{navigation.item.icon.focus.color}"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},i$o={color:"{navigation.item.icon.color}"},t$B={root:o$1f,item:r$1c,separator:i$o},r$1b={borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",gap:"0.5rem",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",iconOnlyWidth:"2.5rem",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}",iconOnlyWidth:"2rem"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}",iconOnlyWidth:"3rem"},label:{fontWeight:"500"},raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"},badgeSize:"1rem",transitionDuration:"{form.field.transition.duration}"},o$1e={light:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",borderColor:"{surface.100}",hoverBorderColor:"{surface.200}",activeBorderColor:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}",focusRing:{color:"{surface.600}",shadow:"none"}},info:{background:"{sky.500}",hoverBackground:"{sky.600}",activeBackground:"{sky.700}",borderColor:"{sky.500}",hoverBorderColor:"{sky.600}",activeBorderColor:"{sky.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{sky.500}",shadow:"none"}},success:{background:"{green.500}",hoverBackground:"{green.600}",activeBackground:"{green.700}",borderColor:"{green.500}",hoverBorderColor:"{green.600}",activeBorderColor:"{green.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{green.500}",shadow:"none"}},warn:{background:"{orange.500}",hoverBackground:"{orange.600}",activeBackground:"{orange.700}",borderColor:"{orange.500}",hoverBorderColor:"{orange.600}",activeBorderColor:"{orange.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{orange.500}",shadow:"none"}},help:{background:"{purple.500}",hoverBackground:"{purple.600}",activeBackground:"{purple.700}",borderColor:"{purple.500}",hoverBorderColor:"{purple.600}",activeBorderColor:"{purple.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{purple.500}",shadow:"none"}},danger:{background:"{red.500}",hoverBackground:"{red.600}",activeBackground:"{red.700}",borderColor:"{red.500}",hoverBorderColor:"{red.600}",activeBorderColor:"{red.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{red.500}",shadow:"none"}},contrast:{background:"{surface.950}",hoverBackground:"{surface.900}",activeBackground:"{surface.800}",borderColor:"{surface.950}",hoverBorderColor:"{surface.900}",activeBorderColor:"{surface.800}",color:"{surface.0}",hoverColor:"{surface.0}",activeColor:"{surface.0}",focusRing:{color:"{surface.950}",shadow:"none"}}},outlined:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",borderColor:"{primary.200}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",borderColor:"{green.200}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",borderColor:"{sky.200}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",borderColor:"{orange.200}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",borderColor:"{purple.200}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",borderColor:"{red.200}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.700}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.700}"}},text:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.700}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},dark:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",borderColor:"{surface.800}",hoverBorderColor:"{surface.700}",activeBorderColor:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}",focusRing:{color:"{surface.300}",shadow:"none"}},info:{background:"{sky.400}",hoverBackground:"{sky.300}",activeBackground:"{sky.200}",borderColor:"{sky.400}",hoverBorderColor:"{sky.300}",activeBorderColor:"{sky.200}",color:"{sky.950}",hoverColor:"{sky.950}",activeColor:"{sky.950}",focusRing:{color:"{sky.400}",shadow:"none"}},success:{background:"{green.400}",hoverBackground:"{green.300}",activeBackground:"{green.200}",borderColor:"{green.400}",hoverBorderColor:"{green.300}",activeBorderColor:"{green.200}",color:"{green.950}",hoverColor:"{green.950}",activeColor:"{green.950}",focusRing:{color:"{green.400}",shadow:"none"}},warn:{background:"{orange.400}",hoverBackground:"{orange.300}",activeBackground:"{orange.200}",borderColor:"{orange.400}",hoverBorderColor:"{orange.300}",activeBorderColor:"{orange.200}",color:"{orange.950}",hoverColor:"{orange.950}",activeColor:"{orange.950}",focusRing:{color:"{orange.400}",shadow:"none"}},help:{background:"{purple.400}",hoverBackground:"{purple.300}",activeBackground:"{purple.200}",borderColor:"{purple.400}",hoverBorderColor:"{purple.300}",activeBorderColor:"{purple.200}",color:"{purple.950}",hoverColor:"{purple.950}",activeColor:"{purple.950}",focusRing:{color:"{purple.400}",shadow:"none"}},danger:{background:"{red.400}",hoverBackground:"{red.300}",activeBackground:"{red.200}",borderColor:"{red.400}",hoverBorderColor:"{red.300}",activeBorderColor:"{red.200}",color:"{red.950}",hoverColor:"{red.950}",activeColor:"{red.950}",focusRing:{color:"{red.400}",shadow:"none"}},contrast:{background:"{surface.0}",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{surface.0}",hoverBorderColor:"{surface.100}",activeBorderColor:"{surface.200}",color:"{surface.950}",hoverColor:"{surface.950}",activeColor:"{surface.950}",focusRing:{color:"{surface.0}",shadow:"none"}}},outlined:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",borderColor:"{primary.700}",color:"{primary.color}"},secondary:{hoverBackground:"rgba(255,255,255,0.04)",activeBackground:"rgba(255,255,255,0.16)",borderColor:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",borderColor:"{green.700}",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",borderColor:"{sky.700}",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",borderColor:"{orange.700}",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",borderColor:"{purple.700}",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",borderColor:"{red.700}",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.500}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.600}",color:"{surface.0}"}},text:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",color:"{primary.color}"},secondary:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}}},e$P={root:r$1b,colorScheme:o$1e},o$1d={background:"{content.background}",borderRadius:"{border.radius.xl}",color:"{content.color}",shadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)"},r$1a={padding:"1.25rem",gap:"0.5rem"},t$A={gap:"0.5rem"},e$O={fontSize:"1.25rem",fontWeight:"500"},a$C={color:"{text.muted.color}"},d$u={root:o$1d,body:r$1a,caption:t$A,title:e$O,subtitle:a$C},r$19={transitionDuration:"{transition.duration}"},o$1c={gap:"0.25rem"},a$B={padding:"1rem",gap:"0.5rem"},i$n={width:"2rem",height:"0.5rem",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},c$m={light:{indicator:{background:"{surface.200}",hoverBackground:"{surface.300}",activeBackground:"{primary.color}"}},dark:{indicator:{background:"{surface.700}",hoverBackground:"{surface.600}",activeBackground:"{primary.color}"}}},t$z={root:r$19,content:o$1c,indicatorList:a$B,indicator:i$n,colorScheme:c$m},o$1b={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},r$18={width:"2.5rem",color:"{form.field.icon.color}"},d$t={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},l$f={padding:"{list.padding}",gap:"{list.gap}",mobileIndent:"1rem"},e$N={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",icon:{color:"{list.option.icon.color}",focusColor:"{list.option.icon.focus.color}",size:"0.875rem"}},i$m={color:"{form.field.icon.color}"},f$8={root:o$1b,dropdown:r$18,overlay:d$t,list:l$f,option:e$N,clearIcon:i$m},r$17={borderRadius:"{border.radius.sm}",width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},o$1a={size:"0.875rem",color:"{form.field.color}",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.75rem"},lg:{size:"1rem"}},e$M={root:r$17,icon:o$1a},o$19={borderRadius:"16px",paddingX:"0.75rem",paddingY:"0.5rem",gap:"0.5rem",transitionDuration:"{transition.duration}"},r$16={width:"2rem",height:"2rem"},e$L={size:"1rem"},c$l={size:"1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"}},i$l={light:{root:{background:"{surface.100}",color:"{surface.800}"},icon:{color:"{surface.800}"},removeIcon:{color:"{surface.800}"}},dark:{root:{background:"{surface.800}",color:"{surface.0}"},icon:{color:"{surface.0}"},removeIcon:{color:"{surface.0}"}}},s$8={root:o$19,image:r$16,icon:e$L,removeIcon:c$l,colorScheme:i$l},r$15={transitionDuration:"{transition.duration}"},o$18={width:"1.5rem",height:"1.5rem",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},e$K={shadow:"{overlay.popover.shadow}",borderRadius:"{overlay.popover.borderRadius}"},a$A={light:{panel:{background:"{surface.800}",borderColor:"{surface.900}"},handle:{color:"{surface.0}"}},dark:{panel:{background:"{surface.900}",borderColor:"{surface.700}"},handle:{color:"{surface.0}"}}},s$7={root:r$15,preview:o$18,panel:e$K,colorScheme:a$A},o$17={size:"2rem",color:"{overlay.modal.color}"},e$J={gap:"1rem"},r$14={icon:o$17,content:e$J},o$16={background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},r$13={padding:"{overlay.popover.padding}",gap:"1rem"},e$I={size:"1.5rem",color:"{overlay.popover.color}"},p$2={gap:"0.5rem",padding:"0 {overlay.popover.padding} {overlay.popover.padding} {overlay.popover.padding}"},a$z={root:o$16,content:r$13,icon:e$I,footer:p$2},o$15={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},i$k={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},n$z={focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},a$y={mobileIndent:"1rem"},t$y={size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},r$12={borderColor:"{content.border.color}"},c$k={root:o$15,list:i$k,item:n$z,submenu:a$y,submenuIcon:t$y,separator:r$12},o$14={transitionDuration:"{transition.duration}"},r$11={background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},e$H={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{datatable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},d$s={fontWeight:"600"},t$x={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},l$e={borderColor:"{datatable.border.color}",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},c$j={background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},n$y={fontWeight:"600"},a$x={background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",sm:{padding:"0.375rem 0.5rem"},lg:{padding:"1rem 1.25rem"}},i$j={color:"{primary.color}"},s$6={width:"0.5rem"},g$4={width:"1px",color:"{primary.color}"},u$5={color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},b$3={size:"2rem"},p$1={hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},m$2={inlineGap:"0.5rem",overlaySelect:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},overlayPopover:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}",gap:"0.5rem"},rule:{borderColor:"{content.border.color}"},constraintList:{padding:"{list.padding}",gap:"{list.gap}"},constraint:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",separator:{borderColor:"{content.border.color}"},padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"}},h$3={borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},f$7={borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},v$1={light:{root:{borderColor:"{content.border.color}"},row:{stripedBackground:"{surface.50}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},row:{stripedBackground:"{surface.950}"},bodyCell:{selectedBorderColor:"{primary.900}"}}},k$2={root:o$14,header:r$11,headerCell:e$H,columnTitle:d$s,row:t$x,bodyCell:l$e,footerCell:c$j,columnFooter:n$y,footer:a$x,dropPoint:i$j,columnResizer:s$6,resizeIndicator:g$4,sortIcon:u$5,loadingIcon:b$3,rowToggleButton:p$1,filter:m$2,paginatorTop:h$3,paginatorBottom:f$7,colorScheme:v$1},o$13={borderColor:"transparent",borderWidth:"0",borderRadius:"0",padding:"0"},r$10={background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",borderRadius:"0"},d$r={background:"{content.background}",color:"{content.color}",borderColor:"transparent",borderWidth:"0",padding:"0",borderRadius:"0"},e$G={background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"1px 0 0 0",padding:"0.75rem 1rem",borderRadius:"0"},t$w={borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},n$x={borderColor:"{content.border.color}",borderWidth:"1px 0 0 0"},c$i={root:o$13,header:r$10,content:d$r,footer:e$G,paginatorTop:t$w,paginatorBottom:n$x},o$12={transitionDuration:"{transition.duration}"},r$$={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}"},e$F={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",padding:"0 0 0.5rem 0"},c$h={gap:"0.5rem",fontWeight:"500"},d$q={width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},n$w={color:"{form.field.icon.color}"},t$v={hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},a$w={hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},i$i={borderColor:"{content.border.color}",gap:"{overlay.popover.padding}"},l$d={margin:"0.5rem 0 0 0"},u$4={padding:"0.25rem",fontWeight:"500",color:"{content.color}"},s$5={hoverBackground:"{content.hover.background}",selectedBackground:"{primary.color}",rangeSelectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{primary.contrast.color}",rangeSelectedColor:"{highlight.color}",width:"2rem",height:"2rem",borderRadius:"50%",padding:"0.25rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},g$3={margin:"0.5rem 0 0 0"},f$6={padding:"0.375rem",borderRadius:"{content.border.radius}"},h$2={margin:"0.5rem 0 0 0"},b$2={padding:"0.375rem",borderRadius:"{content.border.radius}"},m$1={padding:"0.5rem 0 0 0",borderColor:"{content.border.color}"},p={padding:"0.5rem 0 0 0",borderColor:"{content.border.color}",gap:"0.5rem",buttonGap:"0.25rem"},v={light:{dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"},today:{background:"{surface.200}",color:"{surface.900}"}},dark:{dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"},today:{background:"{surface.700}",color:"{surface.0}"}}},k$1={root:o$12,panel:r$$,header:e$F,title:c$h,dropdown:d$q,inputIcon:n$w,selectMonth:t$v,selectYear:a$w,group:i$i,dayView:l$d,weekDay:u$4,date:s$5,monthView:g$3,month:f$6,yearView:h$2,year:b$2,buttonbar:m$1,timePicker:p,colorScheme:v},o$11={background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",borderRadius:"{overlay.modal.border.radius}",shadow:"{overlay.modal.shadow}"},a$v={padding:"{overlay.modal.padding}",gap:"0.5rem"},d$p={fontSize:"1.25rem",fontWeight:"600"},r$_={padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},l$c={padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}",gap:"0.5rem"},e$E={root:o$11,header:a$v,title:d$p,content:r$_,footer:l$c},r$Z={borderColor:"{content.border.color}"},o$10={background:"{content.background}",color:"{text.color}"},n$v={margin:"1rem 0",padding:"0 1rem",content:{padding:"0 0.5rem"}},e$D={margin:"0 1rem",padding:"0.5rem 0",content:{padding:"0.5rem 0"}},t$u={root:r$Z,content:o$10,horizontal:n$v,vertical:e$D},r$Y={background:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.2)",padding:"0.5rem",borderRadius:"{border.radius.xl}"},o$$={borderRadius:"{content.border.radius}",padding:"0.5rem",size:"3rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},d$o={root:r$Y,item:o$$},o$_={background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",shadow:"{overlay.modal.shadow}"},a$u={padding:"{overlay.modal.padding}"},d$n={fontSize:"1.5rem",fontWeight:"600"},r$X={padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},l$b={padding:"{overlay.modal.padding}"},e$C={root:o$_,header:a$u,title:d$n,content:r$X,footer:l$b},o$Z={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}"},r$W={color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},e$B={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}",padding:"{list.padding}"},t$t={focusBackground:"{list.option.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},d$m={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},l$a={toolbar:o$Z,toolbarItem:r$W,overlay:e$B,overlayOption:t$t,content:d$m},o$Y={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",padding:"0 1.125rem 1.125rem 1.125rem",transitionDuration:"{transition.duration}"},r$V={background:"{content.background}",hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",borderRadius:"{content.border.radius}",borderWidth:"1px",borderColor:"transparent",padding:"0.5rem 0.75rem",gap:"0.5rem",fontWeight:"600",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},t$s={color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}"},n$u={padding:"0"},e$A={root:o$Y,legend:r$V,toggleIcon:t$s,content:n$u},r$U={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},o$X={background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"unset",borderWidth:"0",borderRadius:"0",gap:"0.5rem"},e$z={highlightBorderColor:"{primary.color}",padding:"0 1.125rem 1.125rem 1.125rem",gap:"1rem"},t$r={padding:"1rem",gap:"1rem",borderColor:"{content.border.color}",info:{gap:"0.5rem"}},a$t={gap:"0.5rem"},n$t={height:"0.25rem"},d$l={gap:"0.5rem"},i$h={root:r$U,header:o$X,content:e$z,file:t$r,fileList:a$t,progressbar:n$t,basic:d$l},o$W={color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",activeColor:"{form.field.float.label.active.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",positionY:"{form.field.padding.y}",fontWeight:"500",active:{fontSize:"0.75rem",fontWeight:"400"}},i$g={active:{top:"-1.25rem"}},r$T={input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"},active:{top:"{form.field.padding.y}"}},a$s={borderRadius:"{border.radius.xs}",active:{background:"{form.field.background}",padding:"0 0.125rem"}},d$k={root:o$W,over:i$g,in:r$T,on:a$s},o$V={borderWidth:"1px",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},r$S={background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.100}",hoverColor:"{surface.0}",size:"3rem",gutter:"0.5rem",prev:{borderRadius:"50%"},next:{borderRadius:"50%"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},e$y={size:"1.5rem"},t$q={background:"{content.background}",padding:"1rem 0.25rem"},c$g={size:"2rem",borderRadius:"{content.border.radius}",gutter:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},n$s={size:"1rem"},a$r={background:"rgba(0, 0, 0, 0.5)",color:"{surface.100}",padding:"1rem"},s$4={gap:"0.5rem",padding:"1rem"},u$3={width:"1rem",height:"1rem",activeBackground:"{primary.color}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},i$f={background:"rgba(0, 0, 0, 0.5)"},d$j={background:"rgba(255, 255, 255, 0.4)",hoverBackground:"rgba(255, 255, 255, 0.6)",activeBackground:"rgba(255, 255, 255, 0.9)"},g$2={size:"3rem",gutter:"0.5rem",background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.50}",hoverColor:"{surface.0}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},f$5={size:"1.5rem"},h$1={light:{thumbnailNavButton:{hoverBackground:"{surface.100}",color:"{surface.600}",hoverColor:"{surface.700}"},indicatorButton:{background:"{surface.200}",hoverBackground:"{surface.300}"}},dark:{thumbnailNavButton:{hoverBackground:"{surface.700}",color:"{surface.400}",hoverColor:"{surface.0}"},indicatorButton:{background:"{surface.700}",hoverBackground:"{surface.600}"}}},l$9={root:o$V,navButton:r$S,navIcon:e$y,thumbnailsContent:t$q,thumbnailNavButton:c$g,thumbnailNavButtonIcon:n$s,caption:a$r,indicatorList:s$4,indicatorButton:u$3,insetIndicatorList:i$f,insetIndicatorButton:d$j,closeButton:g$2,closeButtonIcon:f$5,colorScheme:h$1},o$U={color:"{form.field.icon.color}"},r$R={icon:o$U},o$T={color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",top:"{form.field.padding.y}",fontSize:"0.75rem",fontWeight:"400"},l$8={paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"},i$e={root:o$T,input:l$8},o$S={transitionDuration:"{transition.duration}"},r$Q={icon:{size:"1.5rem"},mask:{background:"{mask.background}",color:"{mask.color}"}},a$q={position:{left:"auto",right:"1rem",top:"1rem",bottom:"auto"},blur:"8px",background:"rgba(255,255,255,0.1)",borderColor:"rgba(255,255,255,0.2)",borderWidth:"1px",borderRadius:"30px",padding:".5rem",gap:"0.5rem"},i$d={hoverBackground:"rgba(255,255,255,0.1)",color:"{surface.50}",hoverColor:"{surface.0}",size:"3rem",iconSize:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},e$x={root:o$S,preview:r$Q,toolbar:a$q,action:i$d},o$R={size:"15px",hoverSize:"30px",background:"rgba(255,255,255,0.3)",hoverBackground:"rgba(255,255,255,0.3)",borderColor:"unset",hoverBorderColor:"unset",borderWidth:"0",borderRadius:"50%",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"rgba(255,255,255,0.3)",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},r$P={handle:o$R},r$O={padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",gap:"0.5rem"},o$Q={fontWeight:"500"},e$w={size:"1rem"},n$r={light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}}},a$p={root:r$O,text:o$Q,icon:e$w,colorScheme:n$r},o$P={padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{transition.duration}"},r$N={hoverBackground:"{content.hover.background}",hoverColor:"{content.hover.color}"},n$q={root:o$P,display:r$N},o$O={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},r$M={borderRadius:"{border.radius.sm}"},d$i={light:{chip:{focusBackground:"{surface.200}",color:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",color:"{surface.0}"}}},f$4={root:o$O,chip:r$M,colorScheme:d$i},r$L={background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.icon.color}",borderRadius:"{form.field.border.radius}",padding:"0.5rem",minWidth:"2.5rem"},o$N={addon:r$L},r$K={transitionDuration:"{transition.duration}"},o$M={width:"2.5rem",borderRadius:"{form.field.border.radius}",verticalPadding:"{form.field.padding.y}"},e$v={light:{button:{background:"transparent",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.500}",activeColor:"{surface.600}"}},dark:{button:{background:"transparent",hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.300}",activeColor:"{surface.200}"}}},a$o={root:r$K,button:o$M,colorScheme:e$v},r$J={gap:"0.5rem"},t$p={width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"}},e$u={root:r$J,input:t$p},o$L={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},d$h={root:o$L},o$K={transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},r$I={background:"{primary.color}"},t$o={background:"{content.border.color}"},n$p={color:"{text.muted.color}"},c$f={root:o$K,value:r$I,range:t$o,text:n$p},o$J={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",borderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",shadow:"{form.field.shadow}",borderRadius:"{form.field.border.radius}",transitionDuration:"{form.field.transition.duration}"},r$H={padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},d$g={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},i$c={background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},t$n={color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},e$t={padding:"{list.option.padding}"},l$7={light:{option:{stripedBackground:"{surface.50}"}},dark:{option:{stripedBackground:"{surface.900}"}}},n$o={root:o$J,list:r$H,option:d$g,optionGroup:i$c,checkmark:t$n,emptyMessage:e$t,colorScheme:l$7},o$I={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",verticalOrientation:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},horizontalOrientation:{padding:"0.5rem 0.75rem",gap:"0.5rem"},transitionDuration:"{transition.duration}"},n$n={borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},i$b={focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},a$n={padding:"0",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",shadow:"{overlay.navigation.shadow}",gap:"0.5rem"},r$G={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},t$m={padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background}",color:"{navigation.submenu.label.color}"},e$s={size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},c$e={borderColor:"{content.border.color}"},d$f={borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},g$1={root:o$I,baseItem:n$n,item:i$b,overlay:a$n,submenu:r$G,submenuLabel:t$m,submenuIcon:e$s,separator:c$e,mobileButton:d$f},o$H={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},n$m={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},a$m={focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},i$a={padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background}",color:"{navigation.submenu.label.color}"},t$l={borderColor:"{content.border.color}"},r$F={root:o$H,list:n$m,item:a$m,submenuLabel:i$a,separator:t$l},o$G={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.5rem 0.75rem",transitionDuration:"{transition.duration}"},i$9={borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},n$l={focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},r$E={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",mobileIndent:"1rem",icon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"}},a$l={borderColor:"{content.border.color}"},t$k={borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},e$r={root:o$G,baseItem:i$9,item:n$l,submenu:r$E,separator:a$l,mobileButton:t$k},o$F={borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},r$D={padding:"0.5rem 0.75rem",gap:"0.5rem",sm:{padding:"0.375rem 0.625rem"},lg:{padding:"0.625rem 0.875rem"}},e$q={fontSize:"1rem",fontWeight:"500",sm:{fontSize:"0.875rem"},lg:{fontSize:"1.125rem"}},n$k={size:"1.125rem",sm:{size:"1rem"},lg:{size:"1.25rem"}},l$6={width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},s$3={size:"1rem",sm:{size:"0.875rem"},lg:{size:"1.125rem"}},c$d={root:{borderWidth:"1px"}},a$k={content:{padding:"0"}},d$e={light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}},outlined:{color:"{blue.600}",borderColor:"{blue.600}"},simple:{color:"{blue.600}"}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}},outlined:{color:"{green.600}",borderColor:"{green.600}"},simple:{color:"{green.600}"}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}},outlined:{color:"{yellow.600}",borderColor:"{yellow.600}"},simple:{color:"{yellow.600}"}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}},outlined:{color:"{red.600}",borderColor:"{red.600}"},simple:{color:"{red.600}"}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}},outlined:{color:"{surface.500}",borderColor:"{surface.500}"},simple:{color:"{surface.500}"}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}},outlined:{color:"{surface.950}",borderColor:"{surface.950}"},simple:{color:"{surface.950}"}}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}},outlined:{color:"{blue.500}",borderColor:"{blue.500}"},simple:{color:"{blue.500}"}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}},outlined:{color:"{green.500}",borderColor:"{green.500}"},simple:{color:"{green.500}"}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}},outlined:{color:"{yellow.500}",borderColor:"{yellow.500}"},simple:{color:"{yellow.500}"}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}},outlined:{color:"{red.500}",borderColor:"{red.500}"},simple:{color:"{red.500}"}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}},outlined:{color:"{surface.400}",borderColor:"{surface.400}"},simple:{color:"{surface.400}"}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}},outlined:{color:"{surface.0}",borderColor:"{surface.0}"},simple:{color:"{surface.0}"}}}},u$2={root:o$F,content:r$D,text:e$q,icon:n$k,closeButton:l$6,closeIcon:s$3,outlined:c$d,simple:a$k,colorScheme:d$e},e$p={borderRadius:"{content.border.radius}",gap:"1rem"},r$C={background:"{content.border.color}",size:"0.5rem"},a$j={gap:"0.5rem"},o$E={size:"0.5rem"},l$5={size:"1rem"},t$j={verticalGap:"0.5rem",horizontalGap:"1rem"},b$1={root:e$p,meters:r$C,label:a$j,labelMarker:o$E,labelIcon:l$5,labelList:t$j},o$D={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},d$d={width:"2.5rem",color:"{form.field.icon.color}"},r$B={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},l$4={padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},i$8={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",gap:"0.5rem"},e$o={background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},f$3={color:"{form.field.icon.color}"},a$i={borderRadius:"{border.radius.sm}"},c$c={padding:"{list.option.padding}"},n$j={root:o$D,dropdown:d$d,overlay:r$B,list:l$4,option:i$8,optionGroup:e$o,chip:a$i,clearIcon:f$3,emptyMessage:c$c},r$A={gap:"1.125rem"},a$h={gap:"0.5rem"},o$C={root:r$A,controls:a$h},o$B={gutter:"0.75rem",transitionDuration:"{transition.duration}"},r$z={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{content.border.color}",color:"{content.color}",selectedColor:"{highlight.color}",hoverColor:"{content.hover.color}",padding:"0.75rem 1rem",toggleablePadding:"0.75rem 1rem 1.25rem 1rem",borderRadius:"{content.border.radius}"},e$n={background:"{content.background}",hoverBackground:"{content.hover.background}",borderColor:"{content.border.color}",color:"{text.muted.color}",hoverColor:"{text.color}",size:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},t$i={color:"{content.border.color}",borderRadius:"{content.border.radius}",height:"24px"},n$i={root:o$B,node:r$z,nodeToggleButton:e$n,connector:t$i},o$A={outline:{width:"2px",color:"{content.background}"}},t$h={root:o$A},o$z={padding:"0.5rem 1rem",gap:"0.25rem",borderRadius:"{content.border.radius}",background:"{content.background}",color:"{content.color}",transitionDuration:"{transition.duration}"},r$y={background:"transparent",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}",width:"2.5rem",height:"2.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},t$g={color:"{text.muted.color}"},e$m={maxWidth:"2.5rem"},n$h={root:o$z,navButton:r$y,currentPageReport:t$g,jumpToPageInput:e$m},r$x={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},o$y={background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"{content.border.color}",borderWidth:"0",borderRadius:"0"},e$l={padding:"0.375rem 1.125rem"},d$c={fontWeight:"600"},t$f={padding:"0 1.125rem 1.125rem 1.125rem"},n$g={padding:"0 1.125rem 1.125rem 1.125rem"},a$g={root:r$x,header:o$y,toggleableHeader:e$l,title:d$c,content:t$f,footer:n$g},o$x={gap:"0.5rem",transitionDuration:"{transition.duration}"},r$w={background:"{content.background}",borderColor:"{content.border.color}",borderWidth:"1px",color:"{content.color}",padding:"0.25rem 0.25rem",borderRadius:"{content.border.radius}",first:{borderWidth:"1px",topBorderRadius:"{content.border.radius}"},last:{borderWidth:"1px",bottomBorderRadius:"{content.border.radius}"}},n$f={focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",gap:"0.5rem",padding:"{navigation.item.padding}",borderRadius:"{content.border.radius}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},i$7={indent:"1rem"},t$e={color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}"},a$f={root:o$x,panel:r$w,item:n$f,submenu:i$7,submenuIcon:t$e},r$v={background:"{content.border.color}",borderRadius:"{content.border.radius}",height:".75rem"},o$w={color:"{form.field.icon.color}"},e$k={background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",padding:"{overlay.popover.padding}",shadow:"{overlay.popover.shadow}"},a$e={gap:"0.5rem"},d$b={light:{strength:{weakBackground:"{red.500}",mediumBackground:"{amber.500}",strongBackground:"{green.500}"}},dark:{strength:{weakBackground:"{red.400}",mediumBackground:"{amber.400}",strongBackground:"{green.400}"}}},n$e={meter:r$v,icon:o$w,overlay:e$k,content:a$e,colorScheme:d$b},r$u={gap:"1.125rem"},a$d={gap:"0.5rem"},o$v={root:r$u,controls:a$d},o$u={background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},r$t={padding:"{overlay.popover.padding}"},e$j={root:o$u,content:r$t},r$s={background:"{content.border.color}",borderRadius:"{content.border.radius}",height:"1.25rem"},o$t={background:"{primary.color}"},e$i={color:"{primary.contrast.color}",fontSize:"0.75rem",fontWeight:"600"},t$d={root:r$s,value:o$t,label:e$i},o$s={light:{root:{colorOne:"{red.500}",colorTwo:"{blue.500}",colorThree:"{green.500}",colorFour:"{yellow.500}"}},dark:{root:{colorOne:"{red.400}",colorTwo:"{blue.400}",colorThree:"{green.400}",colorFour:"{yellow.400}"}}},r$r={colorScheme:o$s},o$r={width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},r$q={size:"0.75rem",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.5rem"},lg:{size:"1rem"}},e$h={root:o$r,icon:r$q},o$q={gap:"0.25rem",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},r$p={size:"1rem",color:"{text.muted.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"},i$6={root:o$q,icon:r$p},r$o={light:{root:{background:"rgba(0,0,0,0.1)"}},dark:{root:{background:"rgba(255,255,255,0.3)"}}},o$p={colorScheme:r$o},r$n={transitionDuration:"{transition.duration}"},o$o={size:"9px",borderRadius:"{border.radius.sm}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},s$2={light:{bar:{background:"{surface.100}"}},dark:{bar:{background:"{surface.800}"}}},a$c={root:r$n,bar:o$o,colorScheme:s$2},o$n={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},r$m={width:"2.5rem",color:"{form.field.icon.color}"},d$a={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},l$3={padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},i$5={focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},e$g={background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},f$2={color:"{form.field.icon.color}"},c$b={color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},a$b={padding:"{list.option.padding}"},n$d={root:o$n,dropdown:r$m,overlay:d$a,list:l$3,option:i$5,optionGroup:e$g,clearIcon:f$2,checkmark:c$b,emptyMessage:a$b},r$l={borderRadius:"{form.field.border.radius}"},o$m={light:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}},dark:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}}},d$9={root:r$l,colorScheme:o$m},r$k={borderRadius:"{content.border.radius}"},a$a={light:{root:{background:"{surface.200}",animationBackground:"rgba(255,255,255,0.4)"}},dark:{root:{background:"rgba(255, 255, 255, 0.06)",animationBackground:"rgba(255, 255, 255, 0.04)"}}},o$l={root:r$k,colorScheme:a$a},o$k={transitionDuration:"{transition.duration}"},r$j={background:"{content.border.color}",borderRadius:"{content.border.radius}",size:"3px"},n$c={background:"{primary.color}"},t$c={width:"20px",height:"20px",borderRadius:"50%",background:"{content.border.color}",hoverBackground:"{content.border.color}",content:{borderRadius:"50%",hoverBackground:"{content.background}",width:"16px",height:"16px",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.08), 0px 1px 1px 0px rgba(0, 0, 0, 0.14)"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},e$f={light:{handle:{content:{background:"{surface.0}"}}},dark:{handle:{content:{background:"{surface.950}"}}}},a$9={root:o$k,track:r$j,range:n$c,handle:t$c,colorScheme:e$f},t$b={gap:"0.5rem",transitionDuration:"{transition.duration}"},a$8={root:t$b},r$i={borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"},d$8={root:r$i},o$j={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",transitionDuration:"{transition.duration}"},r$h={background:"{content.border.color}"},n$b={size:"24px",background:"transparent",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},t$a={root:o$j,gutter:r$h,handle:n$b},o$i={transitionDuration:"{transition.duration}"},r$g={background:"{content.border.color}",activeBackground:"{primary.color}",margin:"0 0 0 1.625rem",size:"2px"},e$e={padding:"0.5rem",gap:"1rem"},t$9={padding:"0",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},n$a={color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},a$7={background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"},c$a={padding:"0.875rem 0.5rem 1.125rem 0.5rem"},d$7={background:"{content.background}",color:"{content.color}",padding:"0",indent:"1rem"},i$4={root:o$i,separator:r$g,step:e$e,stepHeader:t$9,stepTitle:n$a,stepNumber:a$7,steppanels:c$a,steppanel:d$7},o$h={transitionDuration:"{transition.duration}"},r$f={background:"{content.border.color}"},t$8={borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},e$d={color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},n$9={background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"},c$9={root:o$h,separator:r$f,itemLink:t$8,itemLabel:e$d,itemNumber:n$9},o$g={transitionDuration:"{transition.duration}"},r$e={borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},t$7={background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},e$c={color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},c$8={height:"1px",bottom:"-1px",background:"{primary.color}"},n$8={root:o$g,tablist:r$e,item:t$7,itemIcon:e$c,activeBar:c$8},o$f={transitionDuration:"{transition.duration}"},r$d={borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},t$6={background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},n$7={background:"{content.background}",color:"{content.color}",padding:"0.875rem 1.125rem 1.125rem 1.125rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"}},c$7={background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",width:"2.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},e$b={height:"1px",bottom:"-1px",background:"{primary.color}"},a$6={light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}},i$3={root:o$f,tablist:r$d,tab:t$6,tabpanel:n$7,navButton:c$7,activeBar:e$b,colorScheme:a$6},o$e={transitionDuration:"{transition.duration}"},r$c={background:"{content.background}",borderColor:"{content.border.color}"},t$5={borderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},n$6={background:"{content.background}",color:"{content.color}"},a$5={background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}"},c$6={light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}},e$a={root:o$e,tabList:r$c,tab:t$5,tabPanel:n$6,navButton:a$5,colorScheme:c$6},r$b={fontSize:"0.875rem",fontWeight:"700",padding:"0.25rem 0.5rem",gap:"0.25rem",borderRadius:"{content.border.radius}",roundedBorderRadius:"{border.radius.xl}"},o$d={size:"0.75rem"},a$4={light:{primary:{background:"{primary.100}",color:"{primary.700}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.100}",color:"{green.700}"},info:{background:"{sky.100}",color:"{sky.700}"},warn:{background:"{orange.100}",color:"{orange.700}"},danger:{background:"{red.100}",color:"{red.700}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"color-mix(in srgb, {primary.500}, transparent 84%)",color:"{primary.300}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",color:"{green.300}"},info:{background:"color-mix(in srgb, {sky.500}, transparent 84%)",color:"{sky.300}"},warn:{background:"color-mix(in srgb, {orange.500}, transparent 84%)",color:"{orange.300}"},danger:{background:"color-mix(in srgb, {red.500}, transparent 84%)",color:"{red.300}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}},n$5={root:r$b,icon:o$d,colorScheme:a$4},r$a={background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.color}",height:"18rem",padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{form.field.border.radius}"},o$c={gap:"0.25rem"},d$6={margin:"2px 0"},e$9={root:r$a,prompt:o$c,commandResponse:d$6},o$b={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},d$5={root:o$b},o$a={background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},i$2={padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},n$4={focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},a$3={mobileIndent:"1rem"},t$4={size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},r$9={borderColor:"{content.border.color}"},c$5={root:o$a,list:i$2,item:n$4,submenu:a$3,submenuIcon:t$4,separator:r$9},e$8={minHeight:"5rem"},r$8={eventContent:{padding:"1rem 0"}},o$9={eventContent:{padding:"0 1rem"}},n$3={size:"1.125rem",borderRadius:"50%",borderWidth:"2px",background:"{content.background}",borderColor:"{content.border.color}",content:{borderRadius:"50%",size:"0.375rem",background:"{primary.color}",insetShadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}},t$3={color:"{content.border.color}",size:"2px"},d$4={event:e$8,horizontal:r$8,vertical:o$9,eventMarker:n$3,eventConnector:t$3},o$8={width:"25rem",borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},r$7={size:"1.125rem"},e$7={padding:"{overlay.popover.padding}",gap:"0.5rem"},n$2={gap:"0.5rem"},a$2={fontWeight:"500",fontSize:"1rem"},s$1={fontWeight:"500",fontSize:"0.875rem"},c$4={width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},l$2={size:"1rem"},t$2={light:{root:{blur:"1.5px"},info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}}}},dark:{root:{blur:"10px"},info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",detailColor:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}}}}},u$1={root:o$8,icon:r$7,content:e$7,text:n$2,summary:a$2,detail:s$1,closeButton:c$4,closeIcon:l$2,colorScheme:t$2},r$6={padding:"0.25rem",borderRadius:"{content.border.radius}",gap:"0.5rem",fontWeight:"500",disabledBackground:"{form.field.disabled.background}",disabledBorderColor:"{form.field.disabled.background}",disabledColor:"{form.field.disabled.color}",invalidBorderColor:"{form.field.invalid.border.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",padding:"0.25rem"},lg:{fontSize:"{form.field.lg.font.size}",padding:"0.25rem"}},o$7={disabledColor:"{form.field.disabled.color}"},e$6={padding:"0.25rem 0.75rem",borderRadius:"{content.border.radius}",checkedShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.02), 0px 1px 2px 0px rgba(0, 0, 0, 0.04)",sm:{padding:"0.25rem 0.75rem"},lg:{padding:"0.25rem 0.75rem"}},d$3={light:{root:{background:"{surface.100}",checkedBackground:"{surface.100}",hoverBackground:"{surface.100}",borderColor:"{surface.100}",color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}",checkedBorderColor:"{surface.100}"},content:{checkedBackground:"{surface.0}"},icon:{color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}"}},dark:{root:{background:"{surface.950}",checkedBackground:"{surface.950}",hoverBackground:"{surface.950}",borderColor:"{surface.950}",color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}",checkedBorderColor:"{surface.950}"},content:{checkedBackground:"{surface.800}"},icon:{color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}"}}},c$3={root:r$6,icon:o$7,content:e$6,colorScheme:d$3},r$5={width:"2.5rem",height:"1.5rem",borderRadius:"30px",gap:"0.25rem",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},borderWidth:"1px",borderColor:"transparent",hoverBorderColor:"transparent",checkedBorderColor:"transparent",checkedHoverBorderColor:"transparent",invalidBorderColor:"{form.field.invalid.border.color}",transitionDuration:"{form.field.transition.duration}",slideDuration:"0.2s"},o$6={borderRadius:"50%",size:"1rem"},e$5={light:{root:{background:"{surface.300}",disabledBackground:"{form.field.disabled.background}",hoverBackground:"{surface.400}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.0}",disabledBackground:"{form.field.disabled.color}",hoverBackground:"{surface.0}",checkedBackground:"{surface.0}",checkedHoverBackground:"{surface.0}",color:"{text.muted.color}",hoverColor:"{text.color}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}},dark:{root:{background:"{surface.700}",disabledBackground:"{surface.600}",hoverBackground:"{surface.600}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.400}",disabledBackground:"{surface.900}",hoverBackground:"{surface.300}",checkedBackground:"{surface.900}",checkedHoverBackground:"{surface.900}",color:"{surface.900}",hoverColor:"{surface.800}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}}},c$2={root:r$5,handle:o$6,colorScheme:e$5},o$5={background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.75rem"},r$4={root:o$5},r$3={maxWidth:"12.5rem",gutter:"0.25rem",shadow:"{overlay.popover.shadow}",padding:"0.5rem 0.75rem",borderRadius:"{overlay.popover.border.radius}"},o$4={light:{root:{background:"{surface.700}",color:"{surface.0}"}},dark:{root:{background:"{surface.700}",color:"{surface.0}"}}},e$4={root:r$3,colorScheme:o$4},o$3={background:"{content.background}",color:"{content.color}",padding:"1rem",gap:"2px",indent:"1rem",transitionDuration:"{transition.duration}"},r$2={padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.color}",hoverColor:"{text.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},gap:"0.25rem"},e$3={color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}"},t$1={borderRadius:"50%",size:"1.75rem",hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedHoverColor:"{primary.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},c$1={size:"2rem"},n$1={margin:"0 0 0.5rem 0"},d$2={root:o$3,node:r$2,nodeIcon:e$3,nodeToggleButton:t$1,loadingIcon:c$1,filter:n$1},o$2={background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},r$1={width:"2.5rem",color:"{form.field.icon.color}"},d$1={background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},l$1={padding:"{list.padding}"},e$2={padding:"{list.option.padding}"},i$1={borderRadius:"{border.radius.sm}"},f$1={color:"{form.field.icon.color}"},a$1={root:o$2,dropdown:r$1,overlay:d$1,tree:l$1,emptyMessage:e$2,chip:i$1,clearIcon:f$1},o$1={transitionDuration:"{transition.duration}"},r={background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},e$1={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{treetable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},t={fontWeight:"600"},c={background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},n={borderColor:"{treetable.border.color}",padding:"0.75rem 1rem",gap:"0.5rem"},d={background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},l={fontWeight:"600"},i={background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},a={width:"0.5rem"},g={width:"1px",color:"{primary.color}"},s={color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},u={size:"2rem"},h={hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},b={borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},f={borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},m={light:{root:{borderColor:"{content.border.color}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},bodyCell:{selectedBorderColor:"{primary.900}"}}},k={root:o$1,header:r,headerCell:e$1,columnTitle:t,row:c,bodyCell:n,footerCell:d,columnFooter:l,footer:i,columnResizer:a,resizeIndicator:g,sortIcon:s,loadingIcon:u,nodeToggleButton:h,paginatorTop:b,paginatorBottom:f,colorScheme:m},o={mask:{background:"{content.background}",color:"{text.muted.color}"},icon:{size:"2rem"}},e={loader:o};function _typeof(x){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},_typeof(x)}function ownKeys(x,y){var B=Object.keys(x);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(x);y&&(S=S.filter(function(V){return Object.getOwnPropertyDescriptor(x,V).enumerable})),B.push.apply(B,S)}return B}function _objectSpread(x){for(var y=1;y<arguments.length;y++){var B=arguments[y]!=null?arguments[y]:{};y%2?ownKeys(Object(B),!0).forEach(function(S){_defineProperty(x,S,B[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(B)):ownKeys(Object(B)).forEach(function(S){Object.defineProperty(x,S,Object.getOwnPropertyDescriptor(B,S))})}return x}function _defineProperty(x,y,B){return(y=_toPropertyKey(y))in x?Object.defineProperty(x,y,{value:B,enumerable:!0,configurable:!0,writable:!0}):x[y]=B,x}function _toPropertyKey(x){var y=_toPrimitive(x,"string");return _typeof(y)=="symbol"?y:y+""}function _toPrimitive(x,y){if(_typeof(x)!="object"||!x)return x;var B=x[Symbol.toPrimitive];if(B!==void 0){var S=B.call(x,y);if(_typeof(S)!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(x)}var index=_objectSpread(_objectSpread({},e$Q),{},{components:{accordion:c$p,autocomplete:a$E,avatar:n$B,badge:d$v,blockui:o$1g,breadcrumb:t$B,button:e$P,datepicker:k$1,card:d$u,carousel:t$z,cascadeselect:f$8,checkbox:e$M,chip:s$8,colorpicker:s$7,confirmdialog:r$14,confirmpopup:a$z,contextmenu:c$k,dataview:c$i,datatable:k$2,dialog:e$E,divider:t$u,dock:d$o,drawer:e$C,editor:l$a,fieldset:e$A,fileupload:i$h,iftalabel:i$e,floatlabel:d$k,galleria:l$9,iconfield:r$R,image:e$x,imagecompare:r$P,inlinemessage:a$p,inplace:n$q,inputchips:f$4,inputgroup:o$N,inputnumber:a$o,inputotp:e$u,inputtext:d$h,knob:c$f,listbox:n$o,megamenu:g$1,menu:r$F,menubar:e$r,message:u$2,metergroup:b$1,multiselect:n$j,orderlist:o$C,organizationchart:n$i,overlaybadge:t$h,popover:e$j,paginator:n$h,password:n$e,panel:a$g,panelmenu:a$f,picklist:o$v,progressbar:t$d,progressspinner:r$r,radiobutton:e$h,rating:i$6,ripple:o$p,scrollpanel:a$c,select:n$d,selectbutton:d$9,skeleton:o$l,slider:a$9,speeddial:a$8,splitter:t$a,splitbutton:d$8,stepper:i$4,steps:c$9,tabmenu:n$8,tabs:i$3,tabview:e$a,textarea:d$5,tieredmenu:c$5,tag:n$5,terminal:e$9,timeline:d$4,togglebutton:c$3,toggleswitch:c$2,tree:d$2,treeselect:a$1,treetable:k,toast:u$1,toolbar:r$4,tooltip:e$4,virtualscroller:e}});class ValidationService{static validateFormData(y,B){if(!B||!B.properties)return{isValid:!0,errors:{}};const S={};return Object.entries(B.properties).forEach(([V,C])=>{const P=y[V],E=this.validateField(V,P,C);E.isValid||(S[V]=E.error)}),{isValid:Object.keys(S).length===0,errors:S}}static validateField(y,B,S){if(S.required&&!this.hasValue(B))return{isValid:!1,error:`${this.formatLabel(y)} is required`};if(!this.hasValue(B))return{isValid:!0};switch(S.type){case"email":return this.validateEmail(B,y);case"url":return this.validateUrl(B,y);case"phone_number":return this.validatePhone(B,y);case"number":return this.validateNumber(B,S,y);case"select":return this.validateSelect(B,S,y);case"multi_select":return this.validateMultiSelect(B,S,y);case"date":return this.validateDate(B,y);case"checkbox":return this.validateCheckbox(B,y);case"rich_text":case"title":return this.validateText(B,S,y);default:return{isValid:!0}}}static hasValue(y){return y==null?!1:typeof y=="string"?y.trim().length>0:Array.isArray(y)?y.length>0:!0}static validateEmail(y,B){return this.PATTERNS.email.test(y)?{isValid:!0}:{isValid:!1,error:"Please enter a valid email address"}}static validateUrl(y,B){try{return new URL(y),{isValid:!0}}catch{if(!y.startsWith("http://")&&!y.startsWith("https://"))return{isValid:!1,error:"Please enter a valid URL (include http:// or https://)"}}return{isValid:!0}}static validatePhone(y,B){const S=y.replace(/[\s\-()]/g,"");return this.PATTERNS.phoneClean.test(S)?{isValid:!0}:{isValid:!1,error:"Please enter a valid phone number"}}static validateNumber(y,B,S){var C,P;const V=Number(y);return isNaN(V)?{isValid:!1,error:`${this.formatLabel(S)} must be a valid number`}:((C=B.number)==null?void 0:C.minimum)!==void 0&&V<B.number.minimum?{isValid:!1,error:`${this.formatLabel(S)} must be at least ${B.number.minimum}`}:((P=B.number)==null?void 0:P.maximum)!==void 0&&V>B.number.maximum?{isValid:!1,error:`${this.formatLabel(S)} must be at most ${B.number.maximum}`}:{isValid:!0}}static validateSelect(y,B,S){return!B.options||B.options.length===0?{isValid:!0}:B.options.map(C=>C.value||C.name).includes(y)?{isValid:!0}:{isValid:!1,error:`${this.formatLabel(S)} must be one of the available options`}}static validateMultiSelect(y,B,S){if(!Array.isArray(y))return{isValid:!1,error:`${this.formatLabel(S)} must be a list of options`};const V=(S||"").toLowerCase();if(V==="images"||V==="image")return y.filter(D=>typeof D!="string"||!D.trim()).length>0?{isValid:!1,error:`${this.formatLabel(S)} must contain valid URLs`}:{isValid:!0};if(!B.options||B.options.length===0)return{isValid:!0};const C=B.options.map(E=>E.value||E.name);return y.filter(E=>!C.includes(E)).length>0?{isValid:!1,error:`${this.formatLabel(S)} contains invalid options`}:{isValid:!0}}static validateDate(y,B){const S=new Date(y);return isNaN(S.getTime())?{isValid:!1,error:`${this.formatLabel(B)} must be a valid date`}:{isValid:!0}}static validateCheckbox(y,B){return typeof y!="boolean"?{isValid:!1,error:`${this.formatLabel(B)} must be true or false`}:{isValid:!0}}static validateText(y,B,S){return typeof y!="string"?{isValid:!1,error:`${this.formatLabel(S)} must be text`}:B.minLength!==void 0&&y.length<B.minLength?{isValid:!1,error:`${this.formatLabel(S)} must be at least ${B.minLength} characters`}:B.maxLength!==void 0&&y.length>B.maxLength?{isValid:!1,error:`${this.formatLabel(S)} must be at most ${B.maxLength} characters`}:{isValid:!0}}static validateFieldWithRules(y,B,S){const V=[];return S.required&&!this.hasValue(B)&&V.push(`${this.formatLabel(y)} is required`),!this.hasValue(B)&&!S.required?{isValid:!0,errors:[]}:(S.pattern&&!S.pattern.test(B)&&V.push(S.message||`${this.formatLabel(y)} format is invalid`),S.minLength&&B.length<S.minLength&&V.push(`${this.formatLabel(y)} must be at least ${S.minLength} characters`),S.maxLength&&B.length>S.maxLength&&V.push(`${this.formatLabel(y)} must be at most ${S.maxLength} characters`),S.min!==void 0&&Number(B)<S.min&&V.push(`${this.formatLabel(y)} must be at least ${S.min}`),S.max!==void 0&&Number(B)>S.max&&V.push(`${this.formatLabel(y)} must be at most ${S.max}`),{isValid:V.length===0,errors:V})}static validateFields(y){const B={};let S=!1;return Object.entries(y).forEach(([V,C])=>{const P=this.validateField(V,C.value,C);B[V]=P,P.isValid||(S=!0)}),{isValid:!S,results:B}}static formatLabel(y){return y.replace(/([A-Z])/g," $1").replace(/^./,B=>B.toUpperCase()).trim()}static getValidationRules(y,B=""){const S={required:!1,message:""};switch(y){case"email":return{...S,pattern:this.PATTERNS.email,message:"Please enter a valid email address"};case"phone_number":return{...S,pattern:this.PATTERNS.phoneClean,message:"Please enter a valid phone number"};case"url":return{...S,pattern:this.PATTERNS.url,message:"Please enter a valid URL"};case"number":return{...S,min:void 0,max:void 0};case"rich_text":case"title":return{...S,minLength:void 0,maxLength:void 0};default:return S}}static clearErrors(){return{}}static hasErrors(y){return y&&Object.keys(y).length>0}static getFirstError(y){if(!this.hasErrors(y))return null;const B=Object.keys(y)[0];return y[B]}static getAllErrors(y){return this.hasErrors(y)?Object.values(y):[]}}Tr(ValidationService,"PATTERNS",{email:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,phone:/^[+]?[1-9][\d]{0,15}$/,url:/^https?:\/\/.+/,phoneClean:/^[+]?[1-9][\d]{0,15}$/});function mapNotionTypeToFormType(x){return{title:"text",rich_text:"textarea",number:"number",select:"select",multi_select:"select",date:"date",checkbox:"checkbox",url:"url",email:"email",phone_number:"tel",files:"file",status:"select"}[x]||"text"}function generatePlaceholder$1(x,y){const B=x.toLowerCase();if(B.includes("email"))return"your@email.com";if(B.includes("phone")||B.includes("tel"))return"+1 (555) 123-4567";if(B.includes("url")||B.includes("link")||B.includes("website"))return"https://example.com";if(B.includes("name"))return"Enter name";if(B.includes("title"))return"Enter title";if(B.includes("description")||B.includes("desc"))return"Enter description";if(B.includes("price")||B.includes("cost"))return"0.00";if(B.includes("date"))return"YYYY-MM-DD";switch(y){case"email":return"your@email.com";case"url":return"https://example.com";case"phone_number":case"tel":return"+1 (555) 123-4567";case"number":return"0";case"date":return"YYYY-MM-DD";case"textarea":case"rich_text":return"Enter text...";default:return`Enter ${x}`}}function getDefaultIcon$1(x,y,B){const S=x.toLowerCase();if(S.includes("email"))return"";if(S.includes("phone")||S.includes("tel"))return"";if(S.includes("url")||S.includes("link")||S.includes("website"))return"";if(S.includes("image")||S.includes("photo")||S.includes("picture"))return"";if(S.includes("file")||S.includes("attachment"))return"";if(S.includes("date")||S.includes("time"))return"";if(S.includes("location")||S.includes("address"))return"";if(S.includes("price")||S.includes("cost")||S.includes("amount"))return"";if(S.includes("name")||S.includes("title"))return"";if(S.includes("category")||S.includes("tag"))return"";if(S.includes("status"))return"";if(S.includes("description")||S.includes("desc"))return"";switch(y){case"email":return"";case"phone_number":return"";case"url":return"";case"files":return"";case"date":return"";case"number":return B==="yen"||B==="jpy"?"":B==="dollar"||B==="usd"?"$":B==="euro"||B==="eur"?"":B==="pound"||B==="gbp"?"":"";case"checkbox":return"";case"select":case"multi_select":return"";case"title":return"";case"rich_text":return"";default:return""}}class NotionMiddleware{static flattenProperties(y){const B={};return Object.entries(y||{}).forEach(([S,V])=>{var C,P,E,D;switch(V.type){case"title":B[S]=((C=V.title)==null?void 0:C.map(z=>z.plain_text).join(""))||"";break;case"rich_text":B[S]=((P=V.rich_text)==null?void 0:P.map(z=>z.plain_text).join(""))||"";break;case"email":B[S]=V.email||"";break;case"phone_number":B[S]=V.phone_number||"";break;case"url":B[S]=V.url||"";break;case"select":V.select?(B[S]=V.select.name||"",B[`${S}_color`]=V.select.color||null):(B[S]="",B[`${S}_color`]=null);break;case"multi_select":V.multi_select&&V.multi_select.length>0?(B[S]=V.multi_select.map(z=>z.name)||[],B[`${S}_colors`]=V.multi_select.map(z=>z.color||null)||[]):(B[S]=[],B[`${S}_colors`]=[]);break;case"checkbox":B[S]=V.checkbox||!1;break;case"number":B[S]=V.number!==null&&V.number!==void 0?V.number:null;break;case"date":B[S]=((E=V.date)==null?void 0:E.start)||"";break;case"status":V.status?(B[S]=V.status.name||"",B[`${S}_color`]=V.status.color||null):(B[S]="",B[`${S}_color`]=null);break;case"files":B[S]=((D=V.files)==null?void 0:D.map(z=>{var T;return{name:z.name,url:z.url||((T=z.external)==null?void 0:T.url),type:z.type,size:z.size}}))||[];break;default:B[S]=""}}),B}static convertToNotionProperties(y,B=null){const S={};return Object.entries(y).forEach(([V,C])=>{if(C==null)return;const P=C==="",E=Array.isArray(C)&&C.length===0;if(B&&B.properties&&B.properties[V])switch(B.properties[V].type){case"title":S[V]={title:P?[]:[{text:{content:String(C)}}]};break;case"rich_text":if(P)S[V]={rich_text:[]};else{const z=String(C),T=2e3;if(z.length>T){const j=[];for(let R=0;R<z.length;R+=T)j.push({text:{content:z.slice(R,R+T)}});S[V]={rich_text:j}}else S[V]={rich_text:[{text:{content:z}}]}}break;case"email":S[V]={email:P?null:C};break;case"phone_number":S[V]={phone_number:P?null:C};break;case"url":S[V]={url:P?null:C};break;case"select":S[V]={select:P?null:{name:C}};break;case"multi_select":E||P?S[V]={multi_select:[]}:Array.isArray(C)?S[V]={multi_select:C.map(z=>({name:z}))}:S[V]={multi_select:[]};break;case"checkbox":S[V]={checkbox:!!C};break;case"number":S[V]={number:P?null:Number(C)||0};break;case"date":S[V]={date:P?null:{start:C}};break;case"status":S[V]={status:P?null:{name:C}};break;case"files":E||P?S[V]={files:[]}:Array.isArray(C)?S[V]={files:C.map(z=>typeof z=="string"?{name:z.split("/").pop()||"file",external:{url:z}}:{name:z.name||"file",external:{url:z.url||z}})}:typeof C=="string"?S[V]={files:[{name:C.split("/").pop()||"file",external:{url:C}}]}:S[V]={files:[]};break;default:console.warn(`Unknown property type for key "${V}": ${propertyType}`);return}else{console.warn(`No schema available for property "${V}"`);return}}),S}static extractDatabaseInfo(y){var C,P,E,D,z,T;const B=y.properties||{},S=this.generateSchema(B,((P=(C=y.title)==null?void 0:C[0])==null?void 0:P.plain_text)||"Database");return{id:y.id,title:((D=(E=y.title)==null?void 0:E[0])==null?void 0:D.plain_text)||"Untitled Database",description:((T=(z=y.description)==null?void 0:z[0])==null?void 0:T.plain_text)||"",properties:B,schema:S,created_time:y.created_time,last_edited_time:y.last_edited_time}}static transformPage(y){return{id:y.id,created_time:y.created_time,last_edited_time:y.last_edited_time,...this.flattenProperties(y.properties)}}static transformResultsResponse(y){return!y.success||!y.results?y:{...y,results:y.results.map(B=>this.transformPage(B))}}static transformResultResponse(y){return!y.success||!y.result?y:{...y,result:this.transformPage(y.result)}}static generateSchema(y,B="Database"){const S={};return Object.entries(y||{}).forEach(([C,P])=>{var E,D,z,T,j;if(C!=="id"&&C!=="created_time"&&C!=="last_edited_time"){const R=this.extractPropertyIcon(P),Z=this.extractPropertyEmoji(P);if(this.getDefaultIcon(C,P.type),S[C]={type:P.type||"rich_text",required:!1,icon:R||null,emoji:Z,number:P.type==="number"?P.number:void 0,format:P.type==="number"?(E=P.number)==null?void 0:E.format:void 0},(P.type==="select"||P.type==="multi_select")&&((D=P.select)!=null&&D.options||(z=P.multi_select)!=null&&z.options)){const U=((T=P.select)==null?void 0:T.options)||((j=P.multi_select)==null?void 0:j.options),M=U[0],W=Object.keys(M||{});let ke=null,_e=null;if(M&&(M.name?(ke="name",_e="name"):M.value?(ke="value",_e="value"):M.id?(ke="id",_e="id"):M.text?(ke="text",_e="text"):M.content?(ke="content",_e="content"):M.title?(ke="title",_e="title"):M.label&&(ke="label",_e="label")),!ke)for(const ae of W){const Ee=M[ae];if(typeof Ee=="string"&&Ee.trim()&&ae!=="color"){ke=ae,_e=ae;break}}S[C].options=U.map((ae,Ee)=>{const Ze=ke?ae[ke]:null,te=_e?ae[_e]:null;return{value:Ze||ae.name||ae.value||ae.id||ae.text||ae.content||ae.title||ae.label||`Option ${Ee+1}`,label:te||ae.name||ae.value||ae.id||ae.text||ae.content||ae.title||ae.label||`Option ${Ee+1}`,color:ae.color}})}}}),{id:"inferred",title:B,properties:S}}static validateFormData(y,B){return ValidationService.validateFormData(y,B)}static formatLabel(y){return ValidationService.formatLabel(y)}static mapNotionTypeToFormType(y){return mapNotionTypeToFormType(y)}static generateFormFields(y){if(!y||!y.properties)return{};if(y.properties&&Object.values(y.properties).some(S=>S.type&&!S[S.type]))return y.properties;const B={};return Object.entries(y.properties).forEach(([S,V])=>{var C,P;B[S]={type:V.type,required:!1,label:this.formatLabel(S),placeholder:this.generatePlaceholder(S,V.type),icon:this.getDefaultIcon(S,V.type,(C=V.number)==null?void 0:C.format),options:V.type==="select"||V.type==="multi_select"?this.extractOptionsFromValues(V):[],format:V.type==="number"?(P=V.number)==null?void 0:P.format:void 0,number:V.type==="number"?V.number:void 0,id:V.id,...V}}),B}static extractOptionsFromValues(y){return y.type==="select"&&y.select?[{value:y.select.name,label:y.select.name,color:y.select.color}]:y.type==="multi_select"&&y.multi_select?y.multi_select.map(B=>({value:B.name,label:B.name,color:B.color})):[]}static generatePlaceholder(y,B){return generatePlaceholder$1(y,B)}static extractPropertyIcon(y){return y.icon?y.icon:y.metadata&&y.metadata.icon?y.metadata.icon:y.config&&y.config.icon?y.config.icon:y.format&&y.format.icon?y.format.icon:y.select&&y.select.icon?y.select.icon:y.multi_select&&y.multi_select.icon?y.multi_select.icon:y.parent&&y.parent.icon?y.parent.icon:y.base&&y.base.icon?y.base.icon:null}static extractPropertyEmoji(y){return y.emoji?y.emoji:y.metadata&&y.metadata.emoji?y.metadata.emoji:y.config&&y.config.emoji?y.config.emoji:y.format&&y.format.emoji?y.format.emoji:y.select&&y.select.emoji?y.select.emoji:y.multi_select&&y.multi_select.emoji?y.multi_select.emoji:y.parent&&y.parent.emoji?y.parent.emoji:y.base&&y.base.emoji?y.base.emoji:null}static getDefaultIcon(y,B,S){return getDefaultIcon$1(y,B,S)}}const useAuthStore=defineStore("auth",()=>{const x=ref(!1),y=ref(null),B="admin_auth_code",S=computed(()=>x.value),V=()=>{const z=localStorage.getItem(B);z&&(y.value=z,x.value=!0)},C=async z=>{try{const j=await(await fetch("/.netlify/functions/verify-admin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:z})})).json();return j.success?(y.value=z,x.value=!0,localStorage.setItem(B,z),{success:!0}):{success:!1,error:j.error||"Invalid admin code"}}catch(T){return console.error("Error verifying admin code:",T),{success:!1,error:"Failed to verify admin code"}}},P=async z=>await C(z),E=()=>{x.value=!1,y.value=null,localStorage.removeItem(B)},D=()=>y.value;return V(),{isAuthenticated:x,adminCode:y,isAdmin:S,login:P,logout:E,getAdminCode:D,verifyAdminCode:C}}),API_BASE="/.netlify/functions";class ItemService{constructor(){this.cache=new Map,this.CACHE_DURATION=5*60*1e3,this.pendingRequests=new Map}getAdminCode(){try{const y=useAuthStore();if(!y)return console.warn("[ItemService] Auth store not available"),null;const B=y.getAdminCode();return B||console.warn("[ItemService] Admin code not found. Please log in to the admin panel first."),B}catch(y){return console.error("[ItemService] Could not get admin code from auth store:",y),null}}async apiRequest(y,B={}){const S=y.startsWith("/")?y:`/${y}`,V=`${API_BASE}${S}`;if(!V||typeof V!="string")throw new Error(`Invalid URL: ${V}`);const C=this.getAdminCode(),P=(B.method||"GET").toUpperCase(),E=["POST","PUT","DELETE","PATCH"].includes(P),D={"Content-Type":"application/json"};if(E)if(C)D["X-Admin-Code"]=C,console.log(`[ItemService] Sending admin code with ${P} request to ${V}`);else throw console.error(`[ItemService] Admin code not available for ${P} operation to ${V}. User must be logged in as admin.`),new Error("Admin authentication required. Please log in to the admin panel first.");const z={...B.headers||{},...D};try{const T={method:P,headers:z};B.body&&(T.body=B.body),Object.keys(B).forEach(R=>{R!=="method"&&R!=="headers"&&R!=="body"&&(T[R]=B[R])}),E&&C&&console.log(`[ItemService] Request headers for ${P} ${V}:`,{"Content-Type":z["Content-Type"],"X-Admin-Code":C?"***"+C.slice(-4):"MISSING"});const j=await fetch(V,T);if(!j.ok){const R=await j.json().catch(()=>({error:"Network error"}));throw new Error(R.error||`HTTP ${j.status}`)}return j.json()}catch(T){throw T.message&&T.message.includes("HTTP")?T:T instanceof TypeError?new Error(`Network error: ${T.message}. URL: ${V}`):new Error(`API request failed: ${T.message} (URL: ${V})`)}}async getDatabaseInfo(y=null){const B=`db_info_${y||"default"}`;if(this.cache.has(B)){const V=this.cache.get(B);if(Date.now()-V.timestamp<this.CACHE_DURATION)return V.data}if(this.pendingRequests.has(B))return this.pendingRequests.get(B);const S=(async()=>{try{const V=new URLSearchParams;V.append("info","true"),y&&V.append("database_id",y);const C=await this.apiRequest(`/notion-crud?${V.toString()}`);if(C.success&&C.database){const P=NotionMiddleware.extractDatabaseInfo(C.database);return this.cache.set(B,{data:P,timestamp:Date.now()}),P}throw new Error("Could not get database information")}finally{this.pendingRequests.delete(B)}})();return this.pendingRequests.set(B,S),S}async getAllItems(y={}){const{pageSize:B=50,startCursor:S,useCache:V=!0,databaseId:C,hasArchived:P,approvedOnly:E=!1}=y,D=`all_items_${C||"default"}_${B}_${S||"first"}_${E?"approved":"all"}`;if(V&&this.cache.has(D)){const T=this.cache.get(D);if(Date.now()-T.timestamp<this.CACHE_DURATION)return T.data}if(this.pendingRequests.has(D))return this.pendingRequests.get(D);const z=(async()=>{var T,j;try{const R=new URLSearchParams;B&&R.append("page_size",B),S&&R.append("start_cursor",S),C&&R.append("database_id",C),P!==void 0&&R.append("has_archived",P.toString()),E&&R.append("approved_only","true");const Z=`/notion-crud?${R.toString()}`,U=await this.apiRequest(Z);let M;return U.success&&U.results?(console.log("[ItemService] Raw product details data from Notion:",{totalResults:U.results.length,hasMore:U.has_more,nextCursor:U.next_cursor,rawData:U.results,firstItemSample:U.results[0]||null}),M=NotionMiddleware.transformResultsResponse(U),console.log("[ItemService] Transformed product details data:",{totalResults:((T=M.results)==null?void 0:T.length)||0,transformedData:M.results,firstItemTransformed:((j=M.results)==null?void 0:j[0])||null})):M=U,V&&this.cache.set(D,{data:M,timestamp:Date.now()}),M}finally{this.pendingRequests.delete(D)}})();return this.pendingRequests.set(D,z),z}async getItem(y){const B=`item_${y}`;if(this.cache.has(B)){const V=this.cache.get(B);if(Date.now()-V.timestamp<this.CACHE_DURATION)return V.data}if(this.pendingRequests.has(B))return this.pendingRequests.get(B);const S=(async()=>{try{const V=await this.apiRequest(`/notion-crud?id=${y}`);let C;return V.success&&V.result?(console.log("[ItemService] Raw product details data from Notion (single item):",{itemId:y,rawData:V.result,allFields:Object.keys(V.result||{})}),C=NotionMiddleware.transformResultResponse(V),console.log("[ItemService] Transformed product details (single item):",{itemId:y,transformedData:C})):C=V,this.cache.set(B,{data:C,timestamp:Date.now()}),C}finally{this.pendingRequests.delete(B)}})();return this.pendingRequests.set(B,S),S}async createItem(y,B=null,S=null,V=null){const C=NotionMiddleware.convertToNotionProperties(y,B);let P="/notion-crud";const E=new URLSearchParams;S&&S!=="default"&&E.append("database_id",S),V&&E.append("parent_page_id",V),E.toString()&&(P+=`?${E.toString()}`);const D=await this.apiRequest(P,{method:"POST",body:JSON.stringify(C)});if(D.success&&D.result){const z=NotionMiddleware.transformResultResponse(D);return this.clearCacheByPattern("all_items_"),z}return this.clearCacheByPattern("all_items_"),D}async updateItem(y,B,S=null){const V=NotionMiddleware.convertToNotionProperties(B,S),C=await this.apiRequest(`/notion-crud?id=${y}`,{method:"PUT",body:JSON.stringify(V)});if(C.success&&C.result){const P=NotionMiddleware.transformResultResponse(C);return this.clearCacheByPattern("all_items_"),this.cache.delete(`item_${y}`),P}return this.clearCacheByPattern("all_items_"),this.cache.delete(`item_${y}`),C}async deleteItem(y){try{const B=await this.apiRequest(`/notion-crud?id=${y}`,{method:"DELETE"});return this.clearCacheByPattern("all_items_"),this.cache.delete(`item_${y}`),B}catch(B){throw console.error("Error deleting item:",B),B}}generateFormFields(y){return NotionMiddleware.generateFormFields(y)}formatLabel(y){return NotionMiddleware.formatLabel(y)}clearCacheByPattern(y){for(const B of this.cache.keys())B.includes(y)&&this.cache.delete(B)}clearCache(){this.cache.clear()}validateFormData(y,B){return ValidationService.validateFormData(y,B)}async getPageInfo(y){if(!y)throw new Error("Page ID is required to get page info");const B=encodeURIComponent(y);return await this.apiRequest(`/notion-crud?page_info=true&page_id=${B}`)}async getChildDatabases(y,B=!0){if(!y)throw new Error("Page ID is required to get child databases");let V=`/notion-crud?child_databases=true&page_id=${encodeURIComponent(y)}`;return B&&(V+="&include_page_info=true"),await this.apiRequest(V)}async getAggregation(y,B,S=void 0){if(!y)throw new Error("Database ID is required for aggregations");if(!B)throw new Error("Aggregation type is required");const V=encodeURIComponent(y);let P=`/notion-crud?aggregate=true&type=${encodeURIComponent(B)}&database_id=${V}`;return S!==void 0&&(P+=`&has_archived=${S.toString()}`),await this.apiRequest(P)}async getParentPageId(){return await this.apiRequest("/notion-crud?parent_page_id=true")}}const itemService=new ItemService,useItemStore=defineStore("item",()=>{const x=ref([]),y=ref(null),B=ref(null),S=ref(null),V=ref(null),C=ref(!1),P=ref(!1),E=ref(null),D=computed(()=>ie=>x.value.find(K=>K.id===ie)),z=computed(()=>x.value.length),T=computed(()=>B.value!==null),j=computed(()=>S.value!==null),R=computed(()=>T.value&&j.value),Z=computed(()=>B.value?itemService.generateFormFields(B.value):{});let U=null;const M=async(ie={})=>U||(U=(async()=>{var K,J;try{if(C.value=!0,E.value=null,!V.value)throw new Error("Database ID is not set. Please set the database ID before fetching items.");const Y=((J=(K=B.value)==null?void 0:K.properties)==null?void 0:J.archived)!==void 0;let Be=[],oe=null,ve=!0;const Pe=100;for(;ve;){const Ce=await itemService.getAllItems({databaseId:V.value,hasArchived:Y,pageSize:Pe,startCursor:oe,useCache:!1,approvedOnly:ie.approvedOnly||!1});if(Ce.success&&Ce.results)Be=Be.concat(Ce.results),ve=Ce.has_more||!1,oe=Ce.next_cursor||null;else throw new Error(Ce.message||"Failed to fetch items")}x.value=Be}catch(Y){throw E.value=Y.message||"Failed to fetch items",console.error("Error fetching items:",Y),Y}finally{C.value=!1,U=null}})(),U),W=new Map,ke=async ie=>{if(W.has(ie))return W.get(ie);const K=(async()=>{try{C.value=!0,E.value=null;const J=await itemService.getItem(ie);if(J.success&&J.result)return y.value=J.result,J.result;throw new Error(J.message||"Failed to fetch item")}catch(J){throw E.value=J.message||"Failed to fetch item",console.error("Error fetching item:",J),J}finally{C.value=!1,W.delete(ie)}})();return W.set(ie,K),K},_e=ie=>{if(!ie){console.warn("itemStore.setDatabaseId: Attempted to set null/undefined database ID"),ie===null&&(V.value=null,B.value=null,S.value=null,x.value=[],U=null,ae=null);return}const K=Be=>String(Be||"").replace(/-/g,"").toLowerCase(),J=K(ie);K(V.value)!==J?(V.value=ie,B.value=null,S.value=null,x.value=[],U=null,ae=null):V.value=ie};let ae=null;const Ee=async(ie=!1)=>!ie&&R.value?B.value:ae||(ae=(async()=>{try{C.value=!0,E.value=null;const K=await itemService.getDatabaseInfo(V.value);if(K.schema)return B.value=K.schema,S.value=K,K.schema;throw new Error("No database schema available")}catch(K){throw E.value=K.message||"Failed to fetch schema",console.error("Error fetching schema:",K),K}finally{C.value=!1,ae=null}})(),ae);return{items:x,currentItem:y,schema:B,databaseInfo:S,loading:C,submitting:P,error:E,getItemById:D,itemsCount:z,hasSchema:T,hasDatabaseInfo:j,isFullyLoaded:R,formFields:Z,setDatabaseId:_e,fetchAllItems:M,fetchItem:ke,fetchSchema:Ee,loadDatabaseSchema:async()=>await Ee(),getDatabaseInfo:()=>S.value?{title:S.value.title,description:S.value.description,schema:S.value.schema}:null,ensureSchemaLoaded:async()=>{R.value||await Ee()},validateFormData:(ie,K)=>ValidationService.validateFormData(ie,K),createItem:async(ie,K=null)=>{try{P.value=!0,E.value=null;const J=await itemService.createItem(ie,B.value,V.value,K);if(J.success&&J.result)return x.value.unshift(J.result),J.result;throw new Error(J.message||"Failed to create item")}catch(J){throw E.value=J.message||"Failed to create item",console.error("Error creating item:",J),J}finally{P.value=!1}},updateItem:async(ie,K)=>{try{P.value=!0,E.value=null;const J=await itemService.updateItem(ie,K,B.value);if(J.success&&J.result){const Y=J.result,Be=x.value.findIndex(oe=>oe.id===ie);return Be!==-1&&(x.value[Be]=Y),y.value&&y.value.id===ie&&(y.value=Y),Y}else throw new Error(J.message||"Failed to update item")}catch(J){throw E.value=J.message||"Failed to update item",console.error("Error updating item:",J),J}finally{P.value=!1}},deleteItem:async ie=>{try{E.value=null;const K=await itemService.deleteItem(ie);if(K.success)return x.value=x.value.filter(J=>J.id!==ie),y.value&&y.value.id===ie&&(y.value=null),K;throw new Error(K.message||"Failed to delete item")}catch(K){throw E.value=K.message||"Failed to delete item",console.error("Error deleting item:",K),K}},clearError:()=>{E.value=null},clearCurrentItem:()=>{y.value=null},reset:()=>{x.value=[],y.value=null,B.value=null,S.value=null,C.value=!1,P.value=!1,E.value=null}}}),useDashboardStore=defineStore("dashboard",()=>{const x=ref(!1),y=ref(null),B=ref({totalProducts:0,totalCategories:0,availableProducts:0,totalPages:0}),S=ref([]),V=ref(null),C=ref(null),P=ref(null),E=ref(null),D=ref(null),z=ref([]),T=ref(!1),j=ref(!1);let R=null;const Z=5*60*1e3,U=computed(()=>D.value?Date.now()-D.value>Z:!0),M=computed(()=>S.value.length>0||V.value!==null),W=async(Q=!1,ne={})=>{const{skipAggregations:fe=!1,skipRecentActivity:se=!1}=ne;if(!Q&&M.value&&!U.value){const G=[];!fe&&!T.value&&G.push(ke()),!se&&!j.value&&G.push(_e()),G.length>0&&await Promise.allSettled(G);return}if(R){await R;const G=[];!fe&&!T.value&&G.push(ke()),!se&&!j.value&&G.push(_e()),G.length>0&&await Promise.allSettled(G);return}return R=(async()=>{try{x.value=!0,y.value=null;const G=await itemService.getParentPageId();if(!G.success||!G.parentPageId)throw new Error("NOTION_PARENT_PAGE_ID not configured. Please set it in your environment variables.");const ue=G.parentPageId;E.value=ue;const be=await itemService.getChildDatabases(ue);if(!be.success||!be.databases)throw new Error("Failed to fetch child databases from parent page");be.page&&(V.value=be.page);const le=be.databases;S.value=le.map(Y=>{const Be=NotionMiddleware.extractDatabaseInfo({id:Y.id,title:[{plain_text:Y.title}],description:Y.description?[{plain_text:Y.description}]:[],properties:Y.properties,created_time:Y.created_time,last_edited_time:Y.last_edited_time});return{id:Y.id,title:Y.title,description:Y.description,properties:Y.properties,schema:Be,url:Y.url||null}});const ie=le.find(Y=>{const Be=Y.title.toLowerCase();return Be.includes("product")||Be.includes("item")||Be.includes("listing")});ie?C.value=ie.id:le.length>0?(console.warn("No products database found by name. Using first database:",{id:le[0].id,title:le[0].title}),C.value=le[0].id):(console.error("No databases found!"),C.value=null);const K=le.find(Y=>{const Be=Y.title.toLowerCase();return Be.includes("page")||Be.includes("content")});K?P.value=K.id:le.length>1?(console.warn("No pages database found by name. Using second database:",{id:le[1].id,title:le[1].title}),P.value=le[1].id):P.value=null;const J=[];fe||J.push(ke()),se||J.push(_e()),J.length>0&&await Promise.allSettled(J),D.value=Date.now()}catch(G){throw console.error("Error initializing dashboard:",G),y.value=G.message||"Failed to load dashboard data",G}finally{x.value=!1,R=null}})(),R},ke=async()=>{var Q,ne,fe,se;try{if(!C.value&&!P.value){console.warn("fetchAggregations: No database IDs available, skipping aggregations");return}const G=S.value.find(K=>K.id===C.value),ue=S.value.find(K=>K.id===P.value),be=((ne=(Q=G==null?void 0:G.schema)==null?void 0:Q.properties)==null?void 0:ne.archived)!==void 0,le=((se=(fe=ue==null?void 0:ue.schema)==null?void 0:fe.properties)==null?void 0:se.archived)!==void 0,ie=[];C.value&&ie.push(itemService.getAggregation(C.value,"total",be).then(K=>(K.success?B.value.totalProducts=K.count||0:console.warn("fetchAggregations: Total products aggregation failed:",K),{type:"total",response:K})),itemService.getAggregation(C.value,"categories",be).then(K=>(K.success?B.value.totalCategories=K.count||0:console.warn("fetchAggregations: Categories aggregation failed:",K),{type:"categories",response:K})),itemService.getAggregation(C.value,"available",be).then(K=>(K.success?B.value.availableProducts=K.count||0:console.warn("fetchAggregations: Available products aggregation failed:",K),{type:"available",response:K}))),P.value?ie.push(itemService.getAggregation(P.value,"total",le).then(K=>(K.success?B.value.totalPages=K.count||0:console.warn("fetchAggregations: Pages aggregation failed:",K),{type:"pages",response:K}))):B.value.totalPages=0,ie.length>0&&await Promise.allSettled(ie),T.value=!0}catch(G){console.error("Error fetching aggregations:",G),console.error("Error stack:",G.stack)}},_e=async()=>{try{if(z.value=[],C.value){const Q=await itemService.getAllItems({pageSize:10,useCache:!1,databaseId:C.value}),ne=Q.items||Q.results||[];if(ne.length>0){const fe=ne.map(se=>{const G=se.Title||se.title||se.Name||se.name||se["Product Name"]||se["Product Title"]||"",ue=typeof G=="string"?G:"";if(ue.toLowerCase().includes("category"))return null;const be=se.last_edited_time,le=se.created_time;if(!be&&!le)return null;const ie=new Date(le).getTime(),K=new Date(be||le).getTime(),J=Math.abs(ie-K)<2e3;return{id:se.id,action:J?`New product added: ${ue||"Untitled"}`:`Product updated: ${ue||"Untitled"}`,time:ae(be||le),timestamp:K,icon:J?"M12 4v16m8-8H4":"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z",type:J?"created":"updated"}}).filter(se=>se!==null).sort((se,G)=>G.timestamp-se.timestamp).slice(0,5);z.value=fe}}j.value=!0}catch(Q){console.error("Error fetching recent activity:",Q)}},ae=Q=>{if(!Q)return"Unknown time";const ne=new Date(Q),se=Math.floor((new Date-ne)/1e3);if(se<60)return"Just now";if(se<3600){const G=Math.floor(se/60);return`${G} ${G===1?"minute":"minutes"} ago`}else if(se<86400){const G=Math.floor(se/3600);return`${G} ${G===1?"hour":"hours"} ago`}else if(se<604800){const G=Math.floor(se/86400);return`${G} ${G===1?"day":"days"} ago`}else return ne.toLocaleDateString()};return{loading:x,error:y,stats:B,databaseInfo:S,pageInfo:V,productsDatabaseId:C,pagesDatabaseId:P,parentPageId:E,lastFetched:D,recentActivity:z,isDataStale:U,hasData:M,initializeDashboard:W,fetchAggregations:ke,refreshStats:async()=>{await ke(),await _e()},clearError:()=>{y.value=null},reset:()=>{x.value=!1,y.value=null,B.value={totalProducts:0,totalCategories:0,availableProducts:0,totalPages:0},S.value=[],V.value=null,C.value=null,P.value=null,E.value=null,D.value=null,z.value=[],T.value=!1,j.value=!1}}});function parseContent(content,options={}){const{cache=null,useEval=!0}=options;if(!content)return null;if(typeof content=="object"&&content!==null&&!Array.isArray(content))return content;if(typeof content!="string")return null;const cacheKey=content;if(cache&&cache.key===cacheKey&&cache.value!==null)return cache.value;let parsed=null;try{if(parsed=JSON.parse(content),!parsed||typeof parsed!="object"||Array.isArray(parsed))parsed=null;else return cache&&(cache.key=cacheKey,cache.value=parsed),parsed}catch(e){try{let x=content.replace(/([{,]\s*)([a-zA-Z_$][a-zA-Z0-9_$]*)\s*:/g,'$1"$2":').replace(new RegExp("(?<!\\\\)'","g"),'"').replace(/,(\s*[}\]])/g,"$1").replace(/:\s*([a-zA-Z_$][a-zA-Z0-9_$]*)\s*([,}])/g,': "$1"$2');if(parsed=JSON.parse(x),!parsed||typeof parsed!="object"||Array.isArray(parsed))parsed=null;else return cache&&(cache.key=cacheKey,cache.value=parsed),parsed}catch(e2){if(useEval)try{if(parsed=eval("("+content+")"),!parsed||typeof parsed!="object"||Array.isArray(parsed))parsed=null;else return cache&&(cache.key=cacheKey,cache.value=parsed),parsed}catch(x){if(console.error("Failed to parse content JSON after all attempts:",x),console.error("Content that failed to parse (first 500 chars):",content.substring(0,500)),e2.message&&e2.message.includes("position")){const y=e2.message.match(/position (\d+)/);if(y){const B=parseInt(y[1]),S=Math.max(0,B-100),V=Math.min(content.length,B+100);console.error("Content around error position:",content.substring(S,V))}}parsed=null}else{if(console.error("Failed to parse content JSON after fixing:",e2.message),console.error("Content preview (first 500 chars):",content.substring(0,500)),e2.message&&e2.message.includes("position")){const x=e2.message.match(/position (\d+)/);if(x){const y=parseInt(x[1]),B=Math.max(0,y-100),S=Math.min(content.length,y+100);console.error("Content around error position:",content.substring(B,S))}}parsed=null}}}return cache&&(cache.key=cacheKey,cache.value=parsed),parsed}function extractContentField(x){return!x||typeof x!="object"?null:x.Content||x.content||null}function parsePageContent(x,y=null,B={}){const S=extractContentField(x);return S?parseContent(S,{cache:y,...B}):(y&&(y.key=null,y.value=null),null)}const usePagesStore=defineStore("pages",()=>{const x=ref(!1),y=ref(null),B=ref({}),S=ref([]),V=ref({}),C=ref(null),P=5*60*1e3,E=computed(()=>C.value?Date.now()-C.value>P:!0),D=te=>{const Q=te.toLowerCase();return Q.includes("home")?"home":Q.includes("about")?"about":Q.includes("contact")?"contact":Q.includes("privacy")?"privacy":Q.includes("terms")?"terms":Q.includes("settings")||Q.includes("setting")?"settings":Q.split(" ")[0]||"home"},z=ref({}),T=te=>{var Q,ne;if(!te)return"";if(Array.isArray(te)&&te.length>0){const fe=te[0];return fe.url||((Q=fe.external)==null?void 0:Q.url)||fe||""}return typeof te=="object"&&te!==null?te.url||((ne=te.external)==null?void 0:ne.url)||"":String(te)},j=async(te,Q=!1)=>{const ne=useItemStore(),fe=useDashboardStore();if(!Q&&B.value[te]&&!E.value)return B.value[te];try{if(fe.pagesDatabaseId||await fe.initializeDashboard(!1,{skipAggregations:!0,skipRecentActivity:!0}),!fe.pagesDatabaseId)throw new Error("Pages database not found");ne.setDatabaseId(fe.pagesDatabaseId),await ne.ensureSchemaLoaded(),S.value.length===0&&(await ne.fetchAllItems(),S.value=ne.items||[],V.value={},S.value.forEach(ue=>{const be=ue["Page Name"]||ue.Page||ue.Slug||"",le=D(be);le&&ue.id&&(V.value[le]=ue.id)}));const se=V.value[te];if(!se)return console.warn(`Page "${te}" not found in database`),null;const G=await ne.fetchItem(se);if(G){const ue=`${te}-${se}`;z.value[ue]||(z.value[ue]={key:null,value:null});const be=parsePageContent(G,z.value[ue],{useEval:!0}),le=T(G["Hero Image"]||G.heroImage||G.backgroundImage||G.image),ie=G["Hero Title"]||G.heroTitle||"",K=G["Hero Subtitle"]||G.heroSubtitle||"",J={pageId:se,details:G,parsedContent:be||{},hero:{image:le,title:ie,subtitle:K}};return B.value[te]=J,J}return null}catch(se){throw console.error(`Error loading page "${te}":`,se),y.value=se.message||`Failed to load page ${te}`,se}},R=async(te,Q=!1)=>{const ne=te.map(fe=>j(fe,Q));return Promise.allSettled(ne)},Z=async(te=!1)=>{const Q=useItemStore(),ne=useDashboardStore();if(!(!te&&!E.value&&S.value.length>0&&Object.keys(B.value).length>0))try{if(x.value=!0,y.value=null,ne.pagesDatabaseId||await ne.initializeDashboard(!1,{skipAggregations:!0,skipRecentActivity:!0}),!ne.pagesDatabaseId)throw new Error("Pages database not found");Q.setDatabaseId(ne.pagesDatabaseId),await Q.ensureSchemaLoaded(),await Q.fetchAllItems(),S.value=Q.items||[],V.value={},S.value.forEach(G=>{const ue=G["Page Name"]||G.Page||G.Slug||"",be=D(ue);be&&G.id&&(V.value[be]=G.id)});const fe=2,se=S.value.filter(G=>{const ue=G["Page Name"]||G.Page||G.Slug||"",be=D(ue);return!(!be||!G.id||!te&&B.value[be]&&!E.value)});for(let G=0;G<se.length;G+=fe){const be=se.slice(G,G+fe).map(async le=>{const ie=le["Page Name"]||le.Page||le.Slug||"",K=D(ie);try{const J=await Q.fetchItem(le.id);if(J){const Y=`${K}-${le.id}`;z.value[Y]||(z.value[Y]={key:null,value:null});const Be=parsePageContent(J,z.value[Y],{useEval:!0}),oe=T(J["Hero Image"]||J.heroImage||J.backgroundImage||J.image),ve=J["Hero Title"]||J.heroTitle||"",Pe=J["Hero Subtitle"]||J.heroSubtitle||"";B.value[K]={pageId:le.id,details:J,parsedContent:Be||{},hero:{image:oe,title:ve,subtitle:Pe}}}}catch(J){console.error(`Error fetching details for page ${K} (${le.id}):`,J)}});await Promise.allSettled(be)}C.value=Date.now()}catch(fe){throw console.error("Error loading pages:",fe),y.value=fe.message||"Failed to load pages",fe}finally{x.value=!1}},U=te=>B.value[te]||null,M=()=>U("home");return{loading:x,error:y,pagesCache:B,pagesList:S,pageKeyToIdMap:V,isCacheStale:E,loadAllPages:Z,loadPage:j,loadPages:R,getPage:U,getHomePage:M,getHomePageData:()=>{const te=M();if(!te)return null;const Q=te.parsedContent||{},ne=te.hero||{};return{hero:{image:ne.image||"",title:ne.title||"",subtitle:ne.subtitle||""},content:{promotion:Q.promotion||{},featuredCollections:Q.featuredCollections||{},categories:Q.categories||{},cta:Q.cta||{}}}},getAboutPageData:()=>{const te=U("about");if(!te)return null;const Q=te.parsedContent||{},ne=te.hero||{};return{hero:{title:ne.title||"",subtitle:ne.subtitle||""},...Q}},getContactPageData:()=>{const te=U("contact");if(!te)return null;const Q=te.parsedContent||{},ne=te.hero||{};return{title:ne.title||Q.title||"",description:ne.subtitle||Q.description||"",image:ne.image||Q.image||"",phone:Q.phone||"",email:Q.email||"",address:Q.address||"",features:Q.features||[],form:Q.form||{}}},getPrivacyPageData:()=>{const te=U("privacy");if(!te)return null;const Q=te.parsedContent||{},ne=te.hero||{};return{title:Q.title||"Privacy Policy",lastUpdated:Q.lastUpdated||"",heroImage:ne.image||Q.heroImage||"",...Q}},getTermsPageData:()=>{const te=U("terms");if(!te)return null;const Q=te.parsedContent||{},ne=te.hero||{};return{title:Q.title||"Terms of Service",lastUpdated:Q.lastUpdated||"",heroImage:ne.image||Q.heroImage||"",...Q}},clearCache:()=>{B.value={},S.value=[],V.value={},C.value=null}}}),useSettingsStore=defineStore("settings",()=>{const x=ref({}),y=ref(!1),B=ref(null),S=ref(null);let V=null;const C=5*60*1e3,P=computed(()=>S.value?Date.now()-S.value>C:!0);return{settings:x,loading:y,error:B,isCacheStale:P,loadSettings:async(z=!1)=>{const T=usePagesStore(),j=x.value&&Object.keys(x.value).length>0;if(!(!z&&!P.value&&S.value&&j))return V||(V=(async()=>{try{y.value=!0,B.value=null,await T.loadPage("settings");const R=T.getPage("settings");R&&R.parsedContent?x.value=R.parsedContent||{}:(console.warn("Settings page not found in Notion"),x.value={}),S.value=Date.now()}catch(R){console.error("Error loading settings:",R),B.value=R.message||"Failed to load settings",x.value={}}finally{y.value=!1,V=null}})(),V)},getSettings:()=>x.value}}),SOCIAL_ICONS={facebook:{name:"Facebook",icon:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"},instagram:{name:"Instagram",icon:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"},twitter:{name:"X",icon:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"},x:{name:"X",icon:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"},linkedin:{name:"LinkedIn",icon:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"},youtube:{name:"YouTube",icon:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"},tiktok:{name:"TikTok",icon:"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"},pinterest:{name:"Pinterest",icon:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.174-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.402.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.357-.629-2.758-1.379l-.749 2.848c-.269 1.045-1.004 2.352-1.498 3.146 1.123.345 2.306.535 3.487.535 6.624 0 11.99-5.367 11.99-11.987C23.97 5.39 18.592.026 11.966.026L12.017 0z"},github:{name:"GitHub",icon:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"},snapchat:{name:"Snapchat",icon:"M12.206.793c.99 0 4.347.276 5.866 4.821.379 1.113.522 2.285.522 3.458 0 2.494-.261 4.988-.784 7.482-.261 1.25-.784 1.723-.784 2.494 0 .784.522 1.25 1.305 1.25.784 0 1.305-.261 1.305-1.25 0-.771-.523-1.244-.784-2.494-.523-2.494-.784-4.988-.784-7.482 0-1.173-.143-2.345-.522-3.458C15.553.276 12.196 0 11.206 0c-.99 0-4.347.276-5.866 4.821-.379 1.113-.522 2.285-.522 3.458 0 2.494.261 4.988.784 7.482.261 1.25.784 1.723.784 2.494 0 .784-.522 1.25-1.305 1.25-.784 0-1.305-.261-1.305-1.25 0-.771.523-1.244.784-2.494.523-2.494.784-4.988.784-7.482 0-1.173.143-2.345.522-3.458C7.859.276 11.216 0 12.206.793z"}};function detectSocialPlatform(x){if(!x||typeof x!="string"||x.trim()==="")return null;const y=x.toLowerCase().trim(),B=[{platform:"x",patterns:["x.com","twitter.com","twitter","t.co"]},{platform:"facebook",patterns:["facebook.com","fb.com","facebook"]},{platform:"instagram",patterns:["instagram.com","instagr.am","instagram"]},{platform:"linkedin",patterns:["linkedin.com","linkedin"]},{platform:"youtube",patterns:["youtube.com","youtu.be","youtube"]},{platform:"tiktok",patterns:["tiktok.com","tiktok"]},{platform:"pinterest",patterns:["pinterest.com","pinterest","pin.it"]},{platform:"github",patterns:["github.com","github"]},{platform:"snapchat",patterns:["snapchat.com","snapchat","snap"]}];for(const{platform:S,patterns:V}of B)for(const C of V)if(y.includes(C)){const P=SOCIAL_ICONS[S];if(P)return{name:P.name,icon:P.icon,platform:S}}if(y.includes("x.com")||y.startsWith("x")||y.match(/[\/\.]x[\/\.]/)){const S=SOCIAL_ICONS.x;if(S)return{name:S.name,icon:S.icon,platform:"x"}}if(y.length>=3){const S=["facebook","instagram","linkedin","youtube","tiktok","pinterest","github","snapchat"];for(const V of S){const C=SOCIAL_ICONS[V];if(C&&y.includes(V))return{name:C.name,icon:C.icon,platform:V}}if(y.includes("twitter")){const V=SOCIAL_ICONS.twitter||SOCIAL_ICONS.x;if(V)return{name:V.name,icon:V.icon,platform:"x"}}}return null}function updateSocialLink(x){if(!x||!x.url)return x;const y=detectSocialPlatform(x.url);return y?{...x,name:y.name,icon:y.icon,platform:y.platform}:{...x,name:x.name||"Social Link",icon:x.icon||"",platform:x.platform||""}}function processSocialLinks(x){return Array.isArray(x)?x.map(y=>updateSocialLink(y)):[]}const _export_sfc=(x,y)=>{const B=x.__vccOpts||x;for(const[S,V]of y)B[S]=V;return B},_sfc_main$C={name:"Footer",setup(){return{settingsStore:useSettingsStore()}},data(){return{loading:!1}},computed:{settings(){return this.settingsStore.getSettings()},siteName(){var x,y;return((y=(x=this.settings)==null?void 0:x.site)==null?void 0:y.name)||""},siteCopyright(){var x,y;return((y=(x=this.settings)==null?void 0:x.site)==null?void 0:y.copyright)||` ${new Date().getFullYear()} ${this.siteName}`},footer(){return this.settings.footer||{}},hasNavigation(){return Array.isArray(this.footer.navigation)&&this.footer.navigation.length>0},hasLegal(){return Array.isArray(this.footer.legal)&&this.footer.legal.length>0},navigationLabel(){var x;return typeof this.footer.navigation=="object"&&!Array.isArray(this.footer.navigation)&&((x=this.footer.navigation)==null?void 0:x.label)||"Navigation"},legalLabel(){var x;return typeof this.footer.legal=="object"&&!Array.isArray(this.footer.legal)&&((x=this.footer.legal)==null?void 0:x.label)||"Legal"},navLinks(){var x;return Array.isArray(this.footer.navigation)?this.footer.navigation:((x=this.footer.navigation)==null?void 0:x.links)||[]},legalLinks(){var x;return Array.isArray(this.footer.legal)?this.footer.legal:((x=this.footer.legal)==null?void 0:x.links)||[]},socialLinks(){const x=this.footer.socialLinks||[];return Array.isArray(x)&&x.length>0?processSocialLinks(x):[]}},async mounted(){await this.ensureSettingsLoaded()},methods:{async ensureSettingsLoaded(){const x=this.settingsStore.getSettings();if(!(x&&Object.keys(x).length>0))try{this.loading=!0,await this.settingsStore.loadSettings()}catch(B){console.error("Error loading settings from Notion:",B)}finally{this.loading=!1}},getNavLabel(x){return typeof x=="object"&&x!==null&&x.label?x.label:x},getLegalLabel(x){return typeof x=="object"&&x!==null&&x.label?x.label:x},getNavPath(x){var B,S;return typeof x=="object"&&x!==null&&x.link?x.link:(((B=this.footer.navigation)==null?void 0:B.paths)||((S=this.footer.paths)==null?void 0:S.nav)||{})[x]||`/${String(x).toLowerCase().replace(/\s+/g,"-")}`},getLegalPath(x){var B,S;return typeof x=="object"&&x!==null&&x.link?x.link:(((B=this.footer.legal)==null?void 0:B.paths)||((S=this.footer.paths)==null?void 0:S.legal)||{})[x]||`/${String(x).toLowerCase().replace(/\s+/g,"-")}`}},watch:{"settingsStore.settings"(){const x=this.settingsStore.getSettings();x&&Object.keys(x).length>0||this.ensureSettingsLoaded()},$route(){this.ensureSettingsLoaded()}}},_hoisted_1$z={class:"py-12 bg-gray-900 text-white relative overflow-hidden"},_hoisted_2$y={class:"absolute inset-0 flex items-center justify-center opacity-5"},_hoisted_3$y={class:"text-9xl font-bold text-gray-800 lowercase"},_hoisted_4$x={class:"section-container px-4 sm:px-6 lg:px-8 relative z-10"},_hoisted_5$v={class:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8"},_hoisted_6$u={key:0,class:"mb-2"},_hoisted_7$r=["src","alt"],_hoisted_8$p={class:"text-gray-300 mb-6"},_hoisted_9$m={key:1,class:"flex gap-4"},_hoisted_10$l=["href","aria-label"],_hoisted_11$l={key:0,class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24"},_hoisted_12$k=["d"],_hoisted_13$k={key:1,class:"text-sm"},_hoisted_14$i={key:0},_hoisted_15$i={class:"font-semibold text-white mb-4"},_hoisted_16$i={class:"space-y-2"},_hoisted_17$g={key:1},_hoisted_18$f={class:"font-semibold text-white mb-4"},_hoisted_19$e={class:"space-y-2"},_hoisted_20$e={class:"pt-8 border-t border-gray-800 text-center"},_hoisted_21$d={class:"text-gray-400 text-sm"};function _sfc_render$C(x,y,B,S,V,C){var E;const P=resolveComponent("router-link");return openBlock(),createElementBlock("footer",_hoisted_1$z,[createBaseVNode("div",_hoisted_2$y,[createBaseVNode("span",_hoisted_3$y,toDisplayString(C.siteName),1)]),createBaseVNode("div",_hoisted_4$x,[createBaseVNode("div",_hoisted_5$v,[createBaseVNode("div",null,[(E=C.settings.site)!=null&&E.logo?(openBlock(),createElementBlock("div",_hoisted_6$u,[createBaseVNode("img",{src:C.settings.site.logo,alt:C.siteName,class:"h-10 w-auto object-contain filter brightness-0 invert"},null,8,_hoisted_7$r)])):createCommentVNode("",!0),createBaseVNode("p",_hoisted_8$p,toDisplayString(C.footer.description),1),C.socialLinks.length>0?(openBlock(),createElementBlock("div",_hoisted_9$m,[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.socialLinks,D=>(openBlock(),createElementBlock("a",{key:D.name||D.url,href:D.url,target:"_blank",rel:"noopener noreferrer",class:"text-gray-300 hover:text-white transition-colors","aria-label":D.name||"Social Link"},[D.icon?(openBlock(),createElementBlock("svg",_hoisted_11$l,[createBaseVNode("path",{d:D.icon},null,8,_hoisted_12$k)])):(openBlock(),createElementBlock("span",_hoisted_13$k,toDisplayString(D.name||"Link"),1))],8,_hoisted_10$l))),128))])):createCommentVNode("",!0)]),C.hasNavigation?(openBlock(),createElementBlock("div",_hoisted_14$i,[createBaseVNode("h4",_hoisted_15$i,toDisplayString(C.navigationLabel),1),createBaseVNode("ul",_hoisted_16$i,[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.navLinks,(D,z)=>(openBlock(),createElementBlock("li",{key:`nav-${z}`},[createVNode(P,{to:C.getNavPath(D),class:"text-gray-300 hover:text-white transition-colors"},{default:withCtx(()=>[createTextVNode(toDisplayString(C.getNavLabel(D)),1)]),_:2},1032,["to"])]))),128))])])):createCommentVNode("",!0),C.hasLegal?(openBlock(),createElementBlock("div",_hoisted_17$g,[createBaseVNode("h4",_hoisted_18$f,toDisplayString(C.legalLabel),1),createBaseVNode("ul",_hoisted_19$e,[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.legalLinks,(D,z)=>(openBlock(),createElementBlock("li",{key:`legal-${z}`},[createVNode(P,{to:C.getLegalPath(D),class:"text-gray-300 hover:text-white transition-colors"},{default:withCtx(()=>[createTextVNode(toDisplayString(C.getLegalLabel(D)),1)]),_:2},1032,["to"])]))),128))])])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_20$e,[createBaseVNode("p",_hoisted_21$d,toDisplayString(C.siteCopyright),1)])])])}const __unplugin_components_2$1=_export_sfc(_sfc_main$C,[["render",_sfc_render$C]]),_sfc_main$B={name:"HomePageSkeleton"},_hoisted_1$y={class:"animate-pulse"},_hoisted_2$x={class:"py-12 bg-white"},_hoisted_3$x={class:"section-container px-4 sm:px-6 lg:px-8"},_hoisted_4$w={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},_hoisted_5$u={class:"py-12 bg-gray-50"},_hoisted_6$t={class:"section-container px-4 sm:px-6 lg:px-8"},_hoisted_7$q={class:"grid grid-cols-2 md:grid-cols-5 gap-4"},_hoisted_8$o={class:"py-12 bg-white"},_hoisted_9$l={class:"section-container px-4 sm:px-6 lg:px-8"},_hoisted_10$k={class:"grid grid-cols-2 md:grid-cols-4 gap-6"},_hoisted_11$k={class:"py-8 bg-white"},_hoisted_12$j={class:"section-container px-4 sm:px-6 lg:px-8"},_hoisted_13$j={class:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-4"};function _sfc_render$B(x,y,B,S,V,C){return openBlock(),createElementBlock("div",_hoisted_1$y,[y[6]||(y[6]=createStaticVNode('<div class="relative bg-gradient-to-br from-gray-100 to-gray-200 min-h-[600px] flex items-end pb-8"><div class="section-container px-4 sm:px-6 lg:px-8 relative z-0 w-full"><div class="text-center mb-6"><div class="inline-block h-6 w-32 bg-gray-300 rounded-full mx-auto"></div></div><div class="text-center mb-8"><div class="h-12 w-3/4 bg-gray-300 rounded-lg mx-auto mb-4"></div><div class="h-6 w-2/3 bg-gray-300 rounded-lg mx-auto"></div></div><div class="bg-white rounded-2xl shadow-xl p-4 md:p-4 max-w-5xl mx-auto"><div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div class="h-12 bg-gray-200 rounded-lg"></div><div class="h-12 bg-gray-200 rounded-lg"></div><div class="h-12 bg-gray-200 rounded-lg"></div></div></div></div></div>',1)),createBaseVNode("section",_hoisted_2$x,[createBaseVNode("div",_hoisted_3$x,[createBaseVNode("div",_hoisted_4$w,[(openBlock(),createElementBlock(Fragment,null,renderList(4,P=>createBaseVNode("div",{key:P,class:"aspect-square bg-gray-200 rounded-xl"})),64))]),y[0]||(y[0]=createBaseVNode("div",{class:"mt-6 text-center"},[createBaseVNode("div",{class:"h-8 w-48 bg-gray-200 rounded-lg mx-auto mb-2"}),createBaseVNode("div",{class:"h-4 w-64 bg-gray-200 rounded-lg mx-auto"})],-1))])]),createBaseVNode("section",_hoisted_5$u,[createBaseVNode("div",_hoisted_6$t,[y[2]||(y[2]=createBaseVNode("div",{class:"mb-8"},[createBaseVNode("div",{class:"h-8 w-64 bg-gray-300 rounded-lg mb-2"}),createBaseVNode("div",{class:"h-4 w-96 bg-gray-200 rounded-lg"})],-1)),createBaseVNode("div",_hoisted_7$q,[(openBlock(),createElementBlock(Fragment,null,renderList(5,P=>createBaseVNode("div",{key:P,class:"bg-white rounded-xl overflow-hidden"},[...y[1]||(y[1]=[createBaseVNode("div",{class:"aspect-square bg-gray-200"},null,-1),createBaseVNode("div",{class:"p-4"},[createBaseVNode("div",{class:"h-4 w-24 bg-gray-200 rounded mb-2"}),createBaseVNode("div",{class:"h-3 w-16 bg-gray-200 rounded"})],-1)])])),64))])])]),createBaseVNode("section",_hoisted_8$o,[createBaseVNode("div",_hoisted_9$l,[y[4]||(y[4]=createBaseVNode("div",{class:"mb-8"},[createBaseVNode("div",{class:"h-8 w-64 bg-gray-300 rounded-lg mb-2"}),createBaseVNode("div",{class:"h-4 w-96 bg-gray-200 rounded-lg"})],-1)),createBaseVNode("div",_hoisted_10$k,[(openBlock(),createElementBlock(Fragment,null,renderList(4,P=>createBaseVNode("div",{key:P,class:"bg-gray-50 rounded-xl overflow-hidden"},[...y[3]||(y[3]=[createStaticVNode('<div class="aspect-video bg-gray-200"></div><div class="p-4"><div class="h-5 w-32 bg-gray-200 rounded mb-2"></div><div class="h-4 w-full bg-gray-200 rounded mb-1"></div><div class="h-4 w-3/4 bg-gray-200 rounded"></div></div>',2)])])),64))])])]),createBaseVNode("section",_hoisted_11$k,[createBaseVNode("div",_hoisted_12$j,[createBaseVNode("div",_hoisted_13$j,[(openBlock(),createElementBlock(Fragment,null,renderList(6,P=>createBaseVNode("div",{key:P,class:"bg-white rounded-xl overflow-hidden border border-gray-200"},[...y[5]||(y[5]=[createStaticVNode('<div class="aspect-square bg-gray-200"></div><div class="p-4"><div class="h-5 w-3/4 bg-gray-200 rounded mb-2"></div><div class="h-4 w-1/2 bg-gray-200 rounded mb-3"></div><div class="h-6 w-24 bg-gray-200 rounded"></div></div>',2)])])),64))])])]),y[7]||(y[7]=createStaticVNode('<section class="py-12 bg-emerald-50"><div class="section-container px-4 sm:px-6 lg:px-8 text-center"><div class="h-10 w-96 bg-gray-300 rounded-lg mx-auto mb-4"></div><div class="h-12 w-48 bg-gray-300 rounded-lg mx-auto"></div></div></section><section class="py-12 bg-white"><div class="section-container px-4 sm:px-6 lg:px-8"><div class="max-w-2xl mx-auto"><div class="h-8 w-64 bg-gray-300 rounded-lg mx-auto mb-4"></div><div class="h-4 w-96 bg-gray-200 rounded-lg mx-auto mb-8"></div><div class="bg-gray-50 rounded-xl p-6 space-y-4"><div class="h-12 bg-gray-200 rounded-lg"></div><div class="h-12 bg-gray-200 rounded-lg"></div><div class="h-32 bg-gray-200 rounded-lg"></div><div class="h-12 w-32 bg-gray-300 rounded-lg"></div></div></div></div></section>',2))])}const __unplugin_components_0$b=_export_sfc(_sfc_main$B,[["render",_sfc_render$B]]),_sfc_main$A={name:"NavBar",setup(){return{settingsStore:useSettingsStore()}},data(){return{mobileMenuOpen:!1,loading:!1}},computed:{settings(){return this.settingsStore.getSettings()},siteName(){var x,y;return((y=(x=this.settings)==null?void 0:x.site)==null?void 0:y.name)||""},menuItems(){var x;return((x=this.settings.navigation)==null?void 0:x.menuItems)||[]},buttons(){var x;return((x=this.settings.navigation)==null?void 0:x.buttons)||{}}},async mounted(){await this.ensureSettingsLoaded()},methods:{async ensureSettingsLoaded(){const x=this.settingsStore.getSettings();if(!(x&&Object.keys(x).length>0))try{this.loading=!0,await this.settingsStore.loadSettings()}catch(B){console.error("Error loading settings from Notion:",B)}finally{this.loading=!1}},toggleMobileMenu(){this.mobileMenuOpen=!this.mobileMenuOpen},closeMobileMenu(){this.mobileMenuOpen=!1}},watch:{$route(){this.closeMobileMenu(),this.ensureSettingsLoaded()},"settingsStore.settings"(){const x=this.settingsStore.getSettings();x&&Object.keys(x).length>0||this.ensureSettingsLoaded()}}},_hoisted_1$x={class:"sticky top-0 z-50 bg-white border-b border-gray-100 shadow-sm"},_hoisted_2$w={class:"section-container px-4 sm:px-6 lg:px-8"},_hoisted_3$w={class:"flex items-center justify-between h-16"},_hoisted_4$v=["src","alt"],_hoisted_5$t={class:"text-2xl font-bold text-emerald-500"},_hoisted_6$s={class:"hidden md:flex items-center gap-8"},_hoisted_7$p={key:0,class:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_8$n={class:"flex items-center gap-4"},_hoisted_9$k=["href"],_hoisted_10$j={key:1,class:"px-4 py-2 rounded-lg bg-gray-900 text-white font-medium hover:bg-gray-800 transition-colors"},_hoisted_11$j={key:0,class:"md:hidden pb-4 pt-2"},_hoisted_12$i={class:"flex flex-col gap-4"},_hoisted_13$i={class:"flex flex-col gap-2 mt-4"},_hoisted_14$h={class:"w-full px-4 py-2 rounded-lg bg-white border border-gray-300 text-gray-900 font-medium"},_hoisted_15$h=["href"],_hoisted_16$h={key:1,class:"w-full px-4 py-2 rounded-lg bg-gray-900 text-white font-medium"};function _sfc_render$A(x,y,B,S,V,C){const P=resolveComponent("router-link");return openBlock(),createElementBlock("nav",_hoisted_1$x,[createBaseVNode("div",_hoisted_2$w,[createBaseVNode("div",_hoisted_3$w,[createVNode(P,{to:"/",class:"flex items-center gap-2"},{default:withCtx(()=>{var E;return[(E=C.settings.site)!=null&&E.logo?(openBlock(),createElementBlock("img",{key:0,src:C.settings.site.logo,alt:C.siteName,class:"h-8 w-auto object-contain"},null,8,_hoisted_4$v)):createCommentVNode("",!0),createBaseVNode("span",_hoisted_5$t,toDisplayString(C.siteName),1)]}),_:1}),createBaseVNode("div",_hoisted_6$s,[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.menuItems,E=>(openBlock(),createBlock(P,{key:E.path,to:E.path,class:normalizeClass(["nav-link text-gray-700 font-medium flex items-center hover:text-emerald-500",{"text-emerald-500":x.$route.path===E.path}])},{default:withCtx(()=>[createTextVNode(toDisplayString(E.label)+" ",1),E.hasDropdown?(openBlock(),createElementBlock("svg",_hoisted_7$p,[...y[1]||(y[1]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])])):createCommentVNode("",!0)]),_:2},1032,["to","class"]))),128)),createBaseVNode("div",_hoisted_8$n,[C.buttons.whatsappUrl?(openBlock(),createElementBlock("a",{key:0,href:C.buttons.whatsappUrl,target:"_blank",rel:"noopener noreferrer",class:"px-4 py-2 rounded-lg bg-gray-900 text-white font-medium hover:bg-gray-800 transition-colors inline-flex items-center gap-2"},[y[2]||(y[2]=createBaseVNode("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})],-1)),createTextVNode(" "+toDisplayString(C.buttons.joinNow),1)],8,_hoisted_9$k)):(openBlock(),createElementBlock("button",_hoisted_10$j,toDisplayString(C.buttons.joinNow),1))])]),createBaseVNode("button",{onClick:y[0]||(y[0]=(...E)=>C.toggleMobileMenu&&C.toggleMobileMenu(...E)),class:"md:hidden text-gray-700"},[...y[3]||(y[3]=[createBaseVNode("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])])]),V.mobileMenuOpen?(openBlock(),createElementBlock("div",_hoisted_11$j,[createBaseVNode("div",_hoisted_12$i,[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.menuItems,E=>(openBlock(),createBlock(P,{key:E.path,to:E.path,class:"nav-link text-gray-700 font-medium py-2",onClick:C.closeMobileMenu},{default:withCtx(()=>[createTextVNode(toDisplayString(E.label),1)]),_:2},1032,["to","onClick"]))),128))]),createBaseVNode("div",_hoisted_13$i,[createBaseVNode("button",_hoisted_14$h,toDisplayString(C.buttons.login),1),C.buttons.whatsappUrl?(openBlock(),createElementBlock("a",{key:0,href:C.buttons.whatsappUrl,target:"_blank",rel:"noopener noreferrer",class:"w-full px-4 py-2 rounded-lg bg-gray-900 text-white font-medium inline-flex items-center justify-center gap-2"},[y[4]||(y[4]=createBaseVNode("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})],-1)),createTextVNode(" "+toDisplayString(C.buttons.joinNow),1)],8,_hoisted_15$h)):(openBlock(),createElementBlock("button",_hoisted_16$h,toDisplayString(C.buttons.joinNow),1))])])):createCommentVNode("",!0)])])}const __unplugin_components_0$a=_export_sfc(_sfc_main$A,[["render",_sfc_render$A],["__scopeId","data-v-f6e7c0a6"]]),_sfc_main$z={name:"App",setup(){return{settingsStore:useSettingsStore()}},data(){return{appLoading:!0}},computed:{isAdminRoute(){return this.$route.path.startsWith("/admin")},isHomeRoute(){return this.$route.name==="Home"||this.$route.path==="/"}},async mounted(){try{await this.settingsStore.loadSettings()}catch(x){console.error("Error loading settings in App.vue:",x)}finally{this.appLoading=!1}},watch:{$route(){const x=this.settingsStore.getSettings();x&&Object.keys(x).length>0||this.settingsStore.loadSettings().catch(B=>{console.error("Error loading settings on route change:",B)})}}},_hoisted_1$w={id:"app"};function _sfc_render$z(x,y,B,S,V,C){const P=__unplugin_components_0$a,E=__unplugin_components_0$b,D=resolveComponent("router-view"),z=__unplugin_components_2$1,T=script,j=script$1;return openBlock(),createElementBlock("div",_hoisted_1$w,[!C.isAdminRoute&&!V.appLoading?(openBlock(),createBlock(P,{key:0})):createCommentVNode("",!0),createBaseVNode("main",null,[V.appLoading&&C.isHomeRoute?(openBlock(),createBlock(E,{key:0})):(openBlock(),createBlock(D,{key:1}))]),!C.isAdminRoute&&!V.appLoading?(openBlock(),createBlock(z,{key:1})):createCommentVNode("",!0),createVNode(T),createVNode(j)])}const App=_export_sfc(_sfc_main$z,[["render",_sfc_render$z]]),_sfc_main$y={name:"ContactSection",props:{sectionData:{type:Object,required:!0},contactFormConfig:{type:Object,default:null}},mounted(){this.contactFormConfig&&this.initContactWidget()},methods:{initContactWidget(){this.loadContactWidget().then(()=>{window.ContactWidget&&this.$refs.contactWidgetContainer&&new window.ContactWidget(this.$refs.contactWidgetContainer,this.contactFormConfig)}).catch(()=>{console.warn("Contact widget script could not be loaded")})},loadContactWidget(){return new Promise((x,y)=>{if(window.ContactWidget){x();return}const B=document.createElement("script");B.src="/contact-widget.js",B.onload=x,B.onerror=y,document.head.appendChild(B)}).catch(()=>{console.warn("Contact widget script could not be loaded")})}}},_hoisted_1$v={class:"py-16 relative"},_hoisted_2$v={class:"absolute inset-0"},_hoisted_3$v=["src"],_hoisted_4$u={class:"section-container px-4 sm:px-6 lg:px-8 relative z-0"},_hoisted_5$s={class:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center"},_hoisted_6$r={class:"text-4xl md:text-5xl font-bold text-white mb-4"},_hoisted_7$o={class:"text-xl text-white/90 mb-8"},_hoisted_8$m={class:"mb-8 space-y-4"},_hoisted_9$j={key:0,class:"flex items-center gap-3"},_hoisted_10$i=["href"],_hoisted_11$i={key:1,class:"flex items-center gap-3"},_hoisted_12$h=["href"],_hoisted_13$h={key:2,class:"flex items-start gap-3"},_hoisted_14$g={class:"text-white/90"},_hoisted_15$g={class:"space-y-6"},_hoisted_16$g={class:"flex-shrink-0 w-12 h-12 bg-white/10 rounded-lg flex items-center justify-center"},_hoisted_17$f={class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_18$e=["d"],_hoisted_19$d={class:"text-lg font-semibold text-white mb-1"},_hoisted_20$d={class:"text-white/80"},_hoisted_21$c={class:"relative",style:{"z-index":"1"}},_hoisted_22$b={ref:"contactWidgetContainer"};function _sfc_render$y(x,y,B,S,V,C){return openBlock(),createElementBlock("section",_hoisted_1$v,[createBaseVNode("div",_hoisted_2$v,[createBaseVNode("img",{src:B.sectionData.image,alt:"Contact background",class:"w-full h-full object-cover"},null,8,_hoisted_3$v),y[0]||(y[0]=createBaseVNode("div",{class:"absolute inset-0 bg-black/40"},null,-1))]),createBaseVNode("div",_hoisted_4$u,[createBaseVNode("div",_hoisted_5$s,[createBaseVNode("div",null,[createBaseVNode("h2",_hoisted_6$r,toDisplayString(B.sectionData.title),1),createBaseVNode("p",_hoisted_7$o,toDisplayString(B.sectionData.description),1),createBaseVNode("div",_hoisted_8$m,[B.sectionData.phone?(openBlock(),createElementBlock("div",_hoisted_9$j,[y[1]||(y[1]=createBaseVNode("div",{class:"flex-shrink-0 w-10 h-10 bg-white/10 rounded-lg flex items-center justify-center"},[createBaseVNode("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})])],-1)),createBaseVNode("a",{href:`tel:${B.sectionData.phone}`,class:"text-white/90 hover:text-white transition-colors"},toDisplayString(B.sectionData.phone),9,_hoisted_10$i)])):createCommentVNode("",!0),B.sectionData.email?(openBlock(),createElementBlock("div",_hoisted_11$i,[y[2]||(y[2]=createBaseVNode("div",{class:"flex-shrink-0 w-10 h-10 bg-white/10 rounded-lg flex items-center justify-center"},[createBaseVNode("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])],-1)),createBaseVNode("a",{href:`mailto:${B.sectionData.email}`,class:"text-white/90 hover:text-white transition-colors"},toDisplayString(B.sectionData.email),9,_hoisted_12$h)])):createCommentVNode("",!0),B.sectionData.address?(openBlock(),createElementBlock("div",_hoisted_13$h,[y[3]||(y[3]=createBaseVNode("div",{class:"flex-shrink-0 w-10 h-10 bg-white/10 rounded-lg flex items-center justify-center mt-1"},[createBaseVNode("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})])],-1)),createBaseVNode("p",_hoisted_14$g,toDisplayString(B.sectionData.address),1)])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_15$g,[(openBlock(!0),createElementBlock(Fragment,null,renderList(B.sectionData.features,(P,E)=>(openBlock(),createElementBlock("div",{key:E,class:"flex items-start gap-4"},[createBaseVNode("div",_hoisted_16$g,[(openBlock(),createElementBlock("svg",_hoisted_17$f,[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:P.icon},null,8,_hoisted_18$e)]))]),createBaseVNode("div",null,[createBaseVNode("h3",_hoisted_19$d,toDisplayString(P.title),1),createBaseVNode("p",_hoisted_20$d,toDisplayString(P.description),1)])]))),128))])]),createBaseVNode("div",_hoisted_21$c,[createBaseVNode("div",_hoisted_22$b,null,512)])])])])}const __unplugin_components_0$9=_export_sfc(_sfc_main$y,[["render",_sfc_render$y]]),_sfc_main$x={name:"PaginationComponent",props:{currentPage:{type:Number,required:!0},totalPages:{type:Number,required:!0}},computed:{visiblePages(){const x=[];if(this.totalPages<=3)for(let B=1;B<=this.totalPages;B++)x.push(B);else if(this.currentPage<=2)for(let B=1;B<=3;B++)x.push(B);else if(this.currentPage>=this.totalPages-1)for(let B=this.totalPages-2;B<=this.totalPages;B++)x.push(B);else for(let B=this.currentPage-1;B<=this.currentPage+1;B++)x.push(B);return x},showEllipsis(){return this.totalPages>5&&this.currentPage<this.totalPages-2},showLastPage(){return this.totalPages>5&&this.currentPage<this.totalPages-2}},emits:["pageChange"]},_hoisted_1$u={class:"flex justify-center items-center gap-2"},_hoisted_2$u=["disabled"],_hoisted_3$u=["onClick"],_hoisted_4$t={key:0,class:"px-2 text-gray-400"},_hoisted_5$r=["disabled"];function _sfc_render$x(x,y,B,S,V,C){return openBlock(),createElementBlock("div",_hoisted_1$u,[createBaseVNode("button",{onClick:y[0]||(y[0]=P=>x.$emit("pageChange",B.currentPage-1)),disabled:B.currentPage===1,class:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"},[...y[3]||(y[3]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])],8,_hoisted_2$u),(openBlock(!0),createElementBlock(Fragment,null,renderList(C.visiblePages,P=>(openBlock(),createElementBlock("button",{key:P,onClick:E=>x.$emit("pageChange",P),class:normalizeClass(["px-4 py-2 rounded-lg font-medium",P===B.currentPage?"bg-emerald-500 text-white":"border border-gray-300 hover:bg-gray-50 text-gray-700"])},toDisplayString(P),11,_hoisted_3$u))),128)),C.showEllipsis?(openBlock(),createElementBlock("span",_hoisted_4$t,"...")):createCommentVNode("",!0),C.showLastPage?(openBlock(),createElementBlock("button",{key:1,onClick:y[1]||(y[1]=P=>x.$emit("pageChange",B.totalPages)),class:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-gray-700 font-medium"},toDisplayString(B.totalPages),1)):createCommentVNode("",!0),createBaseVNode("button",{onClick:y[2]||(y[2]=P=>x.$emit("pageChange",B.currentPage+1)),disabled:B.currentPage===B.totalPages,class:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"},[...y[4]||(y[4]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,_hoisted_5$r)])}const __unplugin_components_1$3=_export_sfc(_sfc_main$x,[["render",_sfc_render$x]]);function formatPrice(x,y=null){if(x==null||x==="")return"";const B=typeof x=="string"?parseFloat(x.replace(/[^0-9.-]/g,"")):x;if(isNaN(B))return x;if(!y||y==="number")return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(B);const S=y.toLowerCase();return S==="dollar"||S==="usd"?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(B):S==="euro"||S==="eur"?new Intl.NumberFormat("en-US",{style:"currency",currency:"EUR"}).format(B):S==="pound"||S==="gbp"?new Intl.NumberFormat("en-US",{style:"currency",currency:"GBP"}).format(B):S==="yen"||S==="jpy"?new Intl.NumberFormat("en-US",{style:"currency",currency:"JPY"}).format(B):S==="rupee"||S==="inr"||S==="rs"?new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(B):S==="percent"?`${B}%`:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(B)}function getPriceFormatFromSchema(x,y){var S,V;if(!x||!x.properties)return null;if(x.properties[y]){const C=x.properties[y];if(C.type==="number"&&((S=C.number)!=null&&S.format))return C.number.format}const B=y.toLowerCase();for(const[C,P]of Object.entries(x.properties))if(C.toLowerCase()===B&&P.type==="number"&&((V=P.number)!=null&&V.format))return P.number.format;return null}const _sfc_main$w={name:"ProductCardGrid",props:{product:{type:Object,required:!0},schema:{type:Object,default:null}},data(){return{isFavorite:!1,currentImageIndex:0,autoScrollInterval:null,isAutoScrollPaused:!1,shareCopied:!1,imageLoaded:!1}},computed:{hasMultipleImages(){var x;return((x=this.product)==null?void 0:x.images)&&Array.isArray(this.product.images)&&this.product.images.length>1},currentImage(){return this.product?this.hasMultipleImages?this.product.images[this.currentImageIndex]||this.product.image||"":this.product.image||"":""},imageKey(){var x;return`${((x=this.product)==null?void 0:x.id)||"prod"}-${this.currentImageIndex}`},productUrl(){if(!this.product)return"";const x=this.product.slug||this.product.Slug||"";if(x)return`${window.location.origin}/products/${x}`;const y=this.product.id||"";return y?`${window.location.origin}/products/${y}`:""},displayFields(){var C;if(!((C=this.schema)!=null&&C.properties)||!this.product)return[];const x=["id","Image","image","Title","title","Name","name","Slug","slug"],y=["location","size","price","percentage"],B=[],S=new Set,V=P=>{if(this.product[P]!==void 0)return this.product[P];const E=P.toLowerCase();for(const D in this.product)if(D.toLowerCase()===E)return this.product[D]};return y.forEach(P=>{var D;const E=Object.keys(this.schema.properties).find(z=>z.toLowerCase()===P);if(E){const z=this.schema.properties[E],T=V(E);if(T!=null&&T!==""){if(Array.isArray(T)&&T.length===0)return;B.push({key:E,label:this.formatLabel(E),type:z.type,format:z.format||((D=z.number)==null?void 0:D.format)||null,value:T,priority:!0}),S.add(E.toLowerCase())}}}),Object.entries(this.schema.properties).forEach(([P,E])=>{var T;const D=P.toLowerCase();if(x.some(j=>j.toLowerCase()===D)||S.has(D)||E.type==="title"||E.type==="files")return;const z=V(P);if(z!=null&&z!==""){if(Array.isArray(z)&&z.length===0)return;B.push({key:P,label:this.formatLabel(P),type:E.type,format:E.format||((T=E.number)==null?void 0:T.format)||null,value:z,priority:!1}),S.add(D)}}),B},locationField(){return this.displayFields.find(x=>x.key.toLowerCase()==="location")},sizeField(){return this.displayFields.find(x=>x.key.toLowerCase()==="size")},priceField(){return this.displayFields.find(x=>x.key.toLowerCase()==="price")},percentageField(){return this.displayFields.find(x=>x.key.toLowerCase()==="percentage")},attributeFields(){return this.displayFields.filter(x=>!x.priority&&x.key.toLowerCase()!=="location"&&x.key.toLowerCase()!=="size"&&x.key.toLowerCase()!=="price"&&x.key.toLowerCase()!=="percentage").slice(0,2)},formattedPrice(){return this.priceField&&this.priceField.value?this.priceField.format?formatPrice(this.priceField.value,this.priceField.format):this.priceField.value:this.product.price||""},brandField(){const x=["Brand","brand","Category","category"];for(const y of x){const B=this.displayFields.find(S=>S.key===y);if(B)return B}return null},bedValue(){return this.product&&(this.product.Bed||this.product.bed||this.product.Bed)||null},bathValue(){return this.product&&(this.product.Bath||this.product.bath||this.product.Bath)||null}},methods:{handleCardClick(){this.$emit("click")},async handleShare(){const x=this.productUrl;if(!x){console.warn("Product URL not available");return}const y=this.product.title||"Check out this product",B=`${y} - ${x}`;if(navigator.share)try{await navigator.share({title:y,text:B,url:x})}catch(S){S.name!=="AbortError"&&this.copyToClipboard(x)}else if(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)){const V=`https://wa.me/?text=${encodeURIComponent(B)}`;window.open(V,"_blank")}else this.copyToClipboard(x)},async copyToClipboard(x){try{await navigator.clipboard.writeText(x),this.shareCopied=!0,setTimeout(()=>{this.shareCopied=!1},2e3)}catch(y){console.error("Failed to copy:",y);const B=`https://wa.me/?text=${encodeURIComponent(x)}`;window.open(B,"_blank")}},toggleFavorite(){this.isFavorite=!this.isFavorite,this.$emit("favorite",{product:this.product,isFavorite:this.isFavorite})},formatLabel(x){return NotionMiddleware&&typeof NotionMiddleware.formatLabel=="function"?NotionMiddleware.formatLabel(x):x.replace(/([A-Z])/g," $1").replace(/_/g," ").replace(/^\w/,y=>y.toUpperCase()).trim()},getFieldIcon(x){const y=x.key.toLowerCase(),B=x.type;return B==="email"||y.includes("email")?"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z":B==="phone_number"||y.includes("phone")?"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z":B==="url"||y.includes("url")||y.includes("website")||y.includes("link")?"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1":B==="date"?"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z":B==="number"?"M7 20l4-16m2 16l4-16M6 9h14M4 15h14":B==="select"||B==="multi_select"?"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z":"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},formatFieldValue(x){if(!x||x.value===null||x.value===void 0)return"";if(Array.isArray(x.value))return x.value.map(y=>typeof y=="object"&&y.name||y).join(", ");if(x.key&&x.key.toLowerCase()==="percentage"){const y=typeof x.value=="number"?x.value:parseFloat(x.value);if(!isNaN(y)){const B=y<1?y*100:y;return`${Math.round(B)}%`}}if(x.type==="number"&&x.format)return formatPrice(x.value,x.format);if(x.type==="date")try{return new Date(x.value).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return x.value}return String(x.value)},formatPercentage(x){if(x==null||x==="")return"";const y=typeof x=="number"?x:parseFloat(x);if(isNaN(y))return String(x);const B=y<1?y*100:y;return`${Math.round(B)}%`},handleImageError(x){x.target.src="https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=800&q=80"},nextImage(){if(!this.hasMultipleImages)return;let x;if(this.product.images.length===1)x=0;else do x=Math.floor(Math.random()*this.product.images.length);while(x===this.currentImageIndex&&this.product.images.length>1);this.currentImageIndex=x},goToImage(x){!this.hasMultipleImages||x<0||x>=this.product.images.length||(this.currentImageIndex=x)},startAutoScroll(){if(!this.hasMultipleImages)return;this.stopAutoScroll();const x=()=>{this.isAutoScrollPaused||this.nextImage();const B=4500+Math.random()*9e3;this.autoScrollInterval=setTimeout(x,B)},y=4500+Math.random()*9e3;this.autoScrollInterval=setTimeout(x,y)},stopAutoScroll(){this.autoScrollInterval&&(clearTimeout(this.autoScrollInterval),this.autoScrollInterval=null)},pauseAutoScroll(){this.isAutoScrollPaused=!0},resumeAutoScroll(){this.isAutoScrollPaused=!1},preloadImages(){if(this.product&&(this.product.images&&Array.isArray(this.product.images)&&this.product.images.forEach(x=>{if(x){const y=new Image;y.src=x}}),this.product.image&&(!this.product.images||!this.product.images.includes(this.product.image)))){const x=new Image;x.src=this.product.image}}},watch:{product:{handler(){this.currentImageIndex=0,this.preloadImages(),this.startAutoScroll()},immediate:!0},hasMultipleImages(x){x?(this.preloadImages(),this.startAutoScroll()):this.stopAutoScroll()}},mounted(){this.preloadImages(),this.hasMultipleImages&&this.startAutoScroll()},beforeUnmount(){this.stopAutoScroll()},emits:["click","favorite"]},_hoisted_1$t={class:"relative w-full h-full"},_hoisted_2$t={key:0,class:"absolute inset-0 bg-gray-200 animate-pulse filter blur-sm pointer-events-none"},_hoisted_3$t=["src","alt"],_hoisted_4$s={key:0,class:"absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-1.5 z-10"},_hoisted_5$q=["onClick","aria-label"],_hoisted_6$q={key:1,class:"absolute top-2 right-2 bg-black/60 text-white text-xs px-2 py-1 rounded-full z-10"},_hoisted_7$n={key:0,class:"w-5 h-5 text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_8$l={key:1,class:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_9$i={key:2,class:"absolute top-3 left-3 bg-emerald-500 text-white text-xs px-2 py-1 rounded-full z-10"},_hoisted_10$h={class:"p-4"},_hoisted_11$h={class:"text-sm text-gray-500 mb-1"},_hoisted_12$g={key:0},_hoisted_13$g={key:1},_hoisted_14$f={class:"text-sm font-medium text-gray-900 mb-2 line-clamp-2 min-h-[2.5rem]"},_hoisted_15$f={key:0,class:"flex items-center gap-1 text-gray-600 mb-2 text-xs"},_hoisted_16$f={class:"truncate"},_hoisted_17$e={key:1,class:"flex items-center gap-1 text-gray-600 mb-2 text-xs"},_hoisted_18$d={class:"truncate"},_hoisted_19$c={key:2,class:"flex items-center gap-3 text-gray-600 text-xs mb-2 flex-wrap"},_hoisted_20$c={key:0,class:"flex items-center gap-1"},_hoisted_21$b={key:1,class:"flex items-center gap-1"},_hoisted_22$a={key:2,class:"flex items-center gap-1"},_hoisted_23$a={key:3,class:"flex items-center gap-1"},_hoisted_24$a={class:"flex items-center justify-between mb-1"},_hoisted_25$a={key:0,class:"text-base font-semibold text-emerald-500"},_hoisted_26$9={key:1,class:"text-base font-semibold text-emerald-500"},_hoisted_27$9={key:2,class:"text-xs text-gray-600"},_hoisted_28$9={key:3,class:"text-xs text-gray-600"},_hoisted_29$9={key:3,class:"text-xs text-orange-600"};function _sfc_render$w(x,y,B,S,V,C){return openBlock(),createElementBlock("div",{class:"bg-white rounded-lg border border-gray-200 product-card overflow-hidden cursor-pointer group relative",onClick:y[5]||(y[5]=(...P)=>C.handleCardClick&&C.handleCardClick(...P))},[createBaseVNode("div",{class:"aspect-square overflow-hidden bg-gray-100 relative group/image",onMouseenter:y[3]||(y[3]=(...P)=>C.pauseAutoScroll&&C.pauseAutoScroll(...P)),onMouseleave:y[4]||(y[4]=(...P)=>C.resumeAutoScroll&&C.resumeAutoScroll(...P))},[createBaseVNode("div",_hoisted_1$t,[V.imageLoaded?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_2$t)),createVNode(TransitionGroup,{name:"slide",tag:"div"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(B.product.images||[B.product.image],(P,E)=>withDirectives((openBlock(),createElementBlock("img",{key:`img-${E}-${P}`,src:P,alt:B.product.title,loading:"lazy",width:"600",height:"600",class:normalizeClass(["absolute inset-0 w-full h-full object-cover transition-opacity duration-300",V.imageLoaded?"opacity-100":"opacity-0"]),onLoad:y[0]||(y[0]=D=>V.imageLoaded=!0),onError:y[1]||(y[1]=(...D)=>C.handleImageError&&C.handleImageError(...D))},null,42,_hoisted_3$t)),[[vShow,V.currentImageIndex===E]])),128))]),_:1})]),C.hasMultipleImages?(openBlock(),createElementBlock("div",_hoisted_4$s,[(openBlock(!0),createElementBlock(Fragment,null,renderList(B.product.images,(P,E)=>(openBlock(),createElementBlock("button",{key:E,onClick:withModifiers(D=>{C.goToImage(E),C.startAutoScroll()},["stop","prevent"]),class:normalizeClass(["w-2 h-2 rounded-full transition-all",V.currentImageIndex===E?"bg-white w-6":"bg-white/50 hover:bg-white/75"]),"aria-label":`Go to image ${E+1}`,type:"button"},null,10,_hoisted_5$q))),128))])):createCommentVNode("",!0),C.hasMultipleImages?(openBlock(),createElementBlock("div",_hoisted_6$q,toDisplayString(V.currentImageIndex+1)+" / "+toDisplayString(B.product.images.length),1)):createCommentVNode("",!0),createBaseVNode("button",{onClick:y[2]||(y[2]=withModifiers((...P)=>C.handleShare&&C.handleShare(...P),["stop","prevent"])),class:"absolute top-2 left-2 bg-white/90 hover:bg-white rounded-full p-2 shadow-lg z-20 transition-all","aria-label":"Share product",type:"button",title:"Share product"},[V.shareCopied?(openBlock(),createElementBlock("svg",_hoisted_8$l,[...y[7]||(y[7]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])):(openBlock(),createElementBlock("svg",_hoisted_7$n,[...y[6]||(y[6]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"},null,-1)])]))]),B.product.isNew?(openBlock(),createElementBlock("div",_hoisted_9$i,"  New Arrival ")):createCommentVNode("",!0)],32),createBaseVNode("div",_hoisted_10$h,[createBaseVNode("p",_hoisted_11$h,[C.brandField?(openBlock(),createElementBlock("span",_hoisted_12$g,toDisplayString(C.formatFieldValue(C.brandField)),1)):(openBlock(),createElementBlock("span",_hoisted_13$g,toDisplayString(B.product.brand||B.product.category),1))]),createBaseVNode("h3",_hoisted_14$f,toDisplayString(B.product.title),1),C.locationField?(openBlock(),createElementBlock("div",_hoisted_15$f,[y[8]||(y[8]=createBaseVNode("svg",{class:"w-3 h-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),createBaseVNode("span",_hoisted_16$f,toDisplayString(C.formatFieldValue(C.locationField)),1)])):B.product.location?(openBlock(),createElementBlock("div",_hoisted_17$e,[y[9]||(y[9]=createBaseVNode("svg",{class:"w-3 h-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),createBaseVNode("span",_hoisted_18$d,toDisplayString(B.product.location),1)])):createCommentVNode("",!0),C.sizeField||C.bedValue||C.bathValue?(openBlock(),createElementBlock("div",_hoisted_19$c,[C.sizeField?(openBlock(),createElementBlock("div",_hoisted_20$c,[y[10]||(y[10]=createBaseVNode("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})],-1)),createBaseVNode("span",null,toDisplayString(C.formatFieldValue(C.sizeField)),1)])):B.product.size?(openBlock(),createElementBlock("div",_hoisted_21$b,[y[11]||(y[11]=createBaseVNode("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})],-1)),createBaseVNode("span",null,toDisplayString(B.product.size),1)])):createCommentVNode("",!0),C.bedValue?(openBlock(),createElementBlock("div",_hoisted_22$a,[y[12]||(y[12]=createBaseVNode("svg",{class:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3 4C3 3.44772 2.55228 3 2 3C1.44772 3 1 3.44772 1 4V14V17V20C1 20.5523 1.44772 21 2 21C2.55228 21 3 20.5523 3 20V18H21V20C21 20.5523 21.4477 21 22 21C22.5523 21 23 20.5523 23 20V17V14V11C23 8.23858 20.7614 6 18 6H12C11.4477 6 11 6.44772 11 7V9.5C11 7.567 9.433 6 7.5 6C5.567 6 4 7.567 4 9.5C4 11.433 5.567 13 7.5 13H3V4ZM7.5 13C9.433 13 11 11.433 11 9.5V13H7.5ZM21 15V16H3V15H12H21ZM21 11V13H13V8H18C19.6569 8 21 9.34315 21 11ZM6 9.5C6 8.67157 6.67157 8 7.5 8C8.32843 8 9 8.67157 9 9.5C9 10.3284 8.32843 11 7.5 11C6.67157 11 6 10.3284 6 9.5Z",fill:"currentColor"})],-1)),createBaseVNode("span",null,toDisplayString(C.bedValue),1)])):createCommentVNode("",!0),C.bathValue?(openBlock(),createElementBlock("div",_hoisted_23$a,[y[13]||(y[13]=createStaticVNode('<svg class="w-3 h-3" viewBox="0 0 512 512" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-0046e88a><path d="M169.756,469.575h172.488c90.836,0,164.466-73.63,164.466-164.466H5.29 C5.29,395.945,78.92,469.575,169.756,469.575z" fill="currentColor" data-v-0046e88a></path><path d="M23.137,248.95v-49.437c0-27.296,7.976-53.949,22.744-76.842l4.755,3.612l12.724-14.878L37.953,91.959 L27.219,108.49l4.521,3.431c-17.096,26.003-26.317,56.426-26.317,87.592v49.437H5.29v32.091h501.42V248.95H23.137z" fill="currentColor" data-v-0046e88a></path><path d="M261.21,94.882c1.285-0.071,2.523-0.635,3.393-1.59c0.854-0.964,1.308-2.249,1.253-3.526 c-0.078-1.285-0.65-2.515-1.606-3.385c-0.956-0.87-2.241-1.316-3.518-1.253c-1.284,0.062-2.53,0.642-3.392,1.606 c-0.854,0.94-1.317,2.233-1.238,3.525c0.054,1.277,0.643,2.507,1.598,3.369C258.648,94.497,259.933,94.952,261.21,94.882z" fill="currentColor" data-v-0046e88a></path><path d="M166.841,55.512c1.285-0.07,2.507-0.658,3.377-1.614c0.87-0.948,1.317-2.233,1.261-3.51 c-0.062-1.285-0.65-2.523-1.598-3.393c-0.964-0.854-2.256-1.324-3.533-1.245c-1.285,0.071-2.523,0.643-3.393,1.598 c-0.862,0.956-1.324,2.233-1.245,3.525c0.054,1.285,0.65,2.523,1.598,3.385C164.263,55.113,165.557,55.567,166.841,55.512z" fill="currentColor" data-v-0046e88a></path><path d="M235.488,84.673c2.5,1.042,5.367-0.133,6.401-2.624c1.034-2.484-0.133-5.351-2.624-6.393 c-2.5-1.042-5.359,0.133-6.393,2.632C231.83,80.771,232.997,83.638,235.488,84.673z" fill="currentColor" data-v-0046e88a></path><path d="M211.906,74.825c2.484,1.042,5.351-0.133,6.385-2.64c1.034-2.484-0.133-5.343-2.632-6.377 c-2.484-1.034-5.351,0.141-6.385,2.624C208.224,70.915,209.407,73.791,211.906,74.825z" fill="currentColor" data-v-0046e88a></path><path d="M188.3,64.977c2.492,1.05,5.359-0.126,6.401-2.617c1.034-2.492-0.141-5.359-2.625-6.409 c-2.499-1.027-5.359,0.14-6.4,2.632C184.634,61.083,185.825,63.95,188.3,64.977z" fill="currentColor" data-v-0046e88a></path><path d="M150.858,65.055c0.071,1.285,0.659,2.507,1.606,3.377c0.956,0.862,2.232,1.324,3.526,1.262 c1.293-0.079,2.507-0.659,3.377-1.599c0.87-0.964,1.324-2.256,1.261-3.541c-0.062-1.277-0.642-2.515-1.606-3.377 c-0.956-0.87-2.233-1.332-3.518-1.261c-1.292,0.071-2.515,0.658-3.392,1.614C151.258,62.47,150.796,63.77,150.858,65.055z" fill="currentColor" data-v-0046e88a></path><path d="M174.01,82.292c2.287,1.449,5.304,0.768,6.761-1.497c1.45-2.272,0.784-5.296-1.488-6.746 c-2.272-1.457-5.296-0.791-6.738,1.481C171.079,77.81,171.753,80.826,174.01,82.292z" fill="currentColor" data-v-0046e88a></path><path d="M214.359,102.254c-1.466,2.288-0.799,5.296,1.48,6.738c2.257,1.465,5.28,0.799,6.746-1.473 c1.457-2.288,0.791-5.296-1.489-6.754C218.824,99.316,215.8,99.974,214.359,102.254z" fill="currentColor" data-v-0046e88a></path><path d="M193.439,88.888c-1.457,2.28-0.783,5.297,1.489,6.754c2.272,1.465,5.296,0.792,6.746-1.488 c1.465-2.264,0.791-5.297-1.481-6.73C197.914,85.942,194.905,86.632,193.439,88.888z" fill="currentColor" data-v-0046e88a></path><path d="M235.755,114.962c-0.862,0.972-1.332,2.241-1.262,3.526c0.055,1.284,0.643,2.515,1.598,3.377 c0.964,0.862,2.241,1.332,3.526,1.261c1.285-0.071,2.515-0.643,3.377-1.606c0.87-0.94,1.317-2.232,1.261-3.525 c-0.07-1.277-0.65-2.5-1.606-3.376c-0.94-0.863-2.233-1.317-3.525-1.254C237.839,113.426,236.617,114.006,235.755,114.962z" fill="currentColor" data-v-0046e88a></path><path d="M130.425,89.875c-0.862,0.956-1.316,2.241-1.253,3.525c0.07,1.285,0.642,2.523,1.614,3.377 c0.948,0.862,2.233,1.332,3.525,1.262c1.269-0.055,2.507-0.658,3.377-1.599c0.854-0.956,1.308-2.256,1.246-3.525 c-0.063-1.285-0.651-2.523-1.598-3.385c-0.956-0.862-2.24-1.316-3.526-1.253C132.533,88.347,131.288,88.919,130.425,89.875z" fill="currentColor" data-v-0046e88a></path><path d="M152.731,117.218c2.139-1.654,2.515-4.74,0.862-6.856c-1.652-2.139-4.716-2.523-6.855-0.87 c-2.139,1.653-2.507,4.717-0.862,6.864C147.521,118.488,150.592,118.871,152.731,117.218z" fill="currentColor" data-v-0046e88a></path><path d="M168.408,137.408c2.139-1.669,2.523-4.725,0.878-6.848c-1.677-2.139-4.732-2.538-6.864-0.87 c-2.139,1.661-2.522,4.732-0.87,6.848C163.214,138.67,166.285,139.069,168.408,137.408z" fill="currentColor" data-v-0046e88a></path><path d="M178.099,149.873c-2.131,1.669-2.53,4.732-0.862,6.864c1.654,2.139,4.716,2.522,6.855,0.862 c2.139-1.646,2.515-4.725,0.862-6.848C183.294,148.619,180.231,148.228,178.099,149.873z" fill="currentColor" data-v-0046e88a></path><path d="M196.535,169.06c-1.293,0.054-2.523,0.642-3.385,1.606c-0.87,0.94-1.316,2.241-1.261,3.51 c0.07,1.277,0.65,2.53,1.621,3.377c0.94,0.878,2.21,1.332,3.503,1.261c1.292-0.063,2.522-0.643,3.384-1.606 c0.862-0.947,1.324-2.232,1.254-3.51c-0.063-1.277-0.651-2.53-1.606-3.392C199.088,169.444,197.819,168.99,196.535,169.06z" fill="currentColor" data-v-0046e88a></path><path d="M149.777,78.742c-0.063-1.286-0.634-2.523-1.599-3.393c-0.956-0.862-2.248-1.316-3.525-1.253 c-1.277,0.062-2.515,0.658-3.385,1.606c-0.862,0.964-1.308,2.241-1.253,3.525c0.078,1.285,0.65,2.515,1.614,3.377 c0.94,0.87,2.234,1.316,3.526,1.262c1.284-0.071,2.507-0.643,3.369-1.599C149.385,81.296,149.847,80.02,149.777,78.742z" fill="currentColor" data-v-0046e88a></path><path d="M178.021,109.054c-1.81,1.998-1.661,5.085,0.329,6.903c2.006,1.809,5.085,1.676,6.902-0.337 c1.818-1.99,1.676-5.078-0.329-6.895C182.926,106.9,179.831,107.065,178.021,109.054z" fill="currentColor" data-v-0046e88a></path><path d="M196.393,125.726c-1.818,1.998-1.676,5.101,0.329,6.911c1.998,1.809,5.093,1.661,6.895-0.33 c1.833-1.998,1.677-5.085-0.329-6.91C201.291,123.58,198.203,123.737,196.393,125.726z" fill="currentColor" data-v-0046e88a></path><path d="M166.889,98.948c1.81-2.013,1.668-5.092-0.329-6.902c-1.998-1.818-5.093-1.654-6.919,0.321 c-1.809,2.006-1.652,5.093,0.345,6.918C161.983,101.094,165.071,100.938,166.889,98.948z" fill="currentColor" data-v-0046e88a></path><path d="M218.135,140.816c-1.293,0.078-2.515,0.642-3.377,1.606c-0.878,0.948-1.324,2.233-1.269,3.525 c0.071,1.277,0.642,2.515,1.606,3.37c0.947,0.877,2.233,1.332,3.525,1.269c1.285-0.07,2.515-0.651,3.377-1.622 c0.862-0.94,1.324-2.225,1.254-3.51c-0.055-1.292-0.642-2.522-1.599-3.377C220.705,141.216,219.419,140.761,218.135,140.816z" fill="currentColor" data-v-0046e88a></path><path d="M96.69,71.62l5.382,3.76l38.836-50.769L119.175,5.269l-3.306-2.507c-2.852-2.194-6.479-3.126-10.02-2.632 c-3.573,0.494-6.785,2.397-8.924,5.273c0,0-10.373,10.968-14.769,17.071C44.463,74.676,41.98,85.715,41.98,85.715l26.019,19.9 L96.69,71.62z" fill="currentColor" data-v-0046e88a></path><path d="M112.429,82.581c2.953,2.037,6.964,1.386,9.128-1.434l29.779-38.938c2.131-2.79,1.763-6.754-0.877-9.104 l-4.224-3.753L107.909,79.44L112.429,82.581z" fill="currentColor" data-v-0046e88a></path><path d="M74.964,466.512c-12.52,0-22.705,10.185-22.705,22.704c0,12.591,10.185,22.784,22.705,22.784 c12.512,0,22.219-6.738,26.716-21.263c1.442-4.49,3.37-13.632,4.654-22.462c-8.187-2.892-16.131-6.417-23.669-10.35 C80.738,464.506,77.212,466.512,74.964,466.512z" fill="currentColor" data-v-0046e88a></path><path d="M436.95,466.512c-2.249,0-5.782-2.006-7.702-8.587c-7.545,3.933-15.489,7.458-23.669,10.35 c1.363,8.83,3.291,17.972,4.654,22.462C414.723,505.262,424.429,512,436.95,512c12.59,0,22.783-10.193,22.783-22.784 C459.733,476.697,449.54,466.512,436.95,466.512z" fill="currentColor" data-v-0046e88a></path></svg>',1)),createBaseVNode("span",null,toDisplayString(C.bathValue),1)])):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_24$a,[C.priceField?(openBlock(),createElementBlock("p",_hoisted_25$a,toDisplayString(C.formattedPrice),1)):B.product.price?(openBlock(),createElementBlock("p",_hoisted_26$9,toDisplayString(B.product.price),1)):createCommentVNode("",!0),C.percentageField?(openBlock(),createElementBlock("span",_hoisted_27$9,toDisplayString(C.formatFieldValue(C.percentageField)),1)):B.product.percentage?(openBlock(),createElementBlock("span",_hoisted_28$9,toDisplayString(C.formatPercentage(B.product.percentage)),1)):createCommentVNode("",!0)]),B.product.stock&&B.product.stock<20?(openBlock(),createElementBlock("p",_hoisted_29$9,toDisplayString(B.product.stock)+" items left! ",1)):createCommentVNode("",!0)])])}const __unplugin_components_1$2=_export_sfc(_sfc_main$w,[["render",_sfc_render$w],["__scopeId","data-v-0046e88a"]]),_sfc_main$v={name:"ProductCard",props:{product:{type:Object,required:!0},schema:{type:Object,default:null}},data(){return{currentImageIndex:0,touchStartX:null,touchStartY:null,autoplayInterval:null,autoplayPaused:!1,shareCopied:!1,imageLoaded:!1}},mounted(){var x,y;((y=(x=this.product)==null?void 0:x.images)==null?void 0:y.length)>1&&this.startAutoplay()},beforeUnmount(){this.stopAutoplay()},computed:{buttonText(){return"View Details"},currentImage(){return this.product?this.product.images&&this.product.images.length>0?this.product.images[this.currentImageIndex]||this.product.image||"":this.product.image||"":""},imageKey(){var x;return`${((x=this.product)==null?void 0:x.id)||"prod"}-${this.currentImageIndex}`},productUrl(){if(!this.product)return"";const x=this.product.slug||this.product.Slug||"";if(x)return`${window.location.origin}/products/${x}`;const y=this.product.id||"";return y?`${window.location.origin}/products/${y}`:""},displayFields(){var C;if(!((C=this.schema)!=null&&C.properties)||!this.product)return[];const x=["id","Image","image","Title","title","Name","name","Slug","slug"],y=["location","size","price","percentage"],B=[],S=new Set,V=P=>{if(this.product[P]!==void 0)return this.product[P];const E=P.toLowerCase();for(const D in this.product)if(D.toLowerCase()===E)return this.product[D]};return y.forEach(P=>{var D;const E=Object.keys(this.schema.properties).find(z=>z.toLowerCase()===P);if(E){const z=this.schema.properties[E],T=V(E);if(T!=null&&T!==""){if(Array.isArray(T)&&T.length===0)return;B.push({key:E,label:this.formatLabel(E),type:z.type,format:z.format||((D=z.number)==null?void 0:D.format)||null,value:T,priority:!0}),S.add(E.toLowerCase())}}}),Object.entries(this.schema.properties).forEach(([P,E])=>{var T;const D=P.toLowerCase();if(x.some(j=>j.toLowerCase()===D)||S.has(D)||E.type==="title"||E.type==="files")return;const z=V(P);if(z!=null&&z!==""){if(Array.isArray(z)&&z.length===0)return;B.push({key:P,label:this.formatLabel(P),type:E.type,format:E.format||((T=E.number)==null?void 0:T.format)||null,value:z,priority:!1}),S.add(D)}}),B},locationField(){return this.displayFields.find(x=>x.key.toLowerCase()==="location")},sizeField(){return this.displayFields.find(x=>x.key.toLowerCase()==="size")},priceField(){return this.displayFields.find(x=>x.key.toLowerCase()==="price")},percentageField(){return this.displayFields.find(x=>x.key.toLowerCase()==="percentage")},attributeFields(){return this.displayFields.filter(x=>!x.priority&&x.key.toLowerCase()!=="location"&&x.key.toLowerCase()!=="size"&&x.key.toLowerCase()!=="price"&&x.key.toLowerCase()!=="percentage").slice(0,2)},formattedPrice(){return this.priceField&&this.priceField.value?this.priceField.format?formatPrice(this.priceField.value,this.priceField.format):this.priceField.value:this.product.price||""},bedValue(){return this.product&&(this.product.Bed||this.product.bed||this.product.Bed)||null},bathValue(){return this.product&&(this.product.Bath||this.product.bath||this.product.Bath)||null}},watch:{product:{handler(x){var y;this.currentImageIndex=0,this.stopAutoplay(),((y=x==null?void 0:x.images)==null?void 0:y.length)>1&&this.startAutoplay()},immediate:!0}},methods:{startAutoplay(){this.stopAutoplay(),this.autoplayInterval=setInterval(()=>{var x,y;!this.autoplayPaused&&((y=(x=this.product)==null?void 0:x.images)==null?void 0:y.length)>1&&this.nextImage()},3e3)},stopAutoplay(){this.autoplayInterval&&(clearInterval(this.autoplayInterval),this.autoplayInterval=null)},pauseAutoplay(){this.autoplayPaused=!0},resumeAutoplay(){this.autoplayPaused=!1},handleImageError(x){x.target.src="https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=800&q=80"},nextImage(){if(!this.product||!this.product.images||this.product.images.length<=1)return;const x=(this.currentImageIndex+1)%this.product.images.length;this.currentImageIndex=x},previousImage(){if(!this.product||!this.product.images||this.product.images.length<=1)return;const x=this.currentImageIndex===0?this.product.images.length-1:this.currentImageIndex-1;this.currentImageIndex=x},goToImage(x){!this.product.images||x<0||x>=this.product.images.length||(this.currentImageIndex=x)},handleCardClick(x){!x.target.closest("button")&&!x.target.closest(".z-20")&&this.$emit("click")},async handleShare(){const x=this.productUrl;if(!x){console.warn("Product URL not available");return}const y=this.product.title||"Check out this product",B=`${x}`;if(navigator.share)try{await navigator.share({title:y,text:B,url:x})}catch(S){S.name!=="AbortError"&&this.copyToClipboard(x)}else if(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)){const V=`https://wa.me/?text=${encodeURIComponent(B)}`;window.open(V,"_blank")}else this.copyToClipboard(x)},async copyToClipboard(x){try{await navigator.clipboard.writeText(x),this.shareCopied=!0,setTimeout(()=>{this.shareCopied=!1},2e3)}catch(y){console.error("Failed to copy:",y);const B=`https://wa.me/?text=${encodeURIComponent(x)}`;window.open(B,"_blank")}},handleKeyDown(x){x.target.closest(".aspect-video")&&(x.key==="ArrowLeft"?(x.preventDefault(),this.previousImage()):x.key==="ArrowRight"&&(x.preventDefault(),this.nextImage()))},handleTouchStart(x){const y=x.touches[0];this.touchStartX=y.clientX,this.touchStartY=y.clientY},handleTouchMove(x){x.preventDefault()},handleTouchEnd(x){var V,C;if(this.touchStartX===null||this.touchStartY===null)return;const y=x.changedTouches[0],B=y.clientX-this.touchStartX,S=y.clientY-this.touchStartY;Math.abs(B)>Math.abs(S)&&Math.abs(B)>50&&(B>0?this.previousImage():this.nextImage(),((C=(V=this.product)==null?void 0:V.images)==null?void 0:C.length)>1&&this.startAutoplay()),this.touchStartX=null,this.touchStartY=null},formatLabel(x){return NotionMiddleware&&typeof NotionMiddleware.formatLabel=="function"?NotionMiddleware.formatLabel(x):x.replace(/([A-Z])/g," $1").replace(/_/g," ").replace(/^\w/,y=>y.toUpperCase()).trim()},getFieldIcon(x){const y=x.key.toLowerCase(),B=x.type;return B==="email"||y.includes("email")?"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z":B==="phone_number"||y.includes("phone")?"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z":B==="url"||y.includes("url")||y.includes("website")||y.includes("link")?"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1":B==="date"?"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z":B==="number"?"M7 20l4-16m2 16l4-16M6 9h14M4 15h14":B==="select"||B==="multi_select"?"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z":"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},formatFieldValue(x){if(!x||x.value===null||x.value===void 0)return"";if(Array.isArray(x.value))return x.value.map(y=>typeof y=="object"&&y.name||y).join(", ");if(x.key&&x.key.toLowerCase()==="percentage"){const y=typeof x.value=="number"?x.value:parseFloat(x.value);if(!isNaN(y)){const B=y<1?y*100:y;return`${Math.round(B)}%`}}if(x.type==="number"&&x.format)return formatPrice(x.value,x.format);if(x.type==="date")try{return new Date(x.value).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return x.value}return String(x.value)},formatPercentage(x){if(x==null||x==="")return"";const y=typeof x=="number"?x:parseFloat(x);if(isNaN(y))return String(x);const B=y<1?y*100:y;return`${Math.round(B)}%`}}},_hoisted_1$s={class:"relative w-full h-full"},_hoisted_2$s={key:0,class:"absolute inset-0 bg-gray-200 animate-pulse filter blur-sm pointer-events-none"},_hoisted_3$s=["src","alt"],_hoisted_4$r={key:2,class:"absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-1.5 z-10"},_hoisted_5$p=["onClick","aria-label"],_hoisted_6$p={key:3,class:"absolute top-2 right-2 bg-black/60 text-white text-xs px-2 py-1 rounded-full z-10"},_hoisted_7$m={key:0,class:"w-5 h-5 text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_8$k={key:1,class:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_9$h={class:"p-5"},_hoisted_10$g={class:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2"},_hoisted_11$g={key:0,class:"flex items-center gap-1 text-gray-600 mb-3 text-sm"},_hoisted_12$f={key:1,class:"flex items-center gap-4 text-gray-600 text-sm mb-4 flex-wrap"},_hoisted_13$f={key:0,class:"flex items-center gap-1"},_hoisted_14$e={key:1,class:"flex items-center gap-1"},_hoisted_15$e={key:2,class:"flex items-center gap-1"},_hoisted_16$e={key:3,class:"flex items-center gap-1"},_hoisted_17$d={class:"flex items-center justify-between mb-4"},_hoisted_18$c={key:0,class:"text-2xl font-bold text-emerald-500"},_hoisted_19$b={key:1,class:"text-2xl font-bold text-emerald-500"},_hoisted_20$b={key:2,class:"text-gray-600 ml-2"},_hoisted_21$a={key:3,class:"text-gray-600 ml-2"};function _sfc_render$v(x,y,B,S,V,C){return openBlock(),createElementBlock("div",{class:"bg-white rounded-xl shadow-md border border-gray-100 product-card overflow-hidden cursor-pointer",onClick:y[16]||(y[16]=(...P)=>C.handleCardClick&&C.handleCardClick(...P))},[createBaseVNode("div",{class:"aspect-video overflow-hidden bg-gray-200 relative group",onKeydown:y[12]||(y[12]=(...P)=>C.handleKeyDown&&C.handleKeyDown(...P)),tabindex:"0",onMouseenter:y[13]||(y[13]=(...P)=>C.pauseAutoplay&&C.pauseAutoplay(...P)),onMouseleave:y[14]||(y[14]=(...P)=>C.resumeAutoplay&&C.resumeAutoplay(...P))},[createBaseVNode("div",{class:"relative w-full h-full overflow-hidden",onTouchstart:y[9]||(y[9]=(...P)=>C.handleTouchStart&&C.handleTouchStart(...P)),onTouchmove:y[10]||(y[10]=(...P)=>C.handleTouchMove&&C.handleTouchMove(...P)),onTouchend:y[11]||(y[11]=(...P)=>C.handleTouchEnd&&C.handleTouchEnd(...P))},[createBaseVNode("div",_hoisted_1$s,[V.imageLoaded?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_2$s)),createVNode(TransitionGroup,{name:"slide",tag:"div"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(B.product.images||[B.product.image],(P,E)=>withDirectives((openBlock(),createElementBlock("img",{key:`img-${E}-${P}`,src:P,alt:B.product.title,loading:"lazy",width:"800",height:"450",class:normalizeClass(["absolute inset-0 w-full h-full object-cover transition-opacity duration-300",V.imageLoaded?"opacity-100":"opacity-0"]),onLoad:y[0]||(y[0]=D=>V.imageLoaded=!0),onError:y[1]||(y[1]=(...D)=>C.handleImageError&&C.handleImageError(...D))},null,42,_hoisted_3$s)),[[vShow,V.currentImageIndex===E]])),128))]),_:1})]),B.product.images&&B.product.images.length>1?(openBlock(),createElementBlock("button",{key:0,onClick:y[2]||(y[2]=withModifiers(P=>{C.previousImage(),C.startAutoplay()},["stop","prevent"])),onMousedown:y[3]||(y[3]=withModifiers(()=>{},["stop"])),onMouseup:y[4]||(y[4]=withModifiers(()=>{},["stop"])),class:"absolute left-2 top-1/2 -translate-y-1/2 bg-white hover:bg-gray-50 rounded-full p-2 shadow-lg z-20 pointer-events-auto transition-all opacity-0 group-hover:opacity-100","aria-label":"Previous image",type:"button"},[...y[17]||(y[17]=[createBaseVNode("svg",{class:"w-5 h-5 text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])],32)):createCommentVNode("",!0),B.product.images&&B.product.images.length>1?(openBlock(),createElementBlock("button",{key:1,onClick:y[5]||(y[5]=withModifiers(P=>{C.nextImage(),C.startAutoplay()},["stop","prevent"])),onMousedown:y[6]||(y[6]=withModifiers(()=>{},["stop"])),onMouseup:y[7]||(y[7]=withModifiers(()=>{},["stop"])),class:"absolute right-2 top-1/2 -translate-y-1/2 bg-white hover:bg-gray-50 rounded-full p-2 shadow-lg z-20 pointer-events-auto transition-all opacity-0 group-hover:opacity-100","aria-label":"Next image",type:"button"},[...y[18]||(y[18]=[createBaseVNode("svg",{class:"w-5 h-5 text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],32)):createCommentVNode("",!0),B.product.images&&B.product.images.length>1?(openBlock(),createElementBlock("div",_hoisted_4$r,[(openBlock(!0),createElementBlock(Fragment,null,renderList(B.product.images,(P,E)=>(openBlock(),createElementBlock("button",{key:E,onClick:withModifiers(D=>{C.goToImage(E),C.startAutoplay()},["stop","prevent"]),class:normalizeClass(["w-2 h-2 rounded-full transition-all",V.currentImageIndex===E?"bg-white w-6":"bg-white/50 hover:bg-white/75"]),"aria-label":`Go to image ${E+1}`,type:"button"},null,10,_hoisted_5$p))),128))])):createCommentVNode("",!0),B.product.images&&B.product.images.length>1?(openBlock(),createElementBlock("div",_hoisted_6$p,toDisplayString(V.currentImageIndex+1)+" / "+toDisplayString(B.product.images.length),1)):createCommentVNode("",!0),createBaseVNode("button",{onClick:y[8]||(y[8]=withModifiers((...P)=>C.handleShare&&C.handleShare(...P),["stop","prevent"])),class:"absolute top-2 left-2 bg-white/90 hover:bg-white rounded-full p-2 shadow-lg z-20 transition-all","aria-label":"Share product",type:"button",title:"Share product",ref:"shareButton"},[V.shareCopied?(openBlock(),createElementBlock("svg",_hoisted_8$k,[...y[20]||(y[20]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])):(openBlock(),createElementBlock("svg",_hoisted_7$m,[...y[19]||(y[19]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"},null,-1)])]))],512)],32)],32),createBaseVNode("div",_hoisted_9$h,[createBaseVNode("h3",_hoisted_10$g,toDisplayString(B.product.title),1),C.locationField?(openBlock(),createElementBlock("div",_hoisted_11$g,[y[21]||(y[21]=createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),createTextVNode(" "+toDisplayString(C.formatFieldValue(C.locationField)),1)])):createCommentVNode("",!0),C.sizeField||C.bedValue||C.bathValue?(openBlock(),createElementBlock("div",_hoisted_12$f,[C.sizeField?(openBlock(),createElementBlock("div",_hoisted_13$f,[y[22]||(y[22]=createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})],-1)),createTextVNode(" "+toDisplayString(C.formatFieldValue(C.sizeField)),1)])):B.product.size?(openBlock(),createElementBlock("div",_hoisted_14$e,[y[23]||(y[23]=createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})],-1)),createTextVNode(" "+toDisplayString(B.product.size),1)])):createCommentVNode("",!0),C.bedValue?(openBlock(),createElementBlock("div",_hoisted_15$e,[y[24]||(y[24]=createBaseVNode("svg",{class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3 4C3 3.44772 2.55228 3 2 3C1.44772 3 1 3.44772 1 4V14V17V20C1 20.5523 1.44772 21 2 21C2.55228 21 3 20.5523 3 20V18H21V20C21 20.5523 21.4477 21 22 21C22.5523 21 23 20.5523 23 20V17V14V11C23 8.23858 20.7614 6 18 6H12C11.4477 6 11 6.44772 11 7V9.5C11 7.567 9.433 6 7.5 6C5.567 6 4 7.567 4 9.5C4 11.433 5.567 13 7.5 13H3V4ZM7.5 13C9.433 13 11 11.433 11 9.5V13H7.5ZM21 15V16H3V15H12H21ZM21 11V13H13V8H18C19.6569 8 21 9.34315 21 11ZM6 9.5C6 8.67157 6.67157 8 7.5 8C8.32843 8 9 8.67157 9 9.5C9 10.3284 8.32843 11 7.5 11C6.67157 11 6 10.3284 6 9.5Z",fill:"currentColor"})],-1)),createTextVNode(" "+toDisplayString(C.bedValue),1)])):createCommentVNode("",!0),C.bathValue?(openBlock(),createElementBlock("div",_hoisted_16$e,[y[25]||(y[25]=createStaticVNode('<svg class="w-4 h-4" viewBox="0 0 512 512" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-42d18e73><path d="M169.756,469.575h172.488c90.836,0,164.466-73.63,164.466-164.466H5.29 C5.29,395.945,78.92,469.575,169.756,469.575z" fill="currentColor" data-v-42d18e73></path><path d="M23.137,248.95v-49.437c0-27.296,7.976-53.949,22.744-76.842l4.755,3.612l12.724-14.878L37.953,91.959 L27.219,108.49l4.521,3.431c-17.096,26.003-26.317,56.426-26.317,87.592v49.437H5.29v32.091h501.42V248.95H23.137z" fill="currentColor" data-v-42d18e73></path><path d="M261.21,94.882c1.285-0.071,2.523-0.635,3.393-1.59c0.854-0.964,1.308-2.249,1.253-3.526 c-0.078-1.285-0.65-2.515-1.606-3.385c-0.956-0.87-2.241-1.316-3.518-1.253c-1.284,0.062-2.53,0.642-3.392,1.606 c-0.854,0.94-1.317,2.233-1.238,3.525c0.054,1.277,0.643,2.507,1.598,3.369C258.648,94.497,259.933,94.952,261.21,94.882z" fill="currentColor" data-v-42d18e73></path><path d="M166.841,55.512c1.285-0.07,2.507-0.658,3.377-1.614c0.87-0.948,1.317-2.233,1.261-3.51 c-0.062-1.285-0.65-2.523-1.598-3.393c-0.964-0.854-2.256-1.324-3.533-1.245c-1.285,0.071-2.523,0.643-3.393,1.598 c-0.862,0.956-1.324,2.233-1.245,3.525c0.054,1.285,0.65,2.523,1.598,3.385C164.263,55.113,165.557,55.567,166.841,55.512z" fill="currentColor" data-v-42d18e73></path><path d="M235.488,84.673c2.5,1.042,5.367-0.133,6.401-2.624c1.034-2.484-0.133-5.351-2.624-6.393 c-2.5-1.042-5.359,0.133-6.393,2.632C231.83,80.771,232.997,83.638,235.488,84.673z" fill="currentColor" data-v-42d18e73></path><path d="M211.906,74.825c2.484,1.042,5.351-0.133,6.385-2.64c1.034-2.484-0.133-5.343-2.632-6.377 c-2.484-1.034-5.351,0.141-6.385,2.624C208.224,70.915,209.407,73.791,211.906,74.825z" fill="currentColor" data-v-42d18e73></path><path d="M188.3,64.977c2.492,1.05,5.359-0.126,6.401-2.617c1.034-2.492-0.141-5.359-2.625-6.409 c-2.499-1.027-5.359,0.14-6.4,2.632C184.634,61.083,185.825,63.95,188.3,64.977z" fill="currentColor" data-v-42d18e73></path><path d="M150.858,65.055c0.071,1.285,0.659,2.507,1.606,3.377c0.956,0.862,2.232,1.324,3.526,1.262 c1.293-0.079,2.507-0.659,3.377-1.599c0.87-0.964,1.324-2.256,1.261-3.541c-0.062-1.277-0.642-2.515-1.606-3.377 c-0.956-0.87-2.233-1.332-3.518-1.261c-1.292,0.071-2.515,0.658-3.392,1.614C151.258,62.47,150.796,63.77,150.858,65.055z" fill="currentColor" data-v-42d18e73></path><path d="M174.01,82.292c2.287,1.449,5.304,0.768,6.761-1.497c1.45-2.272,0.784-5.296-1.488-6.746 c-2.272-1.457-5.296-0.791-6.738,1.481C171.079,77.81,171.753,80.826,174.01,82.292z" fill="currentColor" data-v-42d18e73></path><path d="M214.359,102.254c-1.466,2.288-0.799,5.296,1.48,6.738c2.257,1.465,5.28,0.799,6.746-1.473 c1.457-2.288,0.791-5.296-1.489-6.754C218.824,99.316,215.8,99.974,214.359,102.254z" fill="currentColor" data-v-42d18e73></path><path d="M193.439,88.888c-1.457,2.28-0.783,5.297,1.489,6.754c2.272,1.465,5.296,0.792,6.746-1.488 c1.465-2.264,0.791-5.297-1.481-6.73C197.914,85.942,194.905,86.632,193.439,88.888z" fill="currentColor" data-v-42d18e73></path><path d="M235.755,114.962c-0.862,0.972-1.332,2.241-1.262,3.526c0.055,1.284,0.643,2.515,1.598,3.377 c0.964,0.862,2.241,1.332,3.526,1.261c1.285-0.071,2.515-0.643,3.377-1.606c0.87-0.94,1.317-2.232,1.261-3.525 c-0.07-1.277-0.65-2.5-1.606-3.376c-0.94-0.863-2.233-1.317-3.525-1.254C237.839,113.426,236.617,114.006,235.755,114.962z" fill="currentColor" data-v-42d18e73></path><path d="M130.425,89.875c-0.862,0.956-1.316,2.241-1.253,3.525c0.07,1.285,0.642,2.523,1.614,3.377 c0.948,0.862,2.233,1.332,3.525,1.262c1.269-0.055,2.507-0.658,3.377-1.599c0.854-0.956,1.308-2.256,1.246-3.525 c-0.063-1.285-0.651-2.523-1.598-3.385c-0.956-0.862-2.24-1.316-3.526-1.253C132.533,88.347,131.288,88.919,130.425,89.875z" fill="currentColor" data-v-42d18e73></path><path d="M152.731,117.218c2.139-1.654,2.515-4.74,0.862-6.856c-1.652-2.139-4.716-2.523-6.855-0.87 c-2.139,1.653-2.507,4.717-0.862,6.864C147.521,118.488,150.592,118.871,152.731,117.218z" fill="currentColor" data-v-42d18e73></path><path d="M168.408,137.408c2.139-1.669,2.523-4.725,0.878-6.848c-1.677-2.139-4.732-2.538-6.864-0.87 c-2.139,1.661-2.522,4.732-0.87,6.848C163.214,138.67,166.285,139.069,168.408,137.408z" fill="currentColor" data-v-42d18e73></path><path d="M178.099,149.873c-2.131,1.669-2.53,4.732-0.862,6.864c1.654,2.139,4.716,2.522,6.855,0.862 c2.139-1.646,2.515-4.725,0.862-6.848C183.294,148.619,180.231,148.228,178.099,149.873z" fill="currentColor" data-v-42d18e73></path><path d="M196.535,169.06c-1.293,0.054-2.523,0.642-3.385,1.606c-0.87,0.94-1.316,2.241-1.261,3.51 c0.07,1.277,0.65,2.53,1.621,3.377c0.94,0.878,2.21,1.332,3.503,1.261c1.292-0.063,2.522-0.643,3.384-1.606 c0.862-0.947,1.324-2.232,1.254-3.51c-0.063-1.277-0.651-2.53-1.606-3.392C199.088,169.444,197.819,168.99,196.535,169.06z" fill="currentColor" data-v-42d18e73></path><path d="M149.777,78.742c-0.063-1.286-0.634-2.523-1.599-3.393c-0.956-0.862-2.248-1.316-3.525-1.253 c-1.277,0.062-2.515,0.658-3.385,1.606c-0.862,0.964-1.308,2.241-1.253,3.525c0.078,1.285,0.65,2.515,1.614,3.377 c0.94,0.87,2.234,1.316,3.526,1.262c1.284-0.071,2.507-0.643,3.369-1.599C149.385,81.296,149.847,80.02,149.777,78.742z" fill="currentColor" data-v-42d18e73></path><path d="M178.021,109.054c-1.81,1.998-1.661,5.085,0.329,6.903c2.006,1.809,5.085,1.676,6.902-0.337 c1.818-1.99,1.676-5.078-0.329-6.895C182.926,106.9,179.831,107.065,178.021,109.054z" fill="currentColor" data-v-42d18e73></path><path d="M196.393,125.726c-1.818,1.998-1.676,5.101,0.329,6.911c1.998,1.809,5.093,1.661,6.895-0.33 c1.833-1.998,1.677-5.085-0.329-6.91C201.291,123.58,198.203,123.737,196.393,125.726z" fill="currentColor" data-v-42d18e73></path><path d="M166.889,98.948c1.81-2.013,1.668-5.092-0.329-6.902c-1.998-1.818-5.093-1.654-6.919,0.321 c-1.809,2.006-1.652,5.093,0.345,6.918C161.983,101.094,165.071,100.938,166.889,98.948z" fill="currentColor" data-v-42d18e73></path><path d="M218.135,140.816c-1.293,0.078-2.515,0.642-3.377,1.606c-0.878,0.948-1.324,2.233-1.269,3.525 c0.071,1.277,0.642,2.515,1.606,3.37c0.947,0.877,2.233,1.332,3.525,1.269c1.285-0.07,2.515-0.651,3.377-1.622 c0.862-0.94,1.324-2.225,1.254-3.51c-0.055-1.292-0.642-2.522-1.599-3.377C220.705,141.216,219.419,140.761,218.135,140.816z" fill="currentColor" data-v-42d18e73></path><path d="M96.69,71.62l5.382,3.76l38.836-50.769L119.175,5.269l-3.306-2.507c-2.852-2.194-6.479-3.126-10.02-2.632 c-3.573,0.494-6.785,2.397-8.924,5.273c0,0-10.373,10.968-14.769,17.071C44.463,74.676,41.98,85.715,41.98,85.715l26.019,19.9 L96.69,71.62z" fill="currentColor" data-v-42d18e73></path><path d="M112.429,82.581c2.953,2.037,6.964,1.386,9.128-1.434l29.779-38.938c2.131-2.79,1.763-6.754-0.877-9.104 l-4.224-3.753L107.909,79.44L112.429,82.581z" fill="currentColor" data-v-42d18e73></path><path d="M74.964,466.512c-12.52,0-22.705,10.185-22.705,22.704c0,12.591,10.185,22.784,22.705,22.784 c12.512,0,22.219-6.738,26.716-21.263c1.442-4.49,3.37-13.632,4.654-22.462c-8.187-2.892-16.131-6.417-23.669-10.35 C80.738,464.506,77.212,466.512,74.964,466.512z" fill="currentColor" data-v-42d18e73></path><path d="M436.95,466.512c-2.249,0-5.782-2.006-7.702-8.587c-7.545,3.933-15.489,7.458-23.669,10.35 c1.363,8.83,3.291,17.972,4.654,22.462C414.723,505.262,424.429,512,436.95,512c12.59,0,22.783-10.193,22.783-22.784 C459.733,476.697,449.54,466.512,436.95,466.512z" fill="currentColor" data-v-42d18e73></path></svg>',1)),createTextVNode(" "+toDisplayString(C.bathValue),1)])):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_17$d,[createBaseVNode("div",null,[C.priceField?(openBlock(),createElementBlock("span",_hoisted_18$c,toDisplayString(C.formattedPrice),1)):B.product.price?(openBlock(),createElementBlock("span",_hoisted_19$b,toDisplayString(B.product.price),1)):createCommentVNode("",!0),C.percentageField?(openBlock(),createElementBlock("span",_hoisted_20$b,"("+toDisplayString(C.formatFieldValue(C.percentageField))+")",1)):B.product.percentage?(openBlock(),createElementBlock("span",_hoisted_21$a,"("+toDisplayString(C.formatPercentage(B.product.percentage))+")",1)):createCommentVNode("",!0)])]),createBaseVNode("button",{onClick:y[15]||(y[15]=withModifiers(P=>x.$emit("click"),["stop"])),class:"w-full px-4 py-2 border border-gray-300 rounded-lg text-gray-900 font-medium hover:bg-gray-50 transition-colors"},toDisplayString(C.buttonText),1)])])}const __unplugin_components_0$8=_export_sfc(_sfc_main$v,[["render",_sfc_render$v],["__scopeId","data-v-42d18e73"]]),_sfc_main$u={name:"ProductListing",components:{ProductCardGrid:__unplugin_components_1$2,ProductCard:__unplugin_components_0$8,PaginationComponent:__unplugin_components_1$3},props:{productsData:{type:Object,required:!0},labels:{type:Object,required:!0},sortData:{type:Object,required:!0},currentPage:{type:Number,default:1},totalPages:{type:Number,default:1},showToolbar:{type:Boolean,default:!0},showPagination:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},schema:{type:Object,default:null}},data(){var x,y;return{localSortBy:((y=(x=this.sortData)==null?void 0:x.options)==null?void 0:y[0])||"",viewMode:"grid"}},computed:{paginatedProducts(){if(!this.showPagination)return this.productsData.items||[];const x=this.productsData.itemsPerPage||9,y=(this.currentPage-1)*x,B=y+x;return this.productsData.items.slice(y,B)},showingRange(){const x=this.productsData.itemsPerPage||9,y=(this.currentPage-1)*x+1,B=Math.min(this.currentPage*x,this.productsData.total);return`${y}-${B}`}},emits:["sortChange","productClick","pageChange","favorite","clearFilters"]},_hoisted_1$r={class:"py-4 bg-white product-listing-section"},_hoisted_2$r={class:"section-container px-4"},_hoisted_3$r={key:0,class:"flex items-center justify-between mb-6"},_hoisted_4$q={class:"flex items-center gap-2"},_hoisted_5$o={class:"flex items-center gap-2"},_hoisted_6$o={class:"text-sm text-gray-600"},_hoisted_7$l={key:2,class:"mb-8 text-center py-16"},_hoisted_8$j={class:"max-w-md mx-auto"};function _sfc_render$u(x,y,B,S,V,C){const P=__unplugin_components_0$8,E=__unplugin_components_1$2,D=__unplugin_components_1$3;return openBlock(),createElementBlock("section",_hoisted_1$r,[createBaseVNode("div",_hoisted_2$r,[B.showToolbar?(openBlock(),createElementBlock("div",_hoisted_3$r,[createBaseVNode("div",_hoisted_4$q,[createBaseVNode("button",{onClick:y[0]||(y[0]=z=>V.viewMode="grid"),class:normalizeClass(["p-2 rounded-lg transition-colors",V.viewMode==="grid"?"bg-emerald-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"])},[...y[7]||(y[7]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})],-1)])],2),createBaseVNode("button",{onClick:y[1]||(y[1]=z=>V.viewMode="list"),class:normalizeClass(["p-2 rounded-lg transition-colors",V.viewMode==="list"?"bg-emerald-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"])},[...y[8]||(y[8]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])],2)]),createBaseVNode("div",_hoisted_5$o,[createBaseVNode("span",_hoisted_6$o,toDisplayString(B.sortData.label),1),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":y[2]||(y[2]=z=>V.localSortBy=z),class:"px-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 cursor-pointer",onChange:y[3]||(y[3]=z=>x.$emit("sortChange",V.localSortBy))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(B.sortData.options,z=>(openBlock(),createElementBlock("option",{key:z},toDisplayString(z),1))),128))],544),[[vModelSelect,V.localSortBy]])])])):createCommentVNode("",!0),B.loading?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(["mb-8 animate-pulse",V.viewMode==="grid"?"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-4":"space-y-4"])},[(openBlock(),createElementBlock(Fragment,null,renderList(9,z=>createBaseVNode("div",{key:`skeleton-${z}`,class:"bg-white rounded-lg border border-gray-200 overflow-hidden"},[...y[9]||(y[9]=[createStaticVNode('<div class="aspect-square bg-gray-200"></div><div class="p-4"><div class="h-4 w-3/4 bg-gray-200 rounded mb-2"></div><div class="h-3 w-1/2 bg-gray-200 rounded mb-3"></div><div class="h-5 w-24 bg-gray-200 rounded"></div></div>',2)])])),64))],2)):B.productsData.items.length===0?(openBlock(),createElementBlock("div",_hoisted_7$l,[createBaseVNode("div",_hoisted_8$j,[y[11]||(y[11]=createStaticVNode('<div class="mb-6"><svg class="w-24 h-24 mx-auto text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><h3 class="text-2xl font-bold text-gray-900 mb-2">No Products Found</h3><p class="text-gray-600 mb-6"> We couldn&#39;t find any products matching your search criteria. Try adjusting your filters or search terms. </p>',3)),createBaseVNode("button",{onClick:y[4]||(y[4]=z=>x.$emit("clearFilters")),class:"inline-flex items-center gap-2 px-6 py-3 bg-emerald-500 text-white font-medium rounded-lg hover:bg-emerald-600 transition-colors shadow-sm hover:shadow-md"},[...y[10]||(y[10]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),createTextVNode(" Clear All Filters & Search ",-1)])])])])):(openBlock(),createElementBlock("div",{key:3,class:normalizeClass(["mb-8",V.viewMode==="grid"?"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-4":"space-y-4"])},[V.viewMode==="list"?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(C.paginatedProducts,z=>(openBlock(),createBlock(P,{key:`list-${z.id}`,product:z,schema:B.schema,onClick:T=>x.$emit("productClick",z)},null,8,["product","schema","onClick"]))),128)):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(C.paginatedProducts,z=>(openBlock(),createBlock(E,{key:`grid-${z.id}`,product:z,schema:B.schema,onClick:T=>x.$emit("productClick",z),onFavorite:y[5]||(y[5]=T=>x.$emit("favorite",T))},null,8,["product","schema","onClick"]))),128))],2)),B.showPagination?(openBlock(),createBlock(D,{key:4,currentPage:B.currentPage,totalPages:B.totalPages,onPageChange:y[6]||(y[6]=z=>x.$emit("pageChange",z))},null,8,["currentPage","totalPages"])):createCommentVNode("",!0)])])}const __unplugin_components_0$7=_export_sfc(_sfc_main$u,[["render",_sfc_render$u]]),_sfc_main$t={name:"CtaSection",props:{sectionData:{type:Object,required:!0},products:{type:Object,default:null},productLabels:{type:Object,default:()=>({})},sort:{type:Object,default:()=>({})},currentPage:{type:Number,default:1},totalPages:{type:Number,default:1}},emits:["buttonClick","productClick","sortChange","pageChange"],setup(){const x=useItemStore(),y=useSettingsStore(),B=useDashboardStore();return{itemStore:x,settingsStore:y,dashboardStore:B}},methods:{handleProductClick(x){this.$emit("productClick",x)},handleSortChange(x){this.$emit("sortChange",x)},handlePageChange(x){this.$emit("pageChange",x)}}},_hoisted_1$q={class:"py-16 md:py-24 bg-white"},_hoisted_2$q={class:"section-container px-4 sm:px-6 lg:px-8"},_hoisted_3$q={class:"text-center"},_hoisted_4$p={class:"text-4xl md:text-5xl font-bold text-gray-900 mb-12"};function _sfc_render$t(x,y,B,S,V,C){const P=__unplugin_components_0$7;return openBlock(),createElementBlock("section",_hoisted_1$q,[createBaseVNode("div",_hoisted_2$q,[createBaseVNode("div",_hoisted_3$q,[createBaseVNode("h2",_hoisted_4$p,toDisplayString(B.sectionData.title),1),B.products&&B.products.items&&B.products.items.length>0?(openBlock(),createBlock(P,{key:0,productsData:B.products,labels:B.productLabels,sortData:B.sort,currentPage:B.currentPage,totalPages:B.totalPages,showToolbar:!1,showPagination:!1,schema:S.itemStore.schema,onSortChange:C.handleSortChange,onProductClick:C.handleProductClick,onPageChange:C.handlePageChange},null,8,["productsData","labels","sortData","currentPage","totalPages","schema","onSortChange","onProductClick","onPageChange"])):createCommentVNode("",!0),createBaseVNode("button",{onClick:y[0]||(y[0]=E=>x.$emit("buttonClick")),class:"px-8 py-4 bg-emerald-500 text-white rounded-lg font-semibold text-lg hover:bg-emerald-600 transition-colors"},toDisplayString(B.sectionData.button),1)])])])}const __unplugin_components_5=_export_sfc(_sfc_main$t,[["render",_sfc_render$t]]),_sfc_main$s={name:"CategoryCard",props:{category:{type:Object,required:!0}},emits:["click"]},_hoisted_1$p={class:"relative h-48 overflow-hidden"},_hoisted_2$p=["src","alt"],_hoisted_3$p={class:"absolute bottom-4 left-4 right-4"},_hoisted_4$o={class:"text-2xl font-bold text-white mb-1"},_hoisted_5$n={class:"text-white/90 text-sm"},_hoisted_6$n={class:"p-6"},_hoisted_7$k={class:"text-gray-600"};function _sfc_render$s(x,y,B,S,V,C){return openBlock(),createElementBlock("div",{class:"bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-shadow cursor-pointer group",onClick:y[0]||(y[0]=P=>x.$emit("click"))},[createBaseVNode("div",_hoisted_1$p,[createBaseVNode("img",{src:B.category.image,alt:B.category.name,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"},null,8,_hoisted_2$p),y[1]||(y[1]=createBaseVNode("div",{class:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"},null,-1)),createBaseVNode("div",_hoisted_3$p,[createBaseVNode("h3",_hoisted_4$o,toDisplayString(B.category.name),1),createBaseVNode("p",_hoisted_5$n,toDisplayString(B.category.count)+" products",1)])]),createBaseVNode("div",_hoisted_6$n,[createBaseVNode("p",_hoisted_7$k,toDisplayString(B.category.description),1)])])}const __unplugin_components_0$6=_export_sfc(_sfc_main$s,[["render",_sfc_render$s]]),_sfc_main$r={name:"CategorySection",components:{CategoryCard:__unplugin_components_0$6},props:{sectionData:{type:Object,required:!0}},emits:["categoryClick"]},_hoisted_1$o={class:"py-16 md:py-24 bg-white"},_hoisted_2$o={class:"section-container px-4 sm:px-6 lg:px-8"},_hoisted_3$o={class:"text-center mb-12"},_hoisted_4$n={class:"text-3xl md:text-4xl font-bold text-gray-900 mb-4"},_hoisted_5$m={class:"text-lg text-gray-600 max-w-2xl mx-auto"},_hoisted_6$m={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"};function _sfc_render$r(x,y,B,S,V,C){const P=__unplugin_components_0$6;return openBlock(),createElementBlock("section",_hoisted_1$o,[createBaseVNode("div",_hoisted_2$o,[createBaseVNode("div",_hoisted_3$o,[createBaseVNode("h2",_hoisted_4$n,toDisplayString(B.sectionData.title),1),createBaseVNode("p",_hoisted_5$m,toDisplayString(B.sectionData.subtitle),1)]),createBaseVNode("div",_hoisted_6$m,[(openBlock(!0),createElementBlock(Fragment,null,renderList(B.sectionData.items,(E,D)=>(openBlock(),createBlock(P,{key:D,category:E,onClick:z=>x.$emit("categoryClick",E)},null,8,["category","onClick"]))),128))])])])}const __unplugin_components_4=_export_sfc(_sfc_main$r,[["render",_sfc_render$r]]),_sfc_main$q={name:"FeaturedCard",props:{item:{type:Object,required:!0},cardClass:{type:String,default:""},spanRows:{type:Boolean,default:!1}},emits:["click"]},_hoisted_1$n=["src","alt"],_hoisted_2$n={class:"absolute bottom-4 left-4"},_hoisted_3$n={class:"text-xl md:text-2xl font-bold text-white mb-0.5"},_hoisted_4$m={class:"text-white/90 text-sm"};function _sfc_render$q(x,y,B,S,V,C){return openBlock(),createElementBlock("div",{class:normalizeClass(["relative rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 cursor-pointer group",B.cardClass]),onClick:y[0]||(y[0]=P=>x.$emit("click"))},[createBaseVNode("div",{class:normalizeClass(["relative overflow-hidden bg-white",B.spanRows?"h-64 md:h-full":"h-64 md:h-80"])},[createBaseVNode("img",{src:B.item.image,alt:B.item.name,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"},null,8,_hoisted_1$n),y[1]||(y[1]=createBaseVNode("div",{class:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"},null,-1)),createBaseVNode("div",_hoisted_2$n,[createBaseVNode("h3",_hoisted_3$n,toDisplayString(B.item.name),1),createBaseVNode("p",_hoisted_4$m,toDisplayString(B.item.series),1)]),y[2]||(y[2]=createBaseVNode("div",{class:"absolute bottom-4 right-4 w-10 h-10 bg-gradient-to-r from-emerald-500/20 via-white/20 to-emerald-500/20 backdrop-blur-md border border-emerald-400/30 rounded-full flex items-center justify-center shadow-2xl group-hover:scale-110 transition-transform"},[createBaseVNode("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})])],-1))],2)],2)}const __unplugin_components_0$5=_export_sfc(_sfc_main$q,[["render",_sfc_render$q]]),_sfc_main$p={name:"FeaturedSection",components:{FeaturedCard:__unplugin_components_0$5},props:{sectionData:{type:Object,required:!0}},emits:["itemClick"]},_hoisted_1$m={class:"py-16 md:py-24 bg-gray-50"},_hoisted_2$m={class:"section-container px-4 sm:px-6 lg:px-8"},_hoisted_3$m={class:"text-center mb-12"},_hoisted_4$l={class:"text-3xl md:text-4xl font-bold text-gray-900 mb-4"},_hoisted_5$l={class:"text-lg text-gray-600"},_hoisted_6$l={class:"grid grid-cols-1 md:grid-cols-3 gap-6 md:grid-rows-2"};function _sfc_render$p(x,y,B,S,V,C){const P=__unplugin_components_0$5;return openBlock(),createElementBlock("section",_hoisted_1$m,[createBaseVNode("div",_hoisted_2$m,[createBaseVNode("div",_hoisted_3$m,[createBaseVNode("h2",_hoisted_4$l,toDisplayString(B.sectionData.title),1),createBaseVNode("p",_hoisted_5$l,toDisplayString(B.sectionData.subtitle),1)]),createBaseVNode("div",_hoisted_6$l,[createVNode(P,{item:B.sectionData.items[0],class:"md:row-start-1 md:col-start-1",onClick:y[0]||(y[0]=E=>x.$emit("itemClick",B.sectionData.items[0]))},null,8,["item"]),createVNode(P,{item:B.sectionData.items[1],class:"md:row-start-1 md:row-span-2 md:col-start-2",spanRows:!0,onClick:y[1]||(y[1]=E=>x.$emit("itemClick",B.sectionData.items[1]))},null,8,["item"]),createVNode(P,{item:B.sectionData.items[2],class:"md:row-start-1 md:col-start-3",onClick:y[2]||(y[2]=E=>x.$emit("itemClick",B.sectionData.items[2]))},null,8,["item"]),createVNode(P,{item:B.sectionData.items[3],class:"md:row-start-2 md:col-start-1",onClick:y[3]||(y[3]=E=>x.$emit("itemClick",B.sectionData.items[3]))},null,8,["item"]),createVNode(P,{item:B.sectionData.items[4],class:"md:row-start-2 md:col-start-3",onClick:y[4]||(y[4]=E=>x.$emit("itemClick",B.sectionData.items[4]))},null,8,["item"])])])])}const __unplugin_components_3$1=_export_sfc(_sfc_main$p,[["render",_sfc_render$p]]),_sfc_main$o={name:"PromotionSection",props:{sectionData:{type:Object,required:!0}},emits:["buttonClick"]},_hoisted_1$l={class:"pt-16 md:py-24 bg-gray-50"},_hoisted_2$l={class:"w-full"},_hoisted_3$l={class:"bg-white shadow-xl overflow-hidden"},_hoisted_4$k={class:"lg:hidden grid grid-cols-2 gap-0"},_hoisted_5$k=["src","alt"],_hoisted_6$k={class:"grid grid-cols-1 lg:grid-cols-12 gap-0 items-center"},_hoisted_7$j={class:"lg:col-span-3 hidden lg:grid grid-cols-1 gap-0"},_hoisted_8$i={class:"relative h-64 overflow-hidden"},_hoisted_9$g=["src"],_hoisted_10$f={class:"relative h-64 overflow-hidden"},_hoisted_11$f=["src"],_hoisted_12$e={class:"lg:col-span-6 p-8 md:p-12 text-center"},_hoisted_13$e={class:"text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 mb-4"},_hoisted_14$d={class:"space-y-1 mb-8"},_hoisted_15$d={class:"flex items-center justify-center gap-3"},_hoisted_16$d={class:"lg:col-span-3 hidden lg:grid grid-cols-1 gap-0"},_hoisted_17$c={class:"relative h-64 overflow-hidden"},_hoisted_18$b=["src"],_hoisted_19$a={class:"relative h-64 overflow-hidden"},_hoisted_20$a=["src"];function _sfc_render$o(x,y,B,S,V,C){return openBlock(),createElementBlock("section",_hoisted_1$l,[createBaseVNode("div",_hoisted_2$l,[createBaseVNode("div",_hoisted_3$l,[createBaseVNode("div",_hoisted_4$k,[(openBlock(!0),createElementBlock(Fragment,null,renderList(B.sectionData.images,(P,E)=>(openBlock(),createElementBlock("div",{key:E,class:"relative h-48 overflow-hidden"},[createBaseVNode("img",{src:P,alt:`Image ${E+1}`,class:"w-full h-full object-cover object-center"},null,8,_hoisted_5$k)]))),128))]),createBaseVNode("div",_hoisted_6$k,[createBaseVNode("div",_hoisted_7$j,[createBaseVNode("div",_hoisted_8$i,[createBaseVNode("img",{src:B.sectionData.images[0],alt:"Image 1",class:"w-full h-full object-cover object-center"},null,8,_hoisted_9$g)]),createBaseVNode("div",_hoisted_10$f,[createBaseVNode("img",{src:B.sectionData.images[1],alt:"Image 2",class:"w-full h-full object-cover object-center"},null,8,_hoisted_11$f)])]),createBaseVNode("div",_hoisted_12$e,[createBaseVNode("h2",_hoisted_13$e,toDisplayString(B.sectionData.discount),1),createBaseVNode("div",_hoisted_14$d,[(openBlock(!0),createElementBlock(Fragment,null,renderList(B.sectionData.conditions,(P,E)=>(openBlock(),createElementBlock("p",{class:"text-gray-700 text-lg",key:E},toDisplayString(P),1))),128))]),createBaseVNode("div",_hoisted_15$d,[createBaseVNode("button",{onClick:y[0]||(y[0]=P=>x.$emit("buttonClick")),class:"px-8 py-4 bg-black text-white rounded-lg font-semibold text-lg hover:bg-gray-800 transition-colors"},toDisplayString(B.sectionData.button),1),createBaseVNode("button",{onClick:y[1]||(y[1]=P=>x.$emit("buttonClick")),class:"w-12 h-12 bg-black text-white rounded-full flex items-center justify-center hover:bg-gray-800 transition-colors"},[...y[2]||(y[2]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1)])])])]),createBaseVNode("div",_hoisted_16$d,[createBaseVNode("div",_hoisted_17$c,[createBaseVNode("img",{src:B.sectionData.images[2],alt:"Image 3",class:"w-full h-full object-cover object-center"},null,8,_hoisted_18$b)]),createBaseVNode("div",_hoisted_19$a,[createBaseVNode("img",{src:B.sectionData.images[3],alt:"Image 4",class:"w-full h-full object-cover object-center"},null,8,_hoisted_20$a)])])])])])])}const __unplugin_components_2=_export_sfc(_sfc_main$o,[["render",_sfc_render$o]]),_sfc_main$n={name:"SearchBar",props:{searchValue:{type:String,default:""},locationValue:{type:String,default:""},placeholders:{type:Object,default:()=>({search:"Search...",location:"Location"})},buttonLabel:{type:String,default:"Search"},showLocation:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},emits:["search","update:searchValue","update:locationValue"],data(){return{localSearch:this.searchValue,localLocation:this.locationValue}},watch:{searchValue(x){x!==this.localSearch&&(this.localSearch=x||"")},locationValue(x){x!==this.localLocation&&(this.localLocation=x||"")}},methods:{handleSearchInput(x){this.localSearch=x,this.$emit("update:searchValue",x)},handleLocationInput(x){this.localLocation=x,this.$emit("update:locationValue",x)},handleSearch(){this.$emit("search",{query:this.localSearch,location:this.localLocation})}}},_hoisted_1$k={class:"relative"},_hoisted_2$k={class:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"},_hoisted_3$k=["placeholder","value","disabled"],_hoisted_4$j={key:0,class:"relative"},_hoisted_5$j={class:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"},_hoisted_6$j=["placeholder","value","disabled"],_hoisted_7$i=["disabled"],_hoisted_8$h={key:0,class:"mt-4"};function _sfc_render$n(x,y,B,S,V,C){return openBlock(),createElementBlock("div",null,[createBaseVNode("div",{class:normalizeClass(["grid grid-cols-1 gap-4",B.showLocation?"md:grid-cols-3":"md:grid-cols-[minmax(0,1fr)_auto]"])},[createBaseVNode("div",_hoisted_1$k,[createBaseVNode("div",_hoisted_2$k,[renderSlot(x.$slots,"search-icon",{},()=>[y[5]||(y[5]=createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),createBaseVNode("input",{type:"text",placeholder:B.placeholders.search,value:V.localSearch,onInput:y[0]||(y[0]=P=>C.handleSearchInput(P.target.value)),onKeyup:y[1]||(y[1]=withKeys((...P)=>C.handleSearch&&C.handleSearch(...P),["enter"])),class:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",disabled:B.disabled},null,40,_hoisted_3$k)]),B.showLocation?(openBlock(),createElementBlock("div",_hoisted_4$j,[createBaseVNode("div",_hoisted_5$j,[renderSlot(x.$slots,"location-icon",{},()=>[y[6]||(y[6]=createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1))])]),createBaseVNode("input",{type:"text",placeholder:B.placeholders.location,value:V.localLocation,onInput:y[2]||(y[2]=P=>C.handleLocationInput(P.target.value)),onKeyup:y[3]||(y[3]=withKeys((...P)=>C.handleSearch&&C.handleSearch(...P),["enter"])),class:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",disabled:B.disabled},null,40,_hoisted_6$j)])):createCommentVNode("",!0),createBaseVNode("div",null,[createBaseVNode("button",{onClick:y[4]||(y[4]=(...P)=>C.handleSearch&&C.handleSearch(...P)),class:"w-full px-6 py-3 bg-emerald-500 text-white rounded-lg font-semibold hover:bg-emerald-600 transition-colors disabled:opacity-60 disabled:cursor-not-allowed",disabled:B.disabled},[renderSlot(x.$slots,"button-label",{},()=>[createTextVNode(toDisplayString(B.buttonLabel),1)])],8,_hoisted_7$i)])],2),x.$slots.default?(openBlock(),createElementBlock("div",_hoisted_8$h,[renderSlot(x.$slots,"default")])):createCommentVNode("",!0)])}const __unplugin_components_0$4=_export_sfc(_sfc_main$n,[["render",_sfc_render$n]]),_sfc_main$m={name:"HeroSection",components:{SearchBar:__unplugin_components_0$4},props:{heroData:{type:Object,required:!0},searchData:{type:Object,required:!0}},computed:{searchPlaceholders(){var x;return((x=this.searchData)==null?void 0:x.placeholders)||{search:"Search...",location:"Location"}},searchButtonLabel(){var x,y;return((y=(x=this.searchData)==null?void 0:x.buttons)==null?void 0:y.search)||"Search"}},methods:{handleSearch(x){this.$emit("search",x)}},emits:["search"]},_hoisted_1$j={class:"py-16 relative min-h-[600px] flex items-end pb-8"},_hoisted_2$j={class:"absolute inset-0"},_hoisted_3$j=["src"],_hoisted_4$i={class:"section-container px-4 sm:px-6 lg:px-8 relative z-0 w-full"},_hoisted_5$i={class:"text-center mb-8"},_hoisted_6$i={class:"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-4 leading-tight"},_hoisted_7$h={class:"text-lg md:text-xl text-white/90 max-w-2xl mx-auto mb-8"},_hoisted_8$g={class:"bg-gradient-to-r from-emerald-500/20 via-white/80 to-emerald-500/20 backdrop-blur-md border border-emerald-400/30 rounded-2xl shadow-2xl p-4 md:p-4 max-w-7xl mx-auto relative bottom--10 left-1/2 -translate-x-1/2 w-[calc(100%-2rem)] md:w-auto z-50"};function _sfc_render$m(x,y,B,S,V,C){const P=__unplugin_components_0$4;return openBlock(),createElementBlock("section",_hoisted_1$j,[createBaseVNode("div",_hoisted_2$j,[createBaseVNode("img",{src:B.heroData.backgroundImage,alt:"Hero background",class:"w-full h-full object-cover"},null,8,_hoisted_3$j),y[0]||(y[0]=createBaseVNode("div",{class:"absolute inset-0 bg-black/40"},null,-1))]),createBaseVNode("div",_hoisted_4$i,[createBaseVNode("div",_hoisted_5$i,[createBaseVNode("h1",_hoisted_6$i,toDisplayString(B.heroData.title),1),createBaseVNode("p",_hoisted_7$h,toDisplayString(B.heroData.description),1)]),createBaseVNode("div",_hoisted_8$g,[createVNode(P,{placeholders:C.searchPlaceholders,"button-label":C.searchButtonLabel,onSearch:C.handleSearch},null,8,["placeholders","button-label","onSearch"])])])])}const __unplugin_components_1$1=_export_sfc(_sfc_main$m,[["render",_sfc_render$m]]),_sfc_main$l={name:"Home",setup(){const x=usePagesStore(),y=useSettingsStore(),B=useItemStore(),S=useDashboardStore();return{pagesStore:x,settingsStore:y,itemStore:B,dashboardStore:S}},data(){return{currentPage:1,loading:!1,productsLoaded:!1,cachedProducts:null,localProducts:null,productsDatabaseId:null,pagesDatabaseId:null,transformedProductsCache:null,productsCacheKey:null}},async mounted(){const x=this.checkAndCacheProducts();await this.loadHomePageData(),x&&this.cachedProducts&&this.restoreProducts(),this.$nextTick(()=>{this.preloadImages()})},activated(){this.checkAndCacheProducts()&&this.cachedProducts?this.restoreProducts():this.$nextTick(()=>{this.checkProductsLoaded()})},computed:{totalPages(){return 1},heroData(){const x=this.pagesStore.getHomePageData();return x&&x.hero?{title:x.hero.title||"",description:x.hero.subtitle||"",backgroundImage:x.hero.image||"",breadcrumbs:x.hero.breadcrumbs||""}:{title:"",description:"",backgroundImage:"",breadcrumbs:""}},hasHeroData(){const x=this.heroData;return x&&(x.title||x.description||x.backgroundImage)},homeContent(){const x=this.pagesStore.getHomePageData();return x&&x.content?x.content:null},hasPromotionData(){var y;const x=(y=this.homeContent)==null?void 0:y.promotion;return x&&x.images&&Array.isArray(x.images)&&x.images.length>=4&&x.discount},hasFeaturedData(){var y;const x=(y=this.homeContent)==null?void 0:y.featuredCollections;return x&&x.items&&Array.isArray(x.items)&&x.items.length>=5},hasCategoryData(){var y;const x=(y=this.homeContent)==null?void 0:y.categories;return x&&x.items&&Array.isArray(x.items)&&x.items.length>0},hasCtaData(){var y;const x=(y=this.homeContent)==null?void 0:y.cta;return x&&x.title&&x.button},contact(){return this.pagesStore.getContactPageData()},hasContactData(){const x=this.contact;return x&&Object.keys(x).length>0},search(){var B,S,V;const x=this.settingsStore.getSettings(),y=x==null?void 0:x.search;return{placeholders:{search:(B=y==null?void 0:y.placeholders)==null?void 0:B.search,location:(S=y==null?void 0:y.placeholders)==null?void 0:S.location},buttons:{search:(V=y==null?void 0:y.buttons)==null?void 0:V.search}}},sort(){return this.settingsStore.getSettings().sort},productLabels(){return{showing:"Showing",of:"of total",results:"results"}},products(){return this.transformedProductsCache?this.transformedProductsCache:{total:0,items:[],itemsPerPage:9}},contactFormConfig(){var B,S,V,C,P,E,D,z,T;const x=(B=this.contact)==null?void 0:B.form,y=x==null?void 0:x.fields;return{theme:{primaryColor:"#10b981",borderRadius:"12px",fontFamily:"Inter, sans-serif",maxWidth:"100%"},form:{title:x.title||"",submitText:x.submitText||"Submit",successMessage:x.successMessage||"Thank you for your message!",errorMessage:x.errorMessage||"An error occurred. Please try again.",loadingText:x.loadingText||"Sending...",enableCaptcha:!0,captchaSiteKey:x.captchaSiteKey||""},fields:{name:{enabled:!0,required:!0,label:((S=y.name)==null?void 0:S.label)||"Name",placeholder:((V=y.name)==null?void 0:V.placeholder)||"Enter your name",type:"text"},email:{enabled:!0,required:!0,label:((C=y.email)==null?void 0:C.label)||"Email",placeholder:((P=y.email)==null?void 0:P.placeholder)||"Enter your email",type:"email"},phone:{enabled:!0,required:!1,label:((E=y.phone)==null?void 0:E.label)||"Phone",placeholder:((D=y.phone)==null?void 0:D.placeholder)||"Enter your phone number",type:"tel"},message:{enabled:!0,required:!0,label:((z=y.message)==null?void 0:z.label)||"Message",placeholder:((T=y.message)==null?void 0:T.placeholder)||"Enter your message",type:"textarea",rows:5},company:{enabled:!1},linkedin:{enabled:!1},subject:{enabled:!1},website:{enabled:!1},budget:{enabled:!1},newsletter:{enabled:!1}}}}},methods:{transformAndCacheProducts(x){if(!x||!Array.isArray(x)||x.length===0){this.transformedProductsCache={total:0,items:[],itemsPerPage:9},this.productsCacheKey=null;return}const y=`${x.length}-${x.map(C=>C.id).join(",")}`;if(this.productsCacheKey===y&&this.transformedProductsCache)return;const V=[...x.map(C=>{let P=null,E=[];const D=C.Images||C.images;if(D){if(Array.isArray(D)){const U=[];for(const M of D)typeof M=="string"&&this.isImageUrl(M)?U.push(M):typeof M=="object"&&(M.url&&this.isImageUrl(M.url)?U.push(M.url):M.name&&this.isImageUrl(M.name)&&U.push(M.name));U.length>0&&(E=U,P=U[0])}if(!E.length&&typeof D=="string"){const U=this.getImageUrlsFromValue(D);U.length>0&&(E=U,P=U[0])}}if(!P){const U=["Image","image","Photo","photo","Picture","picture","Thumbnail","thumbnail"];for(const M of U)if(C[M]){if(Array.isArray(C[M])&&C[M].length>0){if(C[M][0].url){E=C[M].map(W=>W.url).filter(Boolean),P=E[0];break}if(E=C[M].map(W=>typeof W=="string"?W:W.url?W.url:W.external&&W.external.url?W.external.url:W.file&&W.file.url?W.file.url:null).filter(W=>W&&typeof W=="string"),E.length>0){P=E[0];break}}if(typeof C[M]=="string"&&C[M].startsWith("http")){P=C[M],E=[C[M]];break}}}if(!P){for(const U in C)if(Array.isArray(C[U])&&C[U].length>0&&C[U][0]&&C[U][0].url){P=C[U][0].url,E=C[U].map(M=>M&&M.url?M.url:null).filter(Boolean);break}}const z=["Title","title","Name","name"];let T="Untitled";for(const U of z)if(C[U]&&C[U].trim()){T=C[U];break}let j=C.Slug||C.slug||T.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");const R=C.Price||C.price||"";let Z=R;if(R!==""&&R!==null&&R!==void 0){const U=this.itemStore.schema,M=getPriceFormatFromSchema(U,"Price")||getPriceFormatFromSchema(U,"price");Z=formatPrice(R,M)}return{id:C.id,slug:j,image:P||"",images:E.length>0?E:P?[P]:[],title:T,location:C.Location||C.location||"",size:C.Size||C.size||"",price:Z,year:C.Year||C.year||"",category:C.Category||C.category||"",status:C.Status||C.status||"",...C}})].sort(()=>Math.random()-.5).slice(0,9);this.transformedProductsCache={total:V.length,items:V,itemsPerPage:9},this.productsCacheKey=y},async loadHomePageData(){try{this.loading=!0,(!this.dashboardStore.pagesDatabaseId||!this.dashboardStore.productsDatabaseId)&&await this.dashboardStore.initializeDashboard(!1,{skipAggregations:!0,skipRecentActivity:!0}),this.pagesDatabaseId=this.dashboardStore.pagesDatabaseId,this.productsDatabaseId=this.dashboardStore.productsDatabaseId;const x=this.checkAndCacheProducts(),y=[this.pagesStore.loadPage("home"),this.settingsStore.loadSettings(),this.loadProducts().catch(B=>{console.error("Error loading products:",B)})];await Promise.allSettled(y),Promise.allSettled([this.pagesStore.loadPage("contact"),this.pagesStore.loadPage("about"),this.pagesStore.loadPage("privacy"),this.pagesStore.loadPage("terms")]).catch(()=>{})}catch(x){console.error("Error loading home page data from Notion:",x)}finally{this.loading=!1}},checkAndCacheProducts(){var y,B;const x=this.itemStore.items||[];if(x.length>0){const S=x[0];if(S&&(S.Title||S.title||S.Name||S.name||S.Price!==void 0||S.price!==void 0)){let C=!1;if(this.dashboardStore.productsDatabaseId&&this.itemStore.databaseId){const P=this.itemStore.databaseId,E=this.dashboardStore.productsDatabaseId;C=P===E||((y=this.itemStore.databaseInfo)==null?void 0:y.id)===E||P===((B=this.itemStore.databaseInfo)==null?void 0:B.id)}else C=!0;if(C)return this.cachedProducts={items:[...x],databaseId:this.itemStore.databaseId,databaseInfo:this.itemStore.databaseInfo?{...this.itemStore.databaseInfo}:null},!0}}return!1},restoreProducts(){this.cachedProducts&&this.cachedProducts.items.length>0&&(this.localProducts=[...this.cachedProducts.items],this.transformAndCacheProducts(this.localProducts),this.productsLoaded=!0)},checkProductsLoaded(){var y,B;const x=this.itemStore.items||[];if(x.length>0){const S=x[0];if(S&&(S.Title||S.title||S.Name||S.name||S.Price!==void 0||S.price!==void 0))if(this.dashboardStore.productsDatabaseId&&this.itemStore.databaseId){const C=this.itemStore.databaseId,P=this.dashboardStore.productsDatabaseId;if(C===P||((y=this.itemStore.databaseInfo)==null?void 0:y.id)===P||C===((B=this.itemStore.databaseInfo)==null?void 0:B.id))return this.localProducts=[...x],this.transformAndCacheProducts(this.localProducts),this.productsLoaded=!0,!0}else return this.localProducts=[...x],this.transformAndCacheProducts(this.localProducts),this.productsLoaded=!0,!0}return!1},async loadProducts(){var x,y,B;try{if(this.checkProductsLoaded())return;this.dashboardStore.productsDatabaseId||await this.dashboardStore.initializeDashboard(!1,{skipAggregations:!0,skipRecentActivity:!0});const S=this.dashboardStore.productsDatabaseId,V=this.dashboardStore.pagesDatabaseId;if(this.productsDatabaseId=S,this.pagesDatabaseId=V,!S){console.warn("Products database ID not found. Available databases:",this.dashboardStore.databaseInfo.map(_e=>({id:_e.id,title:_e.title})));return}const C=_e=>String(_e||"").replace(/-/g,"").toLowerCase(),P=C(S),E=this.itemStore.databaseId,D=C(E);this.itemStore.setDatabaseId(S);const z=(x=this.itemStore.databaseInfo)==null?void 0:x.id;(!this.itemStore.schema||!this.itemStore.isFullyLoaded||z&&C(z)!==P)&&await this.itemStore.fetchSchema(!1);const j=((y=this.itemStore.databaseInfo)==null?void 0:y.id)||this.itemStore.databaseId;C(j)!==P&&(console.error("Home: Schema database ID mismatch after reload! Expected:",S,"Got:",j),console.error("Home: This indicates the schema is from the wrong database. Retrying..."),this.itemStore.setDatabaseId(S),await this.itemStore.fetchSchema(!1));const Z=this.itemStore.databaseId;C(Z)!==P&&(console.warn("Home: Database ID was changed by another operation! Re-setting to products database."),console.warn("Home: Expected:",S,"Got:",Z),this.itemStore.setDatabaseId(S));const M=this.itemStore.databaseId||S;if(C(M)!==P)throw console.error("Home: CRITICAL ERROR - Database ID mismatch before fetch!"),console.error("Home: Expected products database:",S,"But got:",M),console.error("Home: This will fetch from the wrong database. Aborting."),new Error(`Database ID mismatch: expected ${S} but got ${M}`);await this.itemStore.fetchAllItems({approvedOnly:!0}),(((B=this.itemStore.items)==null?void 0:B.length)||0)>0?(this.localProducts=[...this.itemStore.items],this.transformAndCacheProducts(this.localProducts)):this.transformedProductsCache={total:0,items:[],itemsPerPage:9},this.productsLoaded=!0}catch(S){console.error("Error loading products from products database:",S),this.productsLoaded=!1}},handleSearch(x){const y={};x!=null&&x.query&&(y.query=x.query),x!=null&&x.location&&(y.location=x.location),this.$router.push({path:"/products",query:y})},handleFeaturedClick(x){this.$router.push("/products")},handleCategoryClick(x){const y=(x==null?void 0:x.name)||x;this.$router.push({path:"/products",query:{category:y}})},handleProductClick(x){this.$router.push(`/products/${x.slug}`)},handleSortChange(x){},handlePageChange(x){this.currentPage=x,this.$nextTick(()=>{const y=document.querySelector(".product-listing-section");y&&y.scrollIntoView({behavior:"smooth",block:"start"})})},handlePromotionClick(){this.$router.push("/products")},handleCtaClick(){this.$router.push("/products")},isImageUrl(x){if(!x||typeof x!="string")return!1;try{new URL(x)}catch{return!1}const y=[".jpg",".jpeg",".png",".gif",".bmp",".webp",".svg",".tiff",".ico",".avif"],B=x.toLowerCase(),S=y.some(D=>B.includes(D)),C=["imgur.com","unsplash.com","pexels.com","pixabay.com","cloudinary.com","imagekit.io"].some(D=>B.includes(D)),E=["/image/","/img/","/photo/","/picture/","/media/","i.imgur.com","cdn.","images."].some(D=>B.includes(D));return S||C||E},getImageUrlsFromValue(x){if(!x)return[];if(Array.isArray(x))return x.map(y=>typeof y=="string"&&this.isImageUrl(y)?y:typeof y=="object"&&y.url&&this.isImageUrl(y.url)?y.url:null).filter(y=>y);if(typeof x=="string"){const y=x.trim();return this.isImageUrl(y)?[y]:y.split(/[,\n]/).map(V=>V.trim()).filter(V=>V).filter(V=>this.isImageUrl(V))}return[]},preloadImages(){var y,B,S,V;const x=[];(y=this.heroData)!=null&&y.backgroundImage&&x.push(this.heroData.backgroundImage),(B=this.products)!=null&&B.items&&Array.isArray(this.products.items)&&this.products.items.slice(0,3).forEach(P=>{if(P.image&&x.push(P.image),P.images&&Array.isArray(P.images)&&P.images.length>0){const E=P.images[0];E&&!x.includes(E)&&x.push(E)}}),(V=(S=this.homeContent)==null?void 0:S.cta)!=null&&V.image&&x.push(this.homeContent.cta.image),x.forEach(C=>{if(C&&typeof C=="string"){const P=new Image;P.src=C}})}},watch:{$route(x,y){x.name==="Home"&&(this.checkAndCacheProducts()&&this.cachedProducts?this.$nextTick(()=>{this.restoreProducts()}):this.$nextTick(()=>{this.checkProductsLoaded()}))},"itemStore.items"(x){x&&x.length>0&&!this.productsLoaded&&!this.localProducts&&this.$nextTick(()=>{this.checkProductsLoaded()&&(this.localProducts=[...x])})},"dashboardStore.productsDatabaseId"(){this.productsLoaded||this.$nextTick(()=>{this.checkProductsLoaded()})},productsLoaded(x){x&&this.$nextTick(()=>{this.preloadImages()})},hasHeroData(x){x&&this.$nextTick(()=>{this.preloadImages()})},homeContent(){this.$nextTick(()=>{this.preloadImages()})}}};function _sfc_render$l(x,y,B,S,V,C){const P=__unplugin_components_0$b,E=__unplugin_components_1$1,D=__unplugin_components_2,z=__unplugin_components_3$1,T=__unplugin_components_4,j=__unplugin_components_5,R=__unplugin_components_0$9;return openBlock(),createElementBlock("div",null,[V.loading||!C.hasHeroData?(openBlock(),createBlock(P,{key:0})):(openBlock(),createElementBlock(Fragment,{key:1},[C.hasHeroData?(openBlock(),createBlock(E,{key:0,heroData:C.heroData,searchData:C.search,onSearch:C.handleSearch},null,8,["heroData","searchData","onSearch"])):createCommentVNode("",!0),C.hasPromotionData?(openBlock(),createBlock(D,{key:1,sectionData:C.homeContent.promotion,onButtonClick:C.handlePromotionClick},null,8,["sectionData","onButtonClick"])):createCommentVNode("",!0),C.hasFeaturedData?(openBlock(),createBlock(z,{key:2,sectionData:C.homeContent.featuredCollections,onItemClick:C.handleFeaturedClick},null,8,["sectionData","onItemClick"])):createCommentVNode("",!0),C.hasCategoryData?(openBlock(),createBlock(T,{key:3,sectionData:C.homeContent.categories,onCategoryClick:C.handleCategoryClick},null,8,["sectionData","onCategoryClick"])):createCommentVNode("",!0),C.hasCtaData?(openBlock(),createBlock(j,{key:4,sectionData:C.homeContent.cta,products:C.products,productLabels:C.productLabels,sort:C.sort,currentPage:V.currentPage,totalPages:C.totalPages,onButtonClick:C.handleCtaClick,onProductClick:C.handleProductClick,onSortChange:C.handleSortChange,onPageChange:C.handlePageChange},null,8,["sectionData","products","productLabels","sort","currentPage","totalPages","onButtonClick","onProductClick","onSortChange","onPageChange"])):createCommentVNode("",!0),C.hasContactData?(openBlock(),createBlock(R,{key:5,sectionData:C.contact,contactFormConfig:C.contactFormConfig},null,8,["sectionData","contactFormConfig"])):createCommentVNode("",!0)],64))])}const Home=_export_sfc(_sfc_main$l,[["render",_sfc_render$l]]),_sfc_main$k={name:"FilterSidebar",props:{filterMetadata:{type:Object,default:()=>({hasBrand:!1,hasPrice:!1,hasSize:!1,hasColor:!1,hasYear:!1,hasStatus:!1,hasCategory:!1})},brands:{type:Array,default:()=>[]},priceRange:{type:Array,default:()=>[0,1e4]},availableSizes:{type:Array,default:()=>[]},availableColors:{type:Array,default:()=>[]},availableYears:{type:Array,default:()=>[]},availableStatuses:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},schema:{type:Object,default:null},products:{type:Array,default:()=>[]},isMobileOpen:{type:Boolean,default:!1}},data(){return{sectionsOpen:{brand:!0,price:!0,size:!0,color:!0,year:!0,status:!0},brandSearch:"",selectedBrands:[],selectedSizes:[],selectedColors:[],selectedYears:[],selectedStatuses:[],localPriceRange:[0,1e4]}},computed:{sizes(){return this.availableSizes},colors(){return this.availableColors},priceMin(){return this.priceRange&&this.priceRange[0]||0},priceMax(){return this.priceRange&&this.priceRange[1]||1e4},filteredBrands(){return this.brandSearch?this.brands.filter(x=>x.name.toLowerCase().includes(this.brandSearch.toLowerCase())):this.brands},priceFormat(){return this.schema?getPriceFormatFromSchema(this.schema,"Price")||getPriceFormatFromSchema(this.schema,"price"):null},formattedPriceMin(){return this.priceFormat?formatPrice(this.priceMin,this.priceFormat):this.priceMin.toString()},formattedPriceMax(){return this.priceFormat?formatPrice(this.priceMax,this.priceFormat):this.priceMax.toString()},formattedCurrentMin(){return this.priceFormat&&this.localPriceRange&&this.localPriceRange[0]!==void 0?formatPrice(this.localPriceRange[0],this.priceFormat):this.localPriceRange&&this.localPriceRange[0]!==void 0?this.localPriceRange[0].toString():this.priceMin.toString()},formattedCurrentMax(){return this.priceFormat&&this.localPriceRange&&this.localPriceRange[1]!==void 0?formatPrice(this.localPriceRange[1],this.priceFormat):this.localPriceRange&&this.localPriceRange[1]!==void 0?this.localPriceRange[1].toString():this.priceMax.toString()},histogramData(){if(!this.products||this.products.length===0||this.priceMax<=this.priceMin)return Array(20).fill({count:0,height:0});const x=20,y=(this.priceMax-this.priceMin)/x,B=Array(x).fill(0);this.products.forEach(V=>{if(!V)return;let C=V.Price!==void 0?V.Price:null;if(C==null){const E=V.price;if(E!=null&&E!=="")if(typeof E=="string"&&/[$,]/.test(E)){const D=E.replace(/[^0-9.-]/g,"");C=parseFloat(D)||null}else C=E}if(C==null||C==="")return;let P=0;if(typeof C=="number")P=C;else if(typeof C=="string"){const E=C.replace(/[^0-9.-]/g,"");P=parseFloat(E)||0}if(P>0&&P>=this.priceMin&&P<=this.priceMax){const E=Math.min(Math.floor((P-this.priceMin)/y),x-1);B[E]++}});const S=Math.max(...B,1);return B.map(V=>({count:V,height:V/S*100}))}},watch:{priceRange:{handler(x){x&&x.length===2&&(this.localPriceRange=[...x])},immediate:!0}},mounted(){this.priceRange&&this.priceRange.length===2&&(this.localPriceRange=[...this.priceRange])},methods:{getCurrencySymbol(){if(!this.priceFormat)return"";const x=this.priceFormat.toLowerCase();return x==="dollar"||x==="usd"?"$":x==="euro"||x==="eur"?"":x==="pound"||x==="gbp"?"":x==="yen"||x==="jpy"?"":x==="rupee"||x==="inr"||x==="rs"?"":"$"},toggleSection(x){this.sectionsOpen[x]=!this.sectionsOpen[x]},toggleSize(x){const y=this.selectedSizes.indexOf(x);y>-1?this.selectedSizes.splice(y,1):this.selectedSizes.push(x),this.$emit("filterChange",this.getFilters())},toggleColor(x){const y=this.selectedColors.indexOf(x);y>-1?this.selectedColors.splice(y,1):this.selectedColors.push(x),this.$emit("filterChange",this.getFilters())},updatePriceRange(){this.localPriceRange[0]>this.localPriceRange[1]&&(this.localPriceRange[0]=this.localPriceRange[1]),this.localPriceRange[0]<this.priceMin&&(this.localPriceRange[0]=this.priceMin),this.localPriceRange[1]>this.priceMax&&(this.localPriceRange[1]=this.priceMax),this.$emit("filterChange",this.getFilters())},getFilters(){return{brands:this.selectedBrands,priceRange:[...this.localPriceRange],sizes:this.selectedSizes,colors:this.selectedColors,years:this.selectedYears,statuses:this.selectedStatuses}}},emits:["filterChange","close"]},_hoisted_1$i={class:"bg-white h-full lg:h-auto overflow-y-auto lg:overflow-visible lg:rounded-lg lg:p-2 lg:sticky lg:top-20 p-4"},_hoisted_2$i={class:"lg:hidden flex items-center justify-between mb-4 pb-4 border-b border-gray-200"},_hoisted_3$i={key:0,class:"space-y-6 animate-pulse"},_hoisted_4$h={key:0,class:"mb-6"},_hoisted_5$h={class:"space-y-4"},_hoisted_6$h={class:"text-sm font-medium text-gray-900"},_hoisted_7$g={class:"relative h-12 mb-2"},_hoisted_8$f={class:"absolute inset-0 flex items-end justify-between gap-px",style:{padding:"0 8px",bottom:"4px"}},_hoisted_9$f={class:"relative h-full flex items-end"},_hoisted_10$e=["min","max","step"],_hoisted_11$e=["min","max","step"],_hoisted_12$d={key:1,class:"mb-6"},_hoisted_13$d={class:"space-y-2 max-h-48 overflow-y-auto"},_hoisted_14$c=["value"],_hoisted_15$c={class:"text-sm text-gray-700"},_hoisted_16$c={key:2,class:"mb-6"},_hoisted_17$b={class:"space-y-3"},_hoisted_18$a={class:"space-y-2 max-h-48 overflow-y-auto"},_hoisted_19$9=["value"],_hoisted_20$9={class:"text-sm text-gray-700 flex-1"},_hoisted_21$9={class:"text-sm text-gray-500"},_hoisted_22$9={key:3,class:"mb-6"},_hoisted_23$9={class:"grid grid-cols-4 gap-2"},_hoisted_24$9=["onClick"],_hoisted_25$9={key:4,class:"mb-6"},_hoisted_26$8={class:"space-y-2 max-h-48 overflow-y-auto"},_hoisted_27$8=["value"],_hoisted_28$8={class:"text-sm text-gray-700 flex-1"},_hoisted_29$8={class:"text-sm text-gray-500"};function _sfc_render$k(x,y,B,S,V,C){return openBlock(),createElementBlock("aside",{class:normalizeClass(["w-full max-w-sm lg:w-64 pr-0 lg:pr-6","fixed lg:relative inset-y-0 left-0 z-50 lg:z-auto","transform transition-transform duration-300 ease-in-out",B.isMobileOpen?"translate-x-0":"-translate-x-full lg:translate-x-0"])},[createBaseVNode("div",_hoisted_1$i,[createBaseVNode("div",_hoisted_2$i,[y[18]||(y[18]=createBaseVNode("h2",{class:"text-lg font-semibold text-gray-900"},"Filters",-1)),createBaseVNode("button",{onClick:y[0]||(y[0]=P=>x.$emit("close")),class:"p-2 hover:bg-gray-100 rounded-lg transition-colors"},[...y[17]||(y[17]=[createBaseVNode("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),B.loading?(openBlock(),createElementBlock("div",_hoisted_3$i,[(openBlock(),createElementBlock(Fragment,null,renderList(5,P=>createBaseVNode("div",{key:`filter-skeleton-${P}`,class:"space-y-3"},[...y[19]||(y[19]=[createStaticVNode('<div class="h-4 w-32 bg-gray-200 rounded" data-v-6791b7ec></div><div class="space-y-2" data-v-6791b7ec><div class="h-10 bg-gray-100 rounded-lg" data-v-6791b7ec></div><div class="h-10 bg-gray-100 rounded-lg" data-v-6791b7ec></div><div class="h-10 bg-gray-100 rounded-lg" data-v-6791b7ec></div></div><div class="h-px bg-gray-100" data-v-6791b7ec></div>',3)])])),64))])):(openBlock(),createElementBlock(Fragment,{key:1},[B.filterMetadata.hasPrice?(openBlock(),createElementBlock("div",_hoisted_4$h,[createBaseVNode("button",{onClick:y[1]||(y[1]=P=>C.toggleSection("price")),class:"w-full flex items-center justify-between text-left font-medium text-gray-900 mb-3"},[y[21]||(y[21]=createBaseVNode("span",null,"Price",-1)),(openBlock(),createElementBlock("svg",{class:normalizeClass(["w-5 h-5 transform transition-transform",{"rotate-180":V.sectionsOpen.price}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...y[20]||(y[20]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"},null,-1)])],2))]),withDirectives(createBaseVNode("div",_hoisted_5$h,[createBaseVNode("div",_hoisted_6$h,toDisplayString(C.formattedCurrentMin)+"  "+toDisplayString(C.formattedCurrentMax)+toDisplayString(V.localPriceRange[1]>=C.priceMax?"+":""),1),createBaseVNode("div",_hoisted_7$g,[createBaseVNode("div",_hoisted_8$f,[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.histogramData,(P,E)=>(openBlock(),createElementBlock("div",{key:E,style:normalizeStyle({width:`${100/C.histogramData.length}%`,height:`${P.height}%`,backgroundColor:"#E5E7EB",minHeight:P.count>0?"2px":"0",maxHeight:"100%"}),class:"transition-all duration-200 rounded-t"},null,4))),128))]),createBaseVNode("div",_hoisted_9$f,[createBaseVNode("div",{class:"absolute h-1 bg-emerald-500 rounded-full bottom-0",style:normalizeStyle({left:`${(V.localPriceRange[0]-C.priceMin)/(C.priceMax-C.priceMin)*100}%`,width:`${(V.localPriceRange[1]-V.localPriceRange[0])/(C.priceMax-C.priceMin)*100}%`})},null,4),withDirectives(createBaseVNode("input",{type:"range",min:C.priceMin,max:C.priceMax,step:Math.max(1,Math.ceil((C.priceMax-C.priceMin)/1e3)),"onUpdate:modelValue":y[2]||(y[2]=P=>V.localPriceRange[0]=P),onInput:y[3]||(y[3]=(...P)=>C.updatePriceRange&&C.updatePriceRange(...P)),class:"absolute w-full h-1 bottom-0 appearance-none bg-transparent cursor-pointer z-10 slider-thumb",style:normalizeStyle({zIndex:V.localPriceRange[0]>V.localPriceRange[1]-(C.priceMax-C.priceMin)*.05?20:10})},null,44,_hoisted_10$e),[[vModelText,V.localPriceRange[0],void 0,{number:!0}]]),withDirectives(createBaseVNode("input",{type:"range",min:C.priceMin,max:C.priceMax,step:Math.max(1,Math.ceil((C.priceMax-C.priceMin)/1e3)),"onUpdate:modelValue":y[4]||(y[4]=P=>V.localPriceRange[1]=P),onInput:y[5]||(y[5]=(...P)=>C.updatePriceRange&&C.updatePriceRange(...P)),class:"absolute w-full h-1 bottom-0 appearance-none bg-transparent cursor-pointer z-10 slider-thumb",style:normalizeStyle({zIndex:V.localPriceRange[1]<V.localPriceRange[0]+(C.priceMax-C.priceMin)*.05?20:10})},null,44,_hoisted_11$e),[[vModelText,V.localPriceRange[1],void 0,{number:!0}]])])])],512),[[vShow,V.sectionsOpen.price]])])):createCommentVNode("",!0),B.filterMetadata.hasYear&&B.availableYears.length>0?(openBlock(),createElementBlock("div",_hoisted_12$d,[createBaseVNode("button",{onClick:y[6]||(y[6]=P=>C.toggleSection("year")),class:"w-full flex items-center justify-between text-left font-medium text-gray-900 mb-3"},[y[23]||(y[23]=createBaseVNode("span",null,"Year",-1)),(openBlock(),createElementBlock("svg",{class:normalizeClass(["w-5 h-5 transform transition-transform",{"rotate-180":V.sectionsOpen.year}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...y[22]||(y[22]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"},null,-1)])],2))]),withDirectives(createBaseVNode("div",_hoisted_13$d,[(openBlock(!0),createElementBlock(Fragment,null,renderList(B.availableYears,P=>(openBlock(),createElementBlock("label",{key:P,class:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded"},[withDirectives(createBaseVNode("input",{type:"checkbox",value:P,"onUpdate:modelValue":y[7]||(y[7]=E=>V.selectedYears=E),onChange:y[8]||(y[8]=E=>x.$emit("filterChange",C.getFilters())),class:"w-4 h-4 text-emerald-500 border-gray-300 rounded focus:ring-emerald-500"},null,40,_hoisted_14$c),[[vModelCheckbox,V.selectedYears]]),createBaseVNode("span",_hoisted_15$c,toDisplayString(P),1)]))),128))],512),[[vShow,V.sectionsOpen.year]])])):createCommentVNode("",!0),B.filterMetadata.hasBrand?(openBlock(),createElementBlock("div",_hoisted_16$c,[createBaseVNode("button",{onClick:y[9]||(y[9]=P=>C.toggleSection("brand")),class:"w-full flex items-center justify-between text-left font-medium text-gray-900 mb-3"},[createBaseVNode("span",null,toDisplayString(B.filterMetadata.hasCategory?"Category":"Brand"),1),(openBlock(),createElementBlock("svg",{class:normalizeClass(["w-5 h-5 transform transition-transform",{"rotate-180":V.sectionsOpen.brand}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...y[24]||(y[24]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"},null,-1)])],2))]),withDirectives(createBaseVNode("div",_hoisted_17$b,[withDirectives(createBaseVNode("input",{type:"text",placeholder:"Q Search brand ...","onUpdate:modelValue":y[10]||(y[10]=P=>V.brandSearch=P),class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"},null,512),[[vModelText,V.brandSearch]]),createBaseVNode("div",_hoisted_18$a,[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.filteredBrands,P=>(openBlock(),createElementBlock("label",{key:P.name,class:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded"},[withDirectives(createBaseVNode("input",{type:"checkbox",value:P.name,"onUpdate:modelValue":y[11]||(y[11]=E=>V.selectedBrands=E),onChange:y[12]||(y[12]=E=>x.$emit("filterChange",C.getFilters())),class:"w-4 h-4 text-emerald-500 border-gray-300 rounded focus:ring-emerald-500"},null,40,_hoisted_19$9),[[vModelCheckbox,V.selectedBrands]]),createBaseVNode("span",_hoisted_20$9,toDisplayString(P.name),1),createBaseVNode("span",_hoisted_21$9,toDisplayString(P.count),1)]))),128))])],512),[[vShow,V.sectionsOpen.brand]])])):createCommentVNode("",!0),B.filterMetadata.hasSize&&B.availableSizes.length>0?(openBlock(),createElementBlock("div",_hoisted_22$9,[createBaseVNode("button",{onClick:y[13]||(y[13]=P=>C.toggleSection("size")),class:"w-full flex items-center justify-between text-left font-medium text-gray-900 mb-3"},[y[26]||(y[26]=createBaseVNode("span",null,"Size",-1)),(openBlock(),createElementBlock("svg",{class:normalizeClass(["w-5 h-5 transform transition-transform",{"rotate-180":V.sectionsOpen.size}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...y[25]||(y[25]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"},null,-1)])],2))]),withDirectives(createBaseVNode("div",_hoisted_23$9,[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.sizes,P=>(openBlock(),createElementBlock("button",{key:P,onClick:E=>C.toggleSize(P),class:normalizeClass(["px-3 py-2 border rounded-lg text-sm font-medium transition-colors",V.selectedSizes.includes(P)?"bg-emerald-500 text-white border-emerald-500":"bg-white text-gray-700 border-gray-300 hover:border-emerald-500"])},toDisplayString(P),11,_hoisted_24$9))),128))],512),[[vShow,V.sectionsOpen.size]])])):createCommentVNode("",!0),B.filterMetadata.hasStatus&&B.availableStatuses.length>0?(openBlock(),createElementBlock("div",_hoisted_25$9,[createBaseVNode("button",{onClick:y[14]||(y[14]=P=>C.toggleSection("status")),class:"w-full flex items-center justify-between text-left font-medium text-gray-900 mb-3"},[y[28]||(y[28]=createBaseVNode("span",null,"Status",-1)),(openBlock(),createElementBlock("svg",{class:normalizeClass(["w-5 h-5 transform transition-transform",{"rotate-180":V.sectionsOpen.status}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...y[27]||(y[27]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"},null,-1)])],2))]),withDirectives(createBaseVNode("div",_hoisted_26$8,[(openBlock(!0),createElementBlock(Fragment,null,renderList(B.availableStatuses,P=>(openBlock(),createElementBlock("label",{key:P.name,class:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded"},[withDirectives(createBaseVNode("input",{type:"checkbox",value:P.name,"onUpdate:modelValue":y[15]||(y[15]=E=>V.selectedStatuses=E),onChange:y[16]||(y[16]=E=>x.$emit("filterChange",C.getFilters())),class:"w-4 h-4 text-emerald-500 border-gray-300 rounded focus:ring-emerald-500"},null,40,_hoisted_27$8),[[vModelCheckbox,V.selectedStatuses]]),createBaseVNode("span",_hoisted_28$8,toDisplayString(P.name),1),createBaseVNode("span",_hoisted_29$8,toDisplayString(P.count),1)]))),128))],512),[[vShow,V.sectionsOpen.status]])])):createCommentVNode("",!0)],64))])],2)}const __unplugin_components_1=_export_sfc(_sfc_main$k,[["render",_sfc_render$k],["__scopeId","data-v-6791b7ec"]]),_sfc_main$j={name:"AdvancedSearch",components:{SearchBar:__unplugin_components_0$4},props:{placeholders:{type:Object,default:()=>({search:"Search products...",location:"Location"})},buttons:{type:Object,default:()=>({search:"Search"})},availableCategories:{type:Array,default:()=>[]},initialCategory:{type:String,default:""},initialQuery:{type:String,default:""},initialLocation:{type:String,default:""}},data(){return{searchQuery:"",locationQuery:"",selectedCategory:"",minPrice:null,maxPrice:null}},watch:{initialCategory(x){this.selectedCategory=x||""},initialQuery(x){x!==this.searchQuery&&(this.searchQuery=x||"")},initialLocation(x){x!==this.locationQuery&&(this.locationQuery=x||"")}},mounted(){this.initialCategory&&(this.selectedCategory=this.initialCategory),this.initialQuery&&(this.searchQuery=this.initialQuery),this.initialLocation&&(this.locationQuery=this.initialLocation)},emits:["search","clear"],methods:{handleSearch(){this.$emit("search",{query:this.searchQuery,location:this.locationQuery,category:this.selectedCategory,minPrice:this.minPrice,maxPrice:this.maxPrice})},handleClear(){this.searchQuery="",this.locationQuery="",this.selectedCategory="",this.minPrice=null,this.maxPrice=null,this.$emit("clear"),this.$emit("search",{query:"",location:"",category:"",minPrice:null,maxPrice:null})}}},_hoisted_1$h={class:"bg-white py-6 border-b border-gray-200"},_hoisted_2$h={class:"section-container px-4 sm:px-6 lg:px-8"},_hoisted_3$h={class:"bg-gray-50 rounded-xl p-2"};function _sfc_render$j(x,y,B,S,V,C){const P=__unplugin_components_0$4;return openBlock(),createElementBlock("div",_hoisted_1$h,[createBaseVNode("div",_hoisted_2$h,[createBaseVNode("div",_hoisted_3$h,[createVNode(P,{placeholders:B.placeholders,"button-label":B.buttons.search,searchValue:V.searchQuery,"onUpdate:searchValue":y[0]||(y[0]=E=>V.searchQuery=E),locationValue:V.locationQuery,"onUpdate:locationValue":y[1]||(y[1]=E=>V.locationQuery=E),onSearch:C.handleSearch},null,8,["placeholders","button-label","searchValue","locationValue","onSearch"])])])])}const __unplugin_components_0$3=_export_sfc(_sfc_main$j,[["render",_sfc_render$j]]),_sfc_main$i={name:"Products",setup(){const x=useSettingsStore(),y=useItemStore(),B=useDashboardStore();return{settingsStore:x,itemStore:y,dashboardStore:B}},data(){return{currentPage:1,currentSort:"Most Popular",showMobileFilters:!1,filters:{brands:[],priceRange:[0,1e4],sizes:[],colors:[],years:[],statuses:[]},searchFilters:{query:"",location:"",category:"",minPrice:null,maxPrice:null},loading:!1,productsLoaded:!1}},computed:{products(){if(!this.productsLoaded)return{total:0,items:[],itemsPerPage:9};const x=this.itemStore.items||[];if(!Array.isArray(x))return{total:0,items:[],itemsPerPage:9};const y=x.map((B,S)=>{if(!B||typeof B!="object")return console.warn(`Invalid product at index ${S}:`,B),null;let V=null,C=[];const P=B.Images||B.images;if(P){if(Array.isArray(P)){const R=[];for(const Z of P)typeof Z=="string"&&this.isImageUrl(Z)?R.push(Z):typeof Z=="object"&&(Z.url&&this.isImageUrl(Z.url)?R.push(Z.url):Z.name&&this.isImageUrl(Z.name)&&R.push(Z.name));R.length>0&&(C=R,V=R[0])}if(!C.length&&typeof P=="string"){const R=this.getImageUrlsFromValue(P);R.length>0&&(C=R,V=R[0])}}if(!V){const R=["Image","image","Photo","photo","Picture","picture","Thumbnail","thumbnail"];for(const Z of R)if(B[Z]){if(Array.isArray(B[Z])&&B[Z].length>0){if(B[Z][0].url){C=B[Z].map(U=>U.url).filter(Boolean),V=C[0];break}if(C=B[Z].map(U=>typeof U=="string"?U:U&&U.url?U.url:U&&U.external&&U.external.url?U.external.url:U&&U.file&&U.file.url?U.file.url:null).filter(U=>U&&typeof U=="string"),C.length>0){V=C[0];break}}if(typeof B[Z]=="string"&&B[Z].startsWith("http")){V=B[Z],C=[B[Z]];break}}}if(!V){for(const R in B)if(Array.isArray(B[R])&&B[R].length>0&&B[R][0]&&B[R][0].url){V=B[R][0].url,C=B[R].map(Z=>Z&&Z.url?Z.url:null).filter(Boolean);break}}const E=["Title","title","Name","name"];let D="Untitled";for(const R of E)if(B[R]){const Z=typeof B[R]=="string"?B[R]:String(B[R]);if(Z.trim()){D=Z.trim();break}}let z=B.Slug||B.slug||D.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");const T=B.Price||B.price||"";let j=T;if(T!==""&&T!==null&&T!==void 0){const R=this.itemStore.schema,Z=getPriceFormatFromSchema(R,"Price")||getPriceFormatFromSchema(R,"price");j=formatPrice(T,Z)}return{id:B.id||`product-${S}`,slug:z,image:V||"",images:C.length>0?C:V?[V]:[],title:D,description:(B.Description||B.description||"").toString(),location:(B.Location||B.location||"").toString(),size:(B.Size||B.size||"").toString(),price:j,percentage:(B.Percentage||B.percentage||"").toString(),attribute1:(B.Attribute1||B.attribute1||B["Attribute 1"]||B["attribute 1"]||"").toString(),attribute2:(B.Attribute2||B.attribute2||B["Attribute 2"]||B["attribute 2"]||"").toString(),year:(B.Year||B.year||"").toString(),category:(B.Category||B.category||"").toString(),status:(B.Status||B.status||"").toString(),brand:(B.Brand||B.brand||B.category||"").toString(),color:(B.Color||B.color||"").toString(),...B}}).filter(B=>B!==null);return{total:y.length,items:y,itemsPerPage:9}},sort(){return{label:"Sort by:",options:["Most Popular","Price: Low to High","Price: High to Low","Newest First"]}},searchPlaceholders(){var B,S;const x=this.settingsStore.getSettings(),y=x==null?void 0:x.search;return{search:((B=y==null?void 0:y.placeholders)==null?void 0:B.search)||"Search products...",location:((S=y==null?void 0:y.placeholders)==null?void 0:S.location)||"Location"}},searchButtons(){var B;const x=this.settingsStore.getSettings(),y=x==null?void 0:x.search;return{search:((B=y==null?void 0:y.buttons)==null?void 0:B.search)||"Search"}},productLabels(){return{showing:"Showing",of:"of total",results:"results"}},filterMetadata(){const x={hasBrand:!1,hasPrice:!1,hasSize:!1,hasColor:!1,hasLocation:!1,hasYear:!1,hasStatus:!1,hasCategory:!1};if(this.products.items.length===0)return x;const y=this.products.items[0];x.hasBrand=!!(y.brand||y.category),x.hasCategory=!!y.category,x.hasPrice=!!y.price;const B=["XXS","XS","S","M","L","XL","XXL","XXS","XS","S","M","L","XL","XXL"];if(y.size){const S=String(y.size).toUpperCase().trim();x.hasSize=B.some(V=>S===V||S.startsWith(V+" ")||S===V)}return x.hasColor=!!y.color,x.hasLocation=!!y.location,x.hasYear=!!y.year,x.hasStatus=!!y.status,x},brands(){if(!this.filterMetadata.hasBrand)return[];const x={};return this.products.items.forEach(y=>{const B=y.brand||y.category||"Other";x[B]=(x[B]||0)+1}),Object.entries(x).map(([y,B])=>({name:y,count:B})).sort((y,B)=>B.count-y.count)},priceRange(){const x=this.itemStore.items||[];if(x.length===0)return[0,1e4];const y=x.map(V=>{if(!V)return 0;const C=V.Price!==void 0?V.Price:V.price;if(C==null||C==="")return 0;if(typeof C=="number")return C;if(typeof C=="string"){const P=C.replace(/[^0-9.-]/g,""),E=parseFloat(P);return isNaN(E)?0:E}return 0}).filter(V=>V>0);if(y.length===0)return[0,1e4];const B=Math.min(...y),S=Math.max(...y);return[Math.floor(B/100)*100,Math.ceil(S/100)*100]},availableSizes(){if(!this.filterMetadata.hasSize)return[];const x=new Set,y=["XXS","XS","S","M","L","XL","XXL"];return this.products.items.forEach(B=>{if(B.size){const S=String(B.size).toUpperCase().trim();y.forEach(V=>{(S===V||S.startsWith(V+" ")||S===V)&&x.add(V)})}}),Array.from(x).sort((B,S)=>{const V=["XXS","XS","S","M","L","XL","XXL"];return V.indexOf(B)-V.indexOf(S)})},availableColors(){if(!this.filterMetadata.hasColor)return[];const x=new Set;if(this.products.items.forEach(B=>{B.color&&x.add(B.color)}),x.size===0)return[];const y={Black:"#000000",Red:"#EF4444",Orange:"#F97316",Yellow:"#EAB308",Green:"#22C55E",Blue:"#3B82F6",Purple:"#A855F7",Pink:"#EC4899",White:"#FFFFFF",Grey:"#6B7280",Gray:"#6B7280",Brown:"#8B4513",Beige:"#F5F5DC",Navy:"#000080",Teal:"#008080"};return Array.from(x).map(B=>({name:B,value:y[B]||"#6B7280"}))},availableLocations(){if(!this.filterMetadata.hasLocation)return[];const x={};return this.products.items.forEach(y=>{y.location&&(x[y.location]=(x[y.location]||0)+1)}),Object.entries(x).map(([y,B])=>({name:y,count:B})).sort((y,B)=>B.count-y.count)},availableYears(){if(!this.filterMetadata.hasYear)return[];const x=new Set;return this.products.items.forEach(y=>{y.year&&x.add(y.year)}),Array.from(x).sort((y,B)=>B-y)},availableStatuses(){if(!this.filterMetadata.hasStatus)return[];const x={};return this.products.items.forEach(y=>{y.status&&(x[y.status]=(x[y.status]||0)+1)}),Object.entries(x).map(([y,B])=>({name:y,count:B})).sort((y,B)=>B.count-y.count)},filteredProducts(){let x={...this.products},y=[...this.products.items];if(this.searchFilters.query&&this.searchFilters.query.trim()){const B=this.searchFilters.query.toLowerCase().trim();y=y.filter(S=>{const V=(S.title||"").toLowerCase(),C=(S.description||"").toLowerCase(),P=(S.category||"").toLowerCase(),E=(S.location||"").toLowerCase();return V.includes(B)||C.includes(B)||P.includes(B)||E.includes(B)})}if(this.searchFilters.location){const B=this.searchFilters.location.toLowerCase();y=y.filter(S=>(S.location||"").toLowerCase().includes(B))}return this.searchFilters.category&&(y=y.filter(B=>(B.brand||B.category||"Other")===this.searchFilters.category)),(this.searchFilters.minPrice!==null||this.searchFilters.maxPrice!==null)&&(y=y.filter(B=>{const S=B.Price!==void 0?B.Price:B.price;if(S==null||S==="")return!1;let V=0;if(typeof S=="number")V=S;else if(typeof S=="string")if(/[$,]/.test(S)){const C=S.replace(/[^0-9.-]/g,"");V=parseFloat(C)||0}else V=parseFloat(S)||0;return!(this.searchFilters.minPrice!==null&&V<this.searchFilters.minPrice||this.searchFilters.maxPrice!==null&&V>this.searchFilters.maxPrice)})),this.filters.brands.length>0&&(y=y.filter(B=>{const S=B.brand||B.category||"Other";return this.filters.brands.includes(S)})),y=y.filter(B=>{const S=B.Price!==void 0?B.Price:B.price;if(S==null||S==="")return!1;let V=0;if(typeof S=="number")V=S;else if(typeof S=="string")if(/[$,]/.test(S)){const C=S.replace(/[^0-9.-]/g,"");V=parseFloat(C)||0}else V=parseFloat(S)||0;return V>=this.filters.priceRange[0]&&V<=this.filters.priceRange[1]}),this.filters.sizes.length>0&&(y=y.filter(B=>{if(!B.size)return!1;const S=typeof B.size=="string"?B.size.split(" ")[0]:B.size;return this.filters.sizes.includes(S)})),this.filters.colors.length>0&&(y=y.filter(B=>B.color?this.filters.colors.includes(B.color):!1)),this.filters.years.length>0&&(y=y.filter(B=>B.year?this.filters.years.includes(B.year):!1)),this.filters.statuses.length>0&&(y=y.filter(B=>B.status?this.filters.statuses.includes(B.status):!1)),this.currentSort&&(y=this.applySorting(y,this.currentSort)),x.items=y,x.total=y.length,x},totalPages(){const x=this.filteredProducts.itemsPerPage||9;return Math.ceil(this.filteredProducts.total/x)}},watch:{"$route.query"(x,y){let B=!1;x.query!==void 0&&x.query!==(y==null?void 0:y.query)&&(this.searchFilters.query=x.query||"",B=!0),x.location!==void 0&&x.location!==(y==null?void 0:y.location)&&(this.searchFilters.location=x.location||"",B=!0),x.category!==void 0&&x.category!==(y==null?void 0:y.category)&&(this.searchFilters.category=x.category||"",B=!0),B&&(this.currentPage=1)}},async mounted(){try{this.loading=!0;const x=this.$route.query;x.query&&(this.searchFilters.query=String(x.query)),x.location&&(this.searchFilters.location=String(x.location)),x.category&&(this.searchFilters.category=String(x.category)),await Promise.all([this.settingsStore.loadSettings(),this.loadProducts()]),this.priceRange&&(this.filters.priceRange=[...this.priceRange])}catch(x){console.error("Error loading products page data:",x)}finally{this.loading=!1}},methods:{async loadProducts(){var x;this.loading=!0,this.productsLoaded=!1;try{this.dashboardStore.productsDatabaseId||await this.dashboardStore.initializeDashboard(!1,{skipAggregations:!0,skipRecentActivity:!0});const y=this.dashboardStore.productsDatabaseId;if(!y){console.warn("Products database ID not found. Available databases:",this.dashboardStore.databaseInfo.map(V=>({id:V.id,title:V.title})));return}this.itemStore.setDatabaseId(y),await this.itemStore.ensureSchemaLoaded(),this.itemStore.databaseInfo&&this.itemStore.databaseInfo.id&&(this.itemStore.setDatabaseId(this.itemStore.databaseInfo.id),await this.itemStore.ensureSchemaLoaded());const B=this.itemStore.databaseId||y;await this.itemStore.fetchAllItems({approvedOnly:!0}),(((x=this.itemStore.items)==null?void 0:x.length)||0)===0&&console.warn("No products found in database. Database ID:",B),this.productsLoaded=!0}catch(y){console.error("Error loading products from products database:",y),this.productsLoaded=!1}finally{this.loading=!1}},handleFilterChange(x){this.filters=x,this.currentPage=1},handleSortChange(x){this.currentSort=x,this.currentPage=1},applySorting(x,y){if(!y||!x||x.length===0)return x;const B=[...x];switch(y){case"Price: Low to High":return B.sort((S,V)=>{const C=this.extractRawPrice(S)||0,P=this.extractRawPrice(V)||0;return C-P});case"Price: High to Low":return B.sort((S,V)=>{const C=this.extractRawPrice(S)||0;return(this.extractRawPrice(V)||0)-C});case"Newest First":return B.sort((S,V)=>{const C=this.extractDate(S["Updated Date"]||S.updated_date||S.Updated||S.updated||S["Created Date"]||S.created_date||S.Created||S.created||S.id);return this.extractDate(V["Updated Date"]||V.updated_date||V.Updated||V.updated||V["Created Date"]||V.created_date||V.Created||V.created||V.id)-C});case"Most Popular":default:return B}},extractPrice(x){if(!x)return 0;const y=typeof x=="string"?x:String(x);return parseInt(y.replace(/[^0-9]/g,""))||0},extractRawPrice(x){if(!x)return 0;const y=x.Price!==void 0?x.Price:x.price;if(y==null||y==="")return 0;if(typeof y=="number")return y;if(typeof y=="string")if(/[$,]/.test(y)){const B=y.replace(/[^0-9.-]/g,"");return parseFloat(B)||0}else return parseFloat(y)||0;return 0},extractDate(x){if(!x)return 0;if(typeof x=="number")return x;if(typeof x=="string"){const y=new Date(x);return isNaN(y.getTime())?x.charCodeAt(0)||0:y.getTime()}return 0},handleProductClick(x){this.$router.push(`/products/${x.slug}`)},handlePageChange(x){this.currentPage=x,this.$nextTick(()=>{const y=document.querySelector(".product-listing-section");y&&y.scrollIntoView({behavior:"smooth",block:"start"})})},handleFavorite(x){},handleAdvancedSearch(x){this.searchFilters={query:x.query||"",location:x.location||"",category:x.category||"",minPrice:x.minPrice||null,maxPrice:x.maxPrice||null},this.currentPage=1;const y={};this.searchFilters.query&&(y.query=this.searchFilters.query),this.searchFilters.location&&(y.location=this.searchFilters.location),this.searchFilters.category&&(y.category=this.searchFilters.category),this.$router.replace({path:"/products",query:y}).catch(()=>{})},handleSearchClear(){this.searchFilters={query:"",location:"",category:"",minPrice:null,maxPrice:null},this.currentPage=1,this.$router.replace({path:"/products",query:{}}).catch(()=>{})},handleClearAll(){this.searchFilters={query:"",location:"",category:"",minPrice:null,maxPrice:null},this.filters={brands:[],priceRange:[...this.priceRange],sizes:[],colors:[],years:[],statuses:[]},this.currentPage=1,this.$router.replace({path:"/products",query:{}}).catch(()=>{})},isImageUrl(x){if(!x||typeof x!="string")return!1;try{new URL(x)}catch{return!1}const y=[".jpg",".jpeg",".png",".gif",".bmp",".webp",".svg",".tiff",".ico",".avif"],B=x.toLowerCase(),S=y.some(D=>B.includes(D)),C=["imgur.com","unsplash.com","pexels.com","pixabay.com","cloudinary.com","imagekit.io"].some(D=>B.includes(D)),E=["/image/","/img/","/photo/","/picture/","/media/","i.imgur.com","cdn.","images."].some(D=>B.includes(D));return S||C||E},getImageUrlsFromValue(x){if(!x)return[];if(Array.isArray(x))return x.map(y=>typeof y=="string"&&this.isImageUrl(y)?y:typeof y=="object"&&y.url&&this.isImageUrl(y.url)?y.url:null).filter(y=>y);if(typeof x=="string"){const y=x.trim();return this.isImageUrl(y)?[y]:y.split(/[,\n]/).map(V=>V.trim()).filter(V=>V).filter(V=>this.isImageUrl(V))}return[]}}},_hoisted_1$g={class:"bg-gray-50 py-4 border-b border-gray-200"},_hoisted_2$g={class:"section-container px-4 sm:px-6 lg:px-8"},_hoisted_3$g={class:"flex items-center gap-2 text-sm text-gray-600"},_hoisted_4$g={class:"py-8 bg-white"},_hoisted_5$g={class:"section-container px-4 sm:px-6 lg:px-8"},_hoisted_6$g={class:"flex flex-col lg:flex-row gap-8"},_hoisted_7$f={class:"flex-1"};function _sfc_render$i(x,y,B,S,V,C){const P=resolveComponent("router-link"),E=__unplugin_components_0$3,D=__unplugin_components_1,z=__unplugin_components_0$7;return openBlock(),createElementBlock("div",null,[createBaseVNode("div",_hoisted_1$g,[createBaseVNode("div",_hoisted_2$g,[createBaseVNode("div",_hoisted_3$g,[createVNode(P,{to:"/",class:"hover:text-emerald-500"},{default:withCtx(()=>[...y[3]||(y[3]=[createTextVNode("Home",-1)])]),_:1}),y[4]||(y[4]=createBaseVNode("span",null,"/",-1)),y[5]||(y[5]=createBaseVNode("span",{class:"text-gray-900"},"Products",-1))])])]),createVNode(E,{placeholders:C.searchPlaceholders,buttons:C.searchButtons,availableCategories:C.brands,initialCategory:V.searchFilters.category,initialQuery:V.searchFilters.query,initialLocation:V.searchFilters.location,onSearch:C.handleAdvancedSearch,onClear:C.handleSearchClear},null,8,["placeholders","buttons","availableCategories","initialCategory","initialQuery","initialLocation","onSearch","onClear"]),createBaseVNode("section",_hoisted_4$g,[createBaseVNode("div",_hoisted_5$g,[createBaseVNode("button",{onClick:y[0]||(y[0]=T=>V.showMobileFilters=!V.showMobileFilters),class:"lg:hidden mb-4 flex items-center gap-2 px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors"},[...y[6]||(y[6]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1),createBaseVNode("span",null,"Filters",-1)])]),createBaseVNode("div",_hoisted_6$g,[V.showMobileFilters?(openBlock(),createElementBlock("div",{key:0,onClick:y[1]||(y[1]=T=>V.showMobileFilters=!1),class:"fixed inset-0 bg-black/50 z-40 lg:hidden"})):createCommentVNode("",!0),createVNode(D,{filterMetadata:C.filterMetadata,brands:C.brands,priceRange:C.priceRange,availableSizes:C.availableSizes,availableColors:C.availableColors,availableYears:C.availableYears,availableStatuses:C.availableStatuses,loading:V.loading||!V.productsLoaded,schema:S.itemStore.schema,products:C.products.items,isMobileOpen:V.showMobileFilters,onFilterChange:C.handleFilterChange,onClose:y[2]||(y[2]=T=>V.showMobileFilters=!1)},null,8,["filterMetadata","brands","priceRange","availableSizes","availableColors","availableYears","availableStatuses","loading","schema","products","isMobileOpen","onFilterChange"]),createBaseVNode("div",_hoisted_7$f,[createVNode(z,{productsData:C.filteredProducts,labels:C.productLabels,sortData:C.sort,currentPage:V.currentPage,totalPages:C.totalPages,loading:V.loading||!V.productsLoaded,schema:S.itemStore.schema,onSortChange:C.handleSortChange,onProductClick:C.handleProductClick,onPageChange:C.handlePageChange,onFavorite:C.handleFavorite,onClearFilters:C.handleClearAll},null,8,["productsData","labels","sortData","currentPage","totalPages","loading","schema","onSortChange","onProductClick","onPageChange","onFavorite","onClearFilters"])])])])])])}const Products=_export_sfc(_sfc_main$i,[["render",_sfc_render$i]]);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(x){return x&&x.__esModule&&Object.prototype.hasOwnProperty.call(x,"default")?x.default:x}var leafletSrc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(x,y){(function(B,S){S(y)})(commonjsGlobal,function(B){var S="1.9.4";function V(_){var w,$,N,I;for($=1,N=arguments.length;$<N;$++){I=arguments[$];for(w in I)_[w]=I[w]}return _}var C=Object.create||function(){function _(){}return function(w){return _.prototype=w,new _}}();function P(_,w){var $=Array.prototype.slice;if(_.bind)return _.bind.apply(_,$.call(arguments,1));var N=$.call(arguments,2);return function(){return _.apply(w,N.length?N.concat($.call(arguments)):arguments)}}var E=0;function D(_){return"_leaflet_id"in _||(_._leaflet_id=++E),_._leaflet_id}function z(_,w,$){var N,I,F,A;return A=function(){N=!1,I&&(F.apply($,I),I=!1)},F=function(){N?I=arguments:(_.apply($,arguments),setTimeout(A,w),N=!0)},F}function T(_,w,$){var N=w[1],I=w[0],F=N-I;return _===N&&$?_:((_-I)%F+F)%F+I}function j(){return!1}function R(_,w){if(w===!1)return _;var $=Math.pow(10,w===void 0?6:w);return Math.round(_*$)/$}function Z(_){return _.trim?_.trim():_.replace(/^\s+|\s+$/g,"")}function U(_){return Z(_).split(/\s+/)}function M(_,w){Object.prototype.hasOwnProperty.call(_,"options")||(_.options=_.options?C(_.options):{});for(var $ in w)_.options[$]=w[$];return _.options}function W(_,w,$){var N=[];for(var I in _)N.push(encodeURIComponent($?I.toUpperCase():I)+"="+encodeURIComponent(_[I]));return(!w||w.indexOf("?")===-1?"?":"&")+N.join("&")}var ke=/\{ *([\w_ -]+) *\}/g;function _e(_,w){return _.replace(ke,function($,N){var I=w[N];if(I===void 0)throw new Error("No value provided for variable "+$);return typeof I=="function"&&(I=I(w)),I})}var ae=Array.isArray||function(_){return Object.prototype.toString.call(_)==="[object Array]"};function Ee(_,w){for(var $=0;$<_.length;$++)if(_[$]===w)return $;return-1}var Ze="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function te(_){return window["webkit"+_]||window["moz"+_]||window["ms"+_]}var Q=0;function ne(_){var w=+new Date,$=Math.max(0,16-(w-Q));return Q=w+$,window.setTimeout(_,$)}var fe=window.requestAnimationFrame||te("RequestAnimationFrame")||ne,se=window.cancelAnimationFrame||te("CancelAnimationFrame")||te("CancelRequestAnimationFrame")||function(_){window.clearTimeout(_)};function G(_,w,$){if($&&fe===ne)_.call(w);else return fe.call(window,P(_,w))}function ue(_){_&&se.call(window,_)}var be={__proto__:null,extend:V,create:C,bind:P,get lastId(){return E},stamp:D,throttle:z,wrapNum:T,falseFn:j,formatNum:R,trim:Z,splitWords:U,setOptions:M,getParamString:W,template:_e,isArray:ae,indexOf:Ee,emptyImageUrl:Ze,requestFn:fe,cancelFn:se,requestAnimFrame:G,cancelAnimFrame:ue};function le(){}le.extend=function(_){var w=function(){M(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},$=w.__super__=this.prototype,N=C($);N.constructor=w,w.prototype=N;for(var I in this)Object.prototype.hasOwnProperty.call(this,I)&&I!=="prototype"&&I!=="__super__"&&(w[I]=this[I]);return _.statics&&V(w,_.statics),_.includes&&(ie(_.includes),V.apply(null,[N].concat(_.includes))),V(N,_),delete N.statics,delete N.includes,N.options&&(N.options=$.options?C($.options):{},V(N.options,_.options)),N._initHooks=[],N.callInitHooks=function(){if(!this._initHooksCalled){$.callInitHooks&&$.callInitHooks.call(this),this._initHooksCalled=!0;for(var F=0,A=N._initHooks.length;F<A;F++)N._initHooks[F].call(this)}},w},le.include=function(_){var w=this.prototype.options;return V(this.prototype,_),_.options&&(this.prototype.options=w,this.mergeOptions(_.options)),this},le.mergeOptions=function(_){return V(this.prototype.options,_),this},le.addInitHook=function(_){var w=Array.prototype.slice.call(arguments,1),$=typeof _=="function"?_:function(){this[_].apply(this,w)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push($),this};function ie(_){if(!(typeof L>"u"||!L||!L.Mixin)){_=ae(_)?_:[_];for(var w=0;w<_.length;w++)_[w]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var K={on:function(_,w,$){if(typeof _=="object")for(var N in _)this._on(N,_[N],w);else{_=U(_);for(var I=0,F=_.length;I<F;I++)this._on(_[I],w,$)}return this},off:function(_,w,$){if(!arguments.length)delete this._events;else if(typeof _=="object")for(var N in _)this._off(N,_[N],w);else{_=U(_);for(var I=arguments.length===1,F=0,A=_.length;F<A;F++)I?this._off(_[F]):this._off(_[F],w,$)}return this},_on:function(_,w,$,N){if(typeof w!="function"){console.warn("wrong listener type: "+typeof w);return}if(this._listens(_,w,$)===!1){$===this&&($=void 0);var I={fn:w,ctx:$};N&&(I.once=!0),this._events=this._events||{},this._events[_]=this._events[_]||[],this._events[_].push(I)}},_off:function(_,w,$){var N,I,F;if(this._events&&(N=this._events[_],!!N)){if(arguments.length===1){if(this._firingCount)for(I=0,F=N.length;I<F;I++)N[I].fn=j;delete this._events[_];return}if(typeof w!="function"){console.warn("wrong listener type: "+typeof w);return}var A=this._listens(_,w,$);if(A!==!1){var O=N[A];this._firingCount&&(O.fn=j,this._events[_]=N=N.slice()),N.splice(A,1)}}},fire:function(_,w,$){if(!this.listens(_,$))return this;var N=V({},w,{type:_,target:this,sourceTarget:w&&w.sourceTarget||this});if(this._events){var I=this._events[_];if(I){this._firingCount=this._firingCount+1||1;for(var F=0,A=I.length;F<A;F++){var O=I[F],H=O.fn;O.once&&this.off(_,H,O.ctx),H.call(O.ctx||this,N)}this._firingCount--}}return $&&this._propagateEvent(N),this},listens:function(_,w,$,N){typeof _!="string"&&console.warn('"string" type argument expected');var I=w;typeof w!="function"&&(N=!!w,I=void 0,$=void 0);var F=this._events&&this._events[_];if(F&&F.length&&this._listens(_,I,$)!==!1)return!0;if(N){for(var A in this._eventParents)if(this._eventParents[A].listens(_,w,$,N))return!0}return!1},_listens:function(_,w,$){if(!this._events)return!1;var N=this._events[_]||[];if(!w)return!!N.length;$===this&&($=void 0);for(var I=0,F=N.length;I<F;I++)if(N[I].fn===w&&N[I].ctx===$)return I;return!1},once:function(_,w,$){if(typeof _=="object")for(var N in _)this._on(N,_[N],w,!0);else{_=U(_);for(var I=0,F=_.length;I<F;I++)this._on(_[I],w,$,!0)}return this},addEventParent:function(_){return this._eventParents=this._eventParents||{},this._eventParents[D(_)]=_,this},removeEventParent:function(_){return this._eventParents&&delete this._eventParents[D(_)],this},_propagateEvent:function(_){for(var w in this._eventParents)this._eventParents[w].fire(_.type,V({layer:_.target,propagatedFrom:_.target},_),!0)}};K.addEventListener=K.on,K.removeEventListener=K.clearAllEventListeners=K.off,K.addOneTimeEventListener=K.once,K.fireEvent=K.fire,K.hasEventListeners=K.listens;var J=le.extend(K);function Y(_,w,$){this.x=$?Math.round(_):_,this.y=$?Math.round(w):w}var Be=Math.trunc||function(_){return _>0?Math.floor(_):Math.ceil(_)};Y.prototype={clone:function(){return new Y(this.x,this.y)},add:function(_){return this.clone()._add(oe(_))},_add:function(_){return this.x+=_.x,this.y+=_.y,this},subtract:function(_){return this.clone()._subtract(oe(_))},_subtract:function(_){return this.x-=_.x,this.y-=_.y,this},divideBy:function(_){return this.clone()._divideBy(_)},_divideBy:function(_){return this.x/=_,this.y/=_,this},multiplyBy:function(_){return this.clone()._multiplyBy(_)},_multiplyBy:function(_){return this.x*=_,this.y*=_,this},scaleBy:function(_){return new Y(this.x*_.x,this.y*_.y)},unscaleBy:function(_){return new Y(this.x/_.x,this.y/_.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Be(this.x),this.y=Be(this.y),this},distanceTo:function(_){_=oe(_);var w=_.x-this.x,$=_.y-this.y;return Math.sqrt(w*w+$*$)},equals:function(_){return _=oe(_),_.x===this.x&&_.y===this.y},contains:function(_){return _=oe(_),Math.abs(_.x)<=Math.abs(this.x)&&Math.abs(_.y)<=Math.abs(this.y)},toString:function(){return"Point("+R(this.x)+", "+R(this.y)+")"}};function oe(_,w,$){return _ instanceof Y?_:ae(_)?new Y(_[0],_[1]):_==null?_:typeof _=="object"&&"x"in _&&"y"in _?new Y(_.x,_.y):new Y(_,w,$)}function ve(_,w){if(_)for(var $=w?[_,w]:_,N=0,I=$.length;N<I;N++)this.extend($[N])}ve.prototype={extend:function(_){var w,$;if(!_)return this;if(_ instanceof Y||typeof _[0]=="number"||"x"in _)w=$=oe(_);else if(_=Pe(_),w=_.min,$=_.max,!w||!$)return this;return!this.min&&!this.max?(this.min=w.clone(),this.max=$.clone()):(this.min.x=Math.min(w.x,this.min.x),this.max.x=Math.max($.x,this.max.x),this.min.y=Math.min(w.y,this.min.y),this.max.y=Math.max($.y,this.max.y)),this},getCenter:function(_){return oe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,_)},getBottomLeft:function(){return oe(this.min.x,this.max.y)},getTopRight:function(){return oe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(_){var w,$;return typeof _[0]=="number"||_ instanceof Y?_=oe(_):_=Pe(_),_ instanceof ve?(w=_.min,$=_.max):w=$=_,w.x>=this.min.x&&$.x<=this.max.x&&w.y>=this.min.y&&$.y<=this.max.y},intersects:function(_){_=Pe(_);var w=this.min,$=this.max,N=_.min,I=_.max,F=I.x>=w.x&&N.x<=$.x,A=I.y>=w.y&&N.y<=$.y;return F&&A},overlaps:function(_){_=Pe(_);var w=this.min,$=this.max,N=_.min,I=_.max,F=I.x>w.x&&N.x<$.x,A=I.y>w.y&&N.y<$.y;return F&&A},isValid:function(){return!!(this.min&&this.max)},pad:function(_){var w=this.min,$=this.max,N=Math.abs(w.x-$.x)*_,I=Math.abs(w.y-$.y)*_;return Pe(oe(w.x-N,w.y-I),oe($.x+N,$.y+I))},equals:function(_){return _?(_=Pe(_),this.min.equals(_.getTopLeft())&&this.max.equals(_.getBottomRight())):!1}};function Pe(_,w){return!_||_ instanceof ve?_:new ve(_,w)}function Ce(_,w){if(_)for(var $=w?[_,w]:_,N=0,I=$.length;N<I;N++)this.extend($[N])}Ce.prototype={extend:function(_){var w=this._southWest,$=this._northEast,N,I;if(_ instanceof ye)N=_,I=_;else if(_ instanceof Ce){if(N=_._southWest,I=_._northEast,!N||!I)return this}else return _?this.extend(ge(_)||Se(_)):this;return!w&&!$?(this._southWest=new ye(N.lat,N.lng),this._northEast=new ye(I.lat,I.lng)):(w.lat=Math.min(N.lat,w.lat),w.lng=Math.min(N.lng,w.lng),$.lat=Math.max(I.lat,$.lat),$.lng=Math.max(I.lng,$.lng)),this},pad:function(_){var w=this._southWest,$=this._northEast,N=Math.abs(w.lat-$.lat)*_,I=Math.abs(w.lng-$.lng)*_;return new Ce(new ye(w.lat-N,w.lng-I),new ye($.lat+N,$.lng+I))},getCenter:function(){return new ye((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ye(this.getNorth(),this.getWest())},getSouthEast:function(){return new ye(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(_){typeof _[0]=="number"||_ instanceof ye||"lat"in _?_=ge(_):_=Se(_);var w=this._southWest,$=this._northEast,N,I;return _ instanceof Ce?(N=_.getSouthWest(),I=_.getNorthEast()):N=I=_,N.lat>=w.lat&&I.lat<=$.lat&&N.lng>=w.lng&&I.lng<=$.lng},intersects:function(_){_=Se(_);var w=this._southWest,$=this._northEast,N=_.getSouthWest(),I=_.getNorthEast(),F=I.lat>=w.lat&&N.lat<=$.lat,A=I.lng>=w.lng&&N.lng<=$.lng;return F&&A},overlaps:function(_){_=Se(_);var w=this._southWest,$=this._northEast,N=_.getSouthWest(),I=_.getNorthEast(),F=I.lat>w.lat&&N.lat<$.lat,A=I.lng>w.lng&&N.lng<$.lng;return F&&A},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(_,w){return _?(_=Se(_),this._southWest.equals(_.getSouthWest(),w)&&this._northEast.equals(_.getNorthEast(),w)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Se(_,w){return _ instanceof Ce?_:new Ce(_,w)}function ye(_,w,$){if(isNaN(_)||isNaN(w))throw new Error("Invalid LatLng object: ("+_+", "+w+")");this.lat=+_,this.lng=+w,$!==void 0&&(this.alt=+$)}ye.prototype={equals:function(_,w){if(!_)return!1;_=ge(_);var $=Math.max(Math.abs(this.lat-_.lat),Math.abs(this.lng-_.lng));return $<=(w===void 0?1e-9:w)},toString:function(_){return"LatLng("+R(this.lat,_)+", "+R(this.lng,_)+")"},distanceTo:function(_){return Xe.distance(this,ge(_))},wrap:function(){return Xe.wrapLatLng(this)},toBounds:function(_){var w=180*_/40075017,$=w/Math.cos(Math.PI/180*this.lat);return Se([this.lat-w,this.lng-$],[this.lat+w,this.lng+$])},clone:function(){return new ye(this.lat,this.lng,this.alt)}};function ge(_,w,$){return _ instanceof ye?_:ae(_)&&typeof _[0]!="object"?_.length===3?new ye(_[0],_[1],_[2]):_.length===2?new ye(_[0],_[1]):null:_==null?_:typeof _=="object"&&"lat"in _?new ye(_.lat,"lng"in _?_.lng:_.lon,_.alt):w===void 0?null:new ye(_,w,$)}var qe={latLngToPoint:function(_,w){var $=this.projection.project(_),N=this.scale(w);return this.transformation._transform($,N)},pointToLatLng:function(_,w){var $=this.scale(w),N=this.transformation.untransform(_,$);return this.projection.unproject(N)},project:function(_){return this.projection.project(_)},unproject:function(_){return this.projection.unproject(_)},scale:function(_){return 256*Math.pow(2,_)},zoom:function(_){return Math.log(_/256)/Math.LN2},getProjectedBounds:function(_){if(this.infinite)return null;var w=this.projection.bounds,$=this.scale(_),N=this.transformation.transform(w.min,$),I=this.transformation.transform(w.max,$);return new ve(N,I)},infinite:!1,wrapLatLng:function(_){var w=this.wrapLng?T(_.lng,this.wrapLng,!0):_.lng,$=this.wrapLat?T(_.lat,this.wrapLat,!0):_.lat,N=_.alt;return new ye($,w,N)},wrapLatLngBounds:function(_){var w=_.getCenter(),$=this.wrapLatLng(w),N=w.lat-$.lat,I=w.lng-$.lng;if(N===0&&I===0)return _;var F=_.getSouthWest(),A=_.getNorthEast(),O=new ye(F.lat-N,F.lng-I),H=new ye(A.lat-N,A.lng-I);return new Ce(O,H)}},Xe=V({},qe,{wrapLng:[-180,180],R:6371e3,distance:function(_,w){var $=Math.PI/180,N=_.lat*$,I=w.lat*$,F=Math.sin((w.lat-_.lat)*$/2),A=Math.sin((w.lng-_.lng)*$/2),O=F*F+Math.cos(N)*Math.cos(I)*A*A,H=2*Math.atan2(Math.sqrt(O),Math.sqrt(1-O));return this.R*H}}),Vo=6378137,Wt={R:Vo,MAX_LATITUDE:85.0511287798,project:function(_){var w=Math.PI/180,$=this.MAX_LATITUDE,N=Math.max(Math.min($,_.lat),-$),I=Math.sin(N*w);return new Y(this.R*_.lng*w,this.R*Math.log((1+I)/(1-I))/2)},unproject:function(_){var w=180/Math.PI;return new ye((2*Math.atan(Math.exp(_.y/this.R))-Math.PI/2)*w,_.x*w/this.R)},bounds:function(){var _=Vo*Math.PI;return new ve([-_,-_],[_,_])}()};function Kt(_,w,$,N){if(ae(_)){this._a=_[0],this._b=_[1],this._c=_[2],this._d=_[3];return}this._a=_,this._b=w,this._c=$,this._d=N}Kt.prototype={transform:function(_,w){return this._transform(_.clone(),w)},_transform:function(_,w){return w=w||1,_.x=w*(this._a*_.x+this._b),_.y=w*(this._c*_.y+this._d),_},untransform:function(_,w){return w=w||1,new Y((_.x/w-this._b)/this._a,(_.y/w-this._d)/this._c)}};function mt(_,w,$,N){return new Kt(_,w,$,N)}var Gt=V({},Xe,{code:"EPSG:3857",projection:Wt,transformation:function(){var _=.5/(Math.PI*Wt.R);return mt(_,.5,-_,.5)}()}),Ar=V({},Gt,{code:"EPSG:900913"});function No(_){return document.createElementNS("http://www.w3.org/2000/svg",_)}function Po(_,w){var $="",N,I,F,A,O,H;for(N=0,F=_.length;N<F;N++){for(O=_[N],I=0,A=O.length;I<A;I++)H=O[I],$+=(I?"L":"M")+H.x+" "+H.y;$+=w?ee.svg?"z":"x":""}return $||"M0 0"}var Yt=document.documentElement.style,Vt="ActiveXObject"in window,Rr=Vt&&!document.addEventListener,Io="msLaunchUri"in navigator&&!("documentMode"in document),Xt=Oe("webkit"),Lo=Oe("android"),Eo=Oe("android 2")||Oe("android 3"),Or=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),jr=Lo&&Oe("Google")&&Or<537&&!("AudioNode"in window),Jt=!!window.opera,Do=!Io&&Oe("chrome"),Mo=Oe("gecko")&&!Xt&&!Jt&&!Vt,Ur=!Do&&Oe("safari"),zo=Oe("phantom"),Fo="OTransition"in Yt,Hr=navigator.platform.indexOf("Win")===0,To=Vt&&"transition"in Yt,Qt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Eo,Ao="MozPerspective"in Yt,Zr=!window.L_DISABLE_3D&&(To||Qt||Ao)&&!Fo&&!zo,ft=typeof orientation<"u"||Oe("mobile"),qr=ft&&Xt,Wr=ft&&Qt,Ro=!window.PointerEvent&&window.MSPointerEvent,Oo=!!(window.PointerEvent||Ro),jo="ontouchstart"in window||!!window.TouchEvent,Kr=!window.L_NO_TOUCH&&(jo||Oo),Gr=ft&&Jt,Yr=ft&&Mo,Xr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Jr=function(){var _=!1;try{var w=Object.defineProperty({},"passive",{get:function(){_=!0}});window.addEventListener("testPassiveEventSupport",j,w),window.removeEventListener("testPassiveEventSupport",j,w)}catch{}return _}(),Qr=function(){return!!document.createElement("canvas").getContext}(),eo=!!(document.createElementNS&&No("svg").createSVGRect),ea=!!eo&&function(){var _=document.createElement("div");return _.innerHTML="<svg/>",(_.firstChild&&_.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ta=!eo&&function(){try{var _=document.createElement("div");_.innerHTML='<v:shape adj="1"/>';var w=_.firstChild;return w.style.behavior="url(#default#VML)",w&&typeof w.adj=="object"}catch{return!1}}(),oa=navigator.platform.indexOf("Mac")===0,ra=navigator.platform.indexOf("Linux")===0;function Oe(_){return navigator.userAgent.toLowerCase().indexOf(_)>=0}var ee={ie:Vt,ielt9:Rr,edge:Io,webkit:Xt,android:Lo,android23:Eo,androidStock:jr,opera:Jt,chrome:Do,gecko:Mo,safari:Ur,phantom:zo,opera12:Fo,win:Hr,ie3d:To,webkit3d:Qt,gecko3d:Ao,any3d:Zr,mobile:ft,mobileWebkit:qr,mobileWebkit3d:Wr,msPointer:Ro,pointer:Oo,touch:Kr,touchNative:jo,mobileOpera:Gr,mobileGecko:Yr,retina:Xr,passiveEvents:Jr,canvas:Qr,svg:eo,vml:ta,inlineSvg:ea,mac:oa,linux:ra},Uo=ee.msPointer?"MSPointerDown":"pointerdown",Ho=ee.msPointer?"MSPointerMove":"pointermove",Zo=ee.msPointer?"MSPointerUp":"pointerup",qo=ee.msPointer?"MSPointerCancel":"pointercancel",to={touchstart:Uo,touchmove:Ho,touchend:Zo,touchcancel:qo},Wo={touchstart:ca,touchmove:Nt,touchend:Nt,touchcancel:Nt},it={},Ko=!1;function aa(_,w,$){return w==="touchstart"&&la(),Wo[w]?($=Wo[w].bind(this,$),_.addEventListener(to[w],$,!1),$):(console.warn("wrong event specified:",w),j)}function ia(_,w,$){if(!to[w]){console.warn("wrong event specified:",w);return}_.removeEventListener(to[w],$,!1)}function na(_){it[_.pointerId]=_}function sa(_){it[_.pointerId]&&(it[_.pointerId]=_)}function Go(_){delete it[_.pointerId]}function la(){Ko||(document.addEventListener(Uo,na,!0),document.addEventListener(Ho,sa,!0),document.addEventListener(Zo,Go,!0),document.addEventListener(qo,Go,!0),Ko=!0)}function Nt(_,w){if(w.pointerType!==(w.MSPOINTER_TYPE_MOUSE||"mouse")){w.touches=[];for(var $ in it)w.touches.push(it[$]);w.changedTouches=[w],_(w)}}function ca(_,w){w.MSPOINTER_TYPE_TOUCH&&w.pointerType===w.MSPOINTER_TYPE_TOUCH&&Le(w),Nt(_,w)}function da(_){var w={},$,N;for(N in _)$=_[N],w[N]=$&&$.bind?$.bind(_):$;return _=w,w.type="dblclick",w.detail=2,w.isTrusted=!1,w._simulated=!0,w}var ua=200;function ha(_,w){_.addEventListener("dblclick",w);var $=0,N;function I(F){if(F.detail!==1){N=F.detail;return}if(!(F.pointerType==="mouse"||F.sourceCapabilities&&!F.sourceCapabilities.firesTouchEvents)){var A=er(F);if(!(A.some(function(H){return H instanceof HTMLLabelElement&&H.attributes.for})&&!A.some(function(H){return H instanceof HTMLInputElement||H instanceof HTMLSelectElement}))){var O=Date.now();O-$<=ua?(N++,N===2&&w(da(F))):N=1,$=O}}}return _.addEventListener("click",I),{dblclick:w,simDblclick:I}}function ga(_,w){_.removeEventListener("dblclick",w.dblclick),_.removeEventListener("click",w.simDblclick)}var oo=Lt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),pt=Lt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Yo=pt==="webkitTransition"||pt==="OTransition"?pt+"End":"transitionend";function Xo(_){return typeof _=="string"?document.getElementById(_):_}function _t(_,w){var $=_.style[w]||_.currentStyle&&_.currentStyle[w];if((!$||$==="auto")&&document.defaultView){var N=document.defaultView.getComputedStyle(_,null);$=N?N[w]:null}return $==="auto"?null:$}function pe(_,w,$){var N=document.createElement(_);return N.className=w||"",$&&$.appendChild(N),N}function we(_){var w=_.parentNode;w&&w.removeChild(_)}function Pt(_){for(;_.firstChild;)_.removeChild(_.firstChild)}function nt(_){var w=_.parentNode;w&&w.lastChild!==_&&w.appendChild(_)}function st(_){var w=_.parentNode;w&&w.firstChild!==_&&w.insertBefore(_,w.firstChild)}function ro(_,w){if(_.classList!==void 0)return _.classList.contains(w);var $=It(_);return $.length>0&&new RegExp("(^|\\s)"+w+"(\\s|$)").test($)}function de(_,w){if(_.classList!==void 0)for(var $=U(w),N=0,I=$.length;N<I;N++)_.classList.add($[N]);else if(!ro(_,w)){var F=It(_);ao(_,(F?F+" ":"")+w)}}function $e(_,w){_.classList!==void 0?_.classList.remove(w):ao(_,Z((" "+It(_)+" ").replace(" "+w+" "," ")))}function ao(_,w){_.className.baseVal===void 0?_.className=w:_.className.baseVal=w}function It(_){return _.correspondingElement&&(_=_.correspondingElement),_.className.baseVal===void 0?_.className:_.className.baseVal}function ze(_,w){"opacity"in _.style?_.style.opacity=w:"filter"in _.style&&ma(_,w)}function ma(_,w){var $=!1,N="DXImageTransform.Microsoft.Alpha";try{$=_.filters.item(N)}catch{if(w===1)return}w=Math.round(w*100),$?($.Enabled=w!==100,$.Opacity=w):_.style.filter+=" progid:"+N+"(opacity="+w+")"}function Lt(_){for(var w=document.documentElement.style,$=0;$<_.length;$++)if(_[$]in w)return _[$];return!1}function et(_,w,$){var N=w||new Y(0,0);_.style[oo]=(ee.ie3d?"translate("+N.x+"px,"+N.y+"px)":"translate3d("+N.x+"px,"+N.y+"px,0)")+($?" scale("+$+")":"")}function Ve(_,w){_._leaflet_pos=w,ee.any3d?et(_,w):(_.style.left=w.x+"px",_.style.top=w.y+"px")}function tt(_){return _._leaflet_pos||new Y(0,0)}var bt,vt,io;if("onselectstart"in document)bt=function(){ce(window,"selectstart",Le)},vt=function(){xe(window,"selectstart",Le)};else{var yt=Lt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);bt=function(){if(yt){var _=document.documentElement.style;io=_[yt],_[yt]="none"}},vt=function(){yt&&(document.documentElement.style[yt]=io,io=void 0)}}function no(){ce(window,"dragstart",Le)}function so(){xe(window,"dragstart",Le)}var Et,lo;function co(_){for(;_.tabIndex===-1;)_=_.parentNode;_.style&&(Dt(),Et=_,lo=_.style.outlineStyle,_.style.outlineStyle="none",ce(window,"keydown",Dt))}function Dt(){Et&&(Et.style.outlineStyle=lo,Et=void 0,lo=void 0,xe(window,"keydown",Dt))}function Jo(_){do _=_.parentNode;while((!_.offsetWidth||!_.offsetHeight)&&_!==document.body);return _}function uo(_){var w=_.getBoundingClientRect();return{x:w.width/_.offsetWidth||1,y:w.height/_.offsetHeight||1,boundingClientRect:w}}var fa={__proto__:null,TRANSFORM:oo,TRANSITION:pt,TRANSITION_END:Yo,get:Xo,getStyle:_t,create:pe,remove:we,empty:Pt,toFront:nt,toBack:st,hasClass:ro,addClass:de,removeClass:$e,setClass:ao,getClass:It,setOpacity:ze,testProp:Lt,setTransform:et,setPosition:Ve,getPosition:tt,get disableTextSelection(){return bt},get enableTextSelection(){return vt},disableImageDrag:no,enableImageDrag:so,preventOutline:co,restoreOutline:Dt,getSizedParentNode:Jo,getScale:uo};function ce(_,w,$,N){if(w&&typeof w=="object")for(var I in w)go(_,I,w[I],$);else{w=U(w);for(var F=0,A=w.length;F<A;F++)go(_,w[F],$,N)}return this}var je="_leaflet_events";function xe(_,w,$,N){if(arguments.length===1)Qo(_),delete _[je];else if(w&&typeof w=="object")for(var I in w)mo(_,I,w[I],$);else if(w=U(w),arguments.length===2)Qo(_,function(O){return Ee(w,O)!==-1});else for(var F=0,A=w.length;F<A;F++)mo(_,w[F],$,N);return this}function Qo(_,w){for(var $ in _[je]){var N=$.split(/\d/)[0];(!w||w(N))&&mo(_,N,null,null,$)}}var ho={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function go(_,w,$,N){var I=w+D($)+(N?"_"+D(N):"");if(_[je]&&_[je][I])return this;var F=function(O){return $.call(N||_,O||window.event)},A=F;!ee.touchNative&&ee.pointer&&w.indexOf("touch")===0?F=aa(_,w,F):ee.touch&&w==="dblclick"?F=ha(_,F):"addEventListener"in _?w==="touchstart"||w==="touchmove"||w==="wheel"||w==="mousewheel"?_.addEventListener(ho[w]||w,F,ee.passiveEvents?{passive:!1}:!1):w==="mouseenter"||w==="mouseleave"?(F=function(O){O=O||window.event,po(_,O)&&A(O)},_.addEventListener(ho[w],F,!1)):_.addEventListener(w,A,!1):_.attachEvent("on"+w,F),_[je]=_[je]||{},_[je][I]=F}function mo(_,w,$,N,I){I=I||w+D($)+(N?"_"+D(N):"");var F=_[je]&&_[je][I];if(!F)return this;!ee.touchNative&&ee.pointer&&w.indexOf("touch")===0?ia(_,w,F):ee.touch&&w==="dblclick"?ga(_,F):"removeEventListener"in _?_.removeEventListener(ho[w]||w,F,!1):_.detachEvent("on"+w,F),_[je][I]=null}function ot(_){return _.stopPropagation?_.stopPropagation():_.originalEvent?_.originalEvent._stopped=!0:_.cancelBubble=!0,this}function fo(_){return go(_,"wheel",ot),this}function kt(_){return ce(_,"mousedown touchstart dblclick contextmenu",ot),_._leaflet_disable_click=!0,this}function Le(_){return _.preventDefault?_.preventDefault():_.returnValue=!1,this}function rt(_){return Le(_),ot(_),this}function er(_){if(_.composedPath)return _.composedPath();for(var w=[],$=_.target;$;)w.push($),$=$.parentNode;return w}function tr(_,w){if(!w)return new Y(_.clientX,_.clientY);var $=uo(w),N=$.boundingClientRect;return new Y((_.clientX-N.left)/$.x-w.clientLeft,(_.clientY-N.top)/$.y-w.clientTop)}var pa=ee.linux&&ee.chrome?window.devicePixelRatio:ee.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function or(_){return ee.edge?_.wheelDeltaY/2:_.deltaY&&_.deltaMode===0?-_.deltaY/pa:_.deltaY&&_.deltaMode===1?-_.deltaY*20:_.deltaY&&_.deltaMode===2?-_.deltaY*60:_.deltaX||_.deltaZ?0:_.wheelDelta?(_.wheelDeltaY||_.wheelDelta)/2:_.detail&&Math.abs(_.detail)<32765?-_.detail*20:_.detail?_.detail/-32765*60:0}function po(_,w){var $=w.relatedTarget;if(!$)return!0;try{for(;$&&$!==_;)$=$.parentNode}catch{return!1}return $!==_}var _a={__proto__:null,on:ce,off:xe,stopPropagation:ot,disableScrollPropagation:fo,disableClickPropagation:kt,preventDefault:Le,stop:rt,getPropagationPath:er,getMousePosition:tr,getWheelDelta:or,isExternalTarget:po,addListener:ce,removeListener:xe},rr=J.extend({run:function(_,w,$,N){this.stop(),this._el=_,this._inProgress=!0,this._duration=$||.25,this._easeOutPower=1/Math.max(N||.5,.2),this._startPos=tt(_),this._offset=w.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=G(this._animate,this),this._step()},_step:function(_){var w=+new Date-this._startTime,$=this._duration*1e3;w<$?this._runFrame(this._easeOut(w/$),_):(this._runFrame(1),this._complete())},_runFrame:function(_,w){var $=this._startPos.add(this._offset.multiplyBy(_));w&&$._round(),Ve(this._el,$),this.fire("step")},_complete:function(){ue(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(_){return 1-Math.pow(1-_,this._easeOutPower)}}),me=J.extend({options:{crs:Gt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(_,w){w=M(this,w),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(_),this._initLayout(),this._onResize=P(this._onResize,this),this._initEvents(),w.maxBounds&&this.setMaxBounds(w.maxBounds),w.zoom!==void 0&&(this._zoom=this._limitZoom(w.zoom)),w.center&&w.zoom!==void 0&&this.setView(ge(w.center),w.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=pt&&ee.any3d&&!ee.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ce(this._proxy,Yo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(_,w,$){if(w=w===void 0?this._zoom:this._limitZoom(w),_=this._limitCenter(ge(_),w,this.options.maxBounds),$=$||{},this._stop(),this._loaded&&!$.reset&&$!==!0){$.animate!==void 0&&($.zoom=V({animate:$.animate},$.zoom),$.pan=V({animate:$.animate,duration:$.duration},$.pan));var N=this._zoom!==w?this._tryAnimatedZoom&&this._tryAnimatedZoom(_,w,$.zoom):this._tryAnimatedPan(_,$.pan);if(N)return clearTimeout(this._sizeTimer),this}return this._resetView(_,w,$.pan&&$.pan.noMoveStart),this},setZoom:function(_,w){return this._loaded?this.setView(this.getCenter(),_,{zoom:w}):(this._zoom=_,this)},zoomIn:function(_,w){return _=_||(ee.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+_,w)},zoomOut:function(_,w){return _=_||(ee.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-_,w)},setZoomAround:function(_,w,$){var N=this.getZoomScale(w),I=this.getSize().divideBy(2),F=_ instanceof Y?_:this.latLngToContainerPoint(_),A=F.subtract(I).multiplyBy(1-1/N),O=this.containerPointToLatLng(I.add(A));return this.setView(O,w,{zoom:$})},_getBoundsCenterZoom:function(_,w){w=w||{},_=_.getBounds?_.getBounds():Se(_);var $=oe(w.paddingTopLeft||w.padding||[0,0]),N=oe(w.paddingBottomRight||w.padding||[0,0]),I=this.getBoundsZoom(_,!1,$.add(N));if(I=typeof w.maxZoom=="number"?Math.min(w.maxZoom,I):I,I===1/0)return{center:_.getCenter(),zoom:I};var F=N.subtract($).divideBy(2),A=this.project(_.getSouthWest(),I),O=this.project(_.getNorthEast(),I),H=this.unproject(A.add(O).divideBy(2).add(F),I);return{center:H,zoom:I}},fitBounds:function(_,w){if(_=Se(_),!_.isValid())throw new Error("Bounds are not valid.");var $=this._getBoundsCenterZoom(_,w);return this.setView($.center,$.zoom,w)},fitWorld:function(_){return this.fitBounds([[-90,-180],[90,180]],_)},panTo:function(_,w){return this.setView(_,this._zoom,{pan:w})},panBy:function(_,w){if(_=oe(_).round(),w=w||{},!_.x&&!_.y)return this.fire("moveend");if(w.animate!==!0&&!this.getSize().contains(_))return this._resetView(this.unproject(this.project(this.getCenter()).add(_)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new rr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),w.noMoveStart||this.fire("movestart"),w.animate!==!1){de(this._mapPane,"leaflet-pan-anim");var $=this._getMapPanePos().subtract(_).round();this._panAnim.run(this._mapPane,$,w.duration||.25,w.easeLinearity)}else this._rawPanBy(_),this.fire("move").fire("moveend");return this},flyTo:function(_,w,$){if($=$||{},$.animate===!1||!ee.any3d)return this.setView(_,w,$);this._stop();var N=this.project(this.getCenter()),I=this.project(_),F=this.getSize(),A=this._zoom;_=ge(_),w=w===void 0?A:w;var O=Math.max(F.x,F.y),H=O*this.getZoomScale(A,w),q=I.distanceTo(N)||1,X=1.42,re=X*X;function he(Ne){var qt=Ne?-1:1,ii=Ne?H:O,ni=H*H-O*O+qt*re*re*q*q,si=2*ii*re*q,So=ni/si,Fr=Math.sqrt(So*So+1)-So,li=Fr<1e-9?-18:Math.log(Fr);return li}function De(Ne){return(Math.exp(Ne)-Math.exp(-Ne))/2}function Ie(Ne){return(Math.exp(Ne)+Math.exp(-Ne))/2}function Te(Ne){return De(Ne)/Ie(Ne)}var Me=he(0);function gt(Ne){return O*(Ie(Me)/Ie(Me+X*Ne))}function ti(Ne){return O*(Ie(Me)*Te(Me+X*Ne)-De(Me))/re}function oi(Ne){return 1-Math.pow(1-Ne,1.5)}var ri=Date.now(),Mr=(he(1)-Me)/X,ai=$.duration?1e3*$.duration:1e3*Mr*.8;function zr(){var Ne=(Date.now()-ri)/ai,qt=oi(Ne)*Mr;Ne<=1?(this._flyToFrame=G(zr,this),this._move(this.unproject(N.add(I.subtract(N).multiplyBy(ti(qt)/q)),A),this.getScaleZoom(O/gt(qt),A),{flyTo:!0})):this._move(_,w)._moveEnd(!0)}return this._moveStart(!0,$.noMoveStart),zr.call(this),this},flyToBounds:function(_,w){var $=this._getBoundsCenterZoom(_,w);return this.flyTo($.center,$.zoom,w)},setMaxBounds:function(_){return _=Se(_),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),_.isValid()?(this.options.maxBounds=_,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(_){var w=this.options.minZoom;return this.options.minZoom=_,this._loaded&&w!==_&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(_):this},setMaxZoom:function(_){var w=this.options.maxZoom;return this.options.maxZoom=_,this._loaded&&w!==_&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(_):this},panInsideBounds:function(_,w){this._enforcingBounds=!0;var $=this.getCenter(),N=this._limitCenter($,this._zoom,Se(_));return $.equals(N)||this.panTo(N,w),this._enforcingBounds=!1,this},panInside:function(_,w){w=w||{};var $=oe(w.paddingTopLeft||w.padding||[0,0]),N=oe(w.paddingBottomRight||w.padding||[0,0]),I=this.project(this.getCenter()),F=this.project(_),A=this.getPixelBounds(),O=Pe([A.min.add($),A.max.subtract(N)]),H=O.getSize();if(!O.contains(F)){this._enforcingBounds=!0;var q=F.subtract(O.getCenter()),X=O.extend(F).getSize().subtract(H);I.x+=q.x<0?-X.x:X.x,I.y+=q.y<0?-X.y:X.y,this.panTo(this.unproject(I),w),this._enforcingBounds=!1}return this},invalidateSize:function(_){if(!this._loaded)return this;_=V({animate:!1,pan:!0},_===!0?{animate:!0}:_);var w=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var $=this.getSize(),N=w.divideBy(2).round(),I=$.divideBy(2).round(),F=N.subtract(I);return!F.x&&!F.y?this:(_.animate&&_.pan?this.panBy(F):(_.pan&&this._rawPanBy(F),this.fire("move"),_.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(P(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:w,newSize:$}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(_){if(_=this._locateOptions=V({timeout:1e4,watch:!1},_),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var w=P(this._handleGeolocationResponse,this),$=P(this._handleGeolocationError,this);return _.watch?this._locationWatchId=navigator.geolocation.watchPosition(w,$,_):navigator.geolocation.getCurrentPosition(w,$,_),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(_){if(this._container._leaflet_id){var w=_.code,$=_.message||(w===1?"permission denied":w===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:w,message:"Geolocation error: "+$+"."})}},_handleGeolocationResponse:function(_){if(this._container._leaflet_id){var w=_.coords.latitude,$=_.coords.longitude,N=new ye(w,$),I=N.toBounds(_.coords.accuracy*2),F=this._locateOptions;if(F.setView){var A=this.getBoundsZoom(I);this.setView(N,F.maxZoom?Math.min(A,F.maxZoom):A)}var O={latlng:N,bounds:I,timestamp:_.timestamp};for(var H in _.coords)typeof _.coords[H]=="number"&&(O[H]=_.coords[H]);this.fire("locationfound",O)}},addHandler:function(_,w){if(!w)return this;var $=this[_]=new w(this);return this._handlers.push($),this.options[_]&&$.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),we(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ue(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var _;for(_ in this._layers)this._layers[_].remove();for(_ in this._panes)we(this._panes[_]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(_,w){var $="leaflet-pane"+(_?" leaflet-"+_.replace("Pane","")+"-pane":""),N=pe("div",$,w||this._mapPane);return _&&(this._panes[_]=N),N},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var _=this.getPixelBounds(),w=this.unproject(_.getBottomLeft()),$=this.unproject(_.getTopRight());return new Ce(w,$)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(_,w,$){_=Se(_),$=oe($||[0,0]);var N=this.getZoom()||0,I=this.getMinZoom(),F=this.getMaxZoom(),A=_.getNorthWest(),O=_.getSouthEast(),H=this.getSize().subtract($),q=Pe(this.project(O,N),this.project(A,N)).getSize(),X=ee.any3d?this.options.zoomSnap:1,re=H.x/q.x,he=H.y/q.y,De=w?Math.max(re,he):Math.min(re,he);return N=this.getScaleZoom(De,N),X&&(N=Math.round(N/(X/100))*(X/100),N=w?Math.ceil(N/X)*X:Math.floor(N/X)*X),Math.max(I,Math.min(F,N))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Y(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(_,w){var $=this._getTopLeftPoint(_,w);return new ve($,$.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(_){return this.options.crs.getProjectedBounds(_===void 0?this.getZoom():_)},getPane:function(_){return typeof _=="string"?this._panes[_]:_},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(_,w){var $=this.options.crs;return w=w===void 0?this._zoom:w,$.scale(_)/$.scale(w)},getScaleZoom:function(_,w){var $=this.options.crs;w=w===void 0?this._zoom:w;var N=$.zoom(_*$.scale(w));return isNaN(N)?1/0:N},project:function(_,w){return w=w===void 0?this._zoom:w,this.options.crs.latLngToPoint(ge(_),w)},unproject:function(_,w){return w=w===void 0?this._zoom:w,this.options.crs.pointToLatLng(oe(_),w)},layerPointToLatLng:function(_){var w=oe(_).add(this.getPixelOrigin());return this.unproject(w)},latLngToLayerPoint:function(_){var w=this.project(ge(_))._round();return w._subtract(this.getPixelOrigin())},wrapLatLng:function(_){return this.options.crs.wrapLatLng(ge(_))},wrapLatLngBounds:function(_){return this.options.crs.wrapLatLngBounds(Se(_))},distance:function(_,w){return this.options.crs.distance(ge(_),ge(w))},containerPointToLayerPoint:function(_){return oe(_).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(_){return oe(_).add(this._getMapPanePos())},containerPointToLatLng:function(_){var w=this.containerPointToLayerPoint(oe(_));return this.layerPointToLatLng(w)},latLngToContainerPoint:function(_){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ge(_)))},mouseEventToContainerPoint:function(_){return tr(_,this._container)},mouseEventToLayerPoint:function(_){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(_))},mouseEventToLatLng:function(_){return this.layerPointToLatLng(this.mouseEventToLayerPoint(_))},_initContainer:function(_){var w=this._container=Xo(_);if(w){if(w._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ce(w,"scroll",this._onScroll,this),this._containerId=D(w)},_initLayout:function(){var _=this._container;this._fadeAnimated=this.options.fadeAnimation&&ee.any3d,de(_,"leaflet-container"+(ee.touch?" leaflet-touch":"")+(ee.retina?" leaflet-retina":"")+(ee.ielt9?" leaflet-oldie":"")+(ee.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var w=_t(_,"position");w!=="absolute"&&w!=="relative"&&w!=="fixed"&&w!=="sticky"&&(_.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var _=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ve(this._mapPane,new Y(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(de(_.markerPane,"leaflet-zoom-hide"),de(_.shadowPane,"leaflet-zoom-hide"))},_resetView:function(_,w,$){Ve(this._mapPane,new Y(0,0));var N=!this._loaded;this._loaded=!0,w=this._limitZoom(w),this.fire("viewprereset");var I=this._zoom!==w;this._moveStart(I,$)._move(_,w)._moveEnd(I),this.fire("viewreset"),N&&this.fire("load")},_moveStart:function(_,w){return _&&this.fire("zoomstart"),w||this.fire("movestart"),this},_move:function(_,w,$,N){w===void 0&&(w=this._zoom);var I=this._zoom!==w;return this._zoom=w,this._lastCenter=_,this._pixelOrigin=this._getNewPixelOrigin(_),N?$&&$.pinch&&this.fire("zoom",$):((I||$&&$.pinch)&&this.fire("zoom",$),this.fire("move",$)),this},_moveEnd:function(_){return _&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ue(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(_){Ve(this._mapPane,this._getMapPanePos().subtract(_))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(_){this._targets={},this._targets[D(this._container)]=this;var w=_?xe:ce;w(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&w(window,"resize",this._onResize,this),ee.any3d&&this.options.transform3DLimit&&(_?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ue(this._resizeRequest),this._resizeRequest=G(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var _=this._getMapPanePos();Math.max(Math.abs(_.x),Math.abs(_.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(_,w){for(var $=[],N,I=w==="mouseout"||w==="mouseover",F=_.target||_.srcElement,A=!1;F;){if(N=this._targets[D(F)],N&&(w==="click"||w==="preclick")&&this._draggableMoved(N)){A=!0;break}if(N&&N.listens(w,!0)&&(I&&!po(F,_)||($.push(N),I))||F===this._container)break;F=F.parentNode}return!$.length&&!A&&!I&&this.listens(w,!0)&&($=[this]),$},_isClickDisabled:function(_){for(;_&&_!==this._container;){if(_._leaflet_disable_click)return!0;_=_.parentNode}},_handleDOMEvent:function(_){var w=_.target||_.srcElement;if(!(!this._loaded||w._leaflet_disable_events||_.type==="click"&&this._isClickDisabled(w))){var $=_.type;$==="mousedown"&&co(w),this._fireDOMEvent(_,$)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(_,w,$){if(_.type==="click"){var N=V({},_);N.type="preclick",this._fireDOMEvent(N,N.type,$)}var I=this._findEventTargets(_,w);if($){for(var F=[],A=0;A<$.length;A++)$[A].listens(w,!0)&&F.push($[A]);I=F.concat(I)}if(I.length){w==="contextmenu"&&Le(_);var O=I[0],H={originalEvent:_};if(_.type!=="keypress"&&_.type!=="keydown"&&_.type!=="keyup"){var q=O.getLatLng&&(!O._radius||O._radius<=10);H.containerPoint=q?this.latLngToContainerPoint(O.getLatLng()):this.mouseEventToContainerPoint(_),H.layerPoint=this.containerPointToLayerPoint(H.containerPoint),H.latlng=q?O.getLatLng():this.layerPointToLatLng(H.layerPoint)}for(A=0;A<I.length;A++)if(I[A].fire(w,H,!0),H.originalEvent._stopped||I[A].options.bubblingMouseEvents===!1&&Ee(this._mouseEvents,w)!==-1)return}},_draggableMoved:function(_){return _=_.dragging&&_.dragging.enabled()?_:this,_.dragging&&_.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var _=0,w=this._handlers.length;_<w;_++)this._handlers[_].disable()},whenReady:function(_,w){return this._loaded?_.call(w||this,{target:this}):this.on("load",_,w),this},_getMapPanePos:function(){return tt(this._mapPane)||new Y(0,0)},_moved:function(){var _=this._getMapPanePos();return _&&!_.equals([0,0])},_getTopLeftPoint:function(_,w){var $=_&&w!==void 0?this._getNewPixelOrigin(_,w):this.getPixelOrigin();return $.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(_,w){var $=this.getSize()._divideBy(2);return this.project(_,w)._subtract($)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(_,w,$){var N=this._getNewPixelOrigin($,w);return this.project(_,w)._subtract(N)},_latLngBoundsToNewLayerBounds:function(_,w,$){var N=this._getNewPixelOrigin($,w);return Pe([this.project(_.getSouthWest(),w)._subtract(N),this.project(_.getNorthWest(),w)._subtract(N),this.project(_.getSouthEast(),w)._subtract(N),this.project(_.getNorthEast(),w)._subtract(N)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(_){return this.latLngToLayerPoint(_).subtract(this._getCenterLayerPoint())},_limitCenter:function(_,w,$){if(!$)return _;var N=this.project(_,w),I=this.getSize().divideBy(2),F=new ve(N.subtract(I),N.add(I)),A=this._getBoundsOffset(F,$,w);return Math.abs(A.x)<=1&&Math.abs(A.y)<=1?_:this.unproject(N.add(A),w)},_limitOffset:function(_,w){if(!w)return _;var $=this.getPixelBounds(),N=new ve($.min.add(_),$.max.add(_));return _.add(this._getBoundsOffset(N,w))},_getBoundsOffset:function(_,w,$){var N=Pe(this.project(w.getNorthEast(),$),this.project(w.getSouthWest(),$)),I=N.min.subtract(_.min),F=N.max.subtract(_.max),A=this._rebound(I.x,-F.x),O=this._rebound(I.y,-F.y);return new Y(A,O)},_rebound:function(_,w){return _+w>0?Math.round(_-w)/2:Math.max(0,Math.ceil(_))-Math.max(0,Math.floor(w))},_limitZoom:function(_){var w=this.getMinZoom(),$=this.getMaxZoom(),N=ee.any3d?this.options.zoomSnap:1;return N&&(_=Math.round(_/N)*N),Math.max(w,Math.min($,_))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){$e(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(_,w){var $=this._getCenterOffset(_)._trunc();return(w&&w.animate)!==!0&&!this.getSize().contains($)?!1:(this.panBy($,w),!0)},_createAnimProxy:function(){var _=this._proxy=pe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(_),this.on("zoomanim",function(w){var $=oo,N=this._proxy.style[$];et(this._proxy,this.project(w.center,w.zoom),this.getZoomScale(w.zoom,1)),N===this._proxy.style[$]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){we(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var _=this.getCenter(),w=this.getZoom();et(this._proxy,this.project(_,w),this.getZoomScale(w,1))},_catchTransitionEnd:function(_){this._animatingZoom&&_.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(_,w,$){if(this._animatingZoom)return!0;if($=$||{},!this._zoomAnimated||$.animate===!1||this._nothingToAnimate()||Math.abs(w-this._zoom)>this.options.zoomAnimationThreshold)return!1;var N=this.getZoomScale(w),I=this._getCenterOffset(_)._divideBy(1-1/N);return $.animate!==!0&&!this.getSize().contains(I)?!1:(G(function(){this._moveStart(!0,$.noMoveStart||!1)._animateZoom(_,w,!0)},this),!0)},_animateZoom:function(_,w,$,N){this._mapPane&&($&&(this._animatingZoom=!0,this._animateToCenter=_,this._animateToZoom=w,de(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:_,zoom:w,noUpdate:N}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(P(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&$e(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ba(_,w){return new me(_,w)}var Ae=le.extend({options:{position:"topright"},initialize:function(_){M(this,_)},getPosition:function(){return this.options.position},setPosition:function(_){var w=this._map;return w&&w.removeControl(this),this.options.position=_,w&&w.addControl(this),this},getContainer:function(){return this._container},addTo:function(_){this.remove(),this._map=_;var w=this._container=this.onAdd(_),$=this.getPosition(),N=_._controlCorners[$];return de(w,"leaflet-control"),$.indexOf("bottom")!==-1?N.insertBefore(w,N.firstChild):N.appendChild(w),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(we(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(_){this._map&&_&&_.screenX>0&&_.screenY>0&&this._map.getContainer().focus()}}),xt=function(_){return new Ae(_)};me.include({addControl:function(_){return _.addTo(this),this},removeControl:function(_){return _.remove(),this},_initControlPos:function(){var _=this._controlCorners={},w="leaflet-",$=this._controlContainer=pe("div",w+"control-container",this._container);function N(I,F){var A=w+I+" "+w+F;_[I+F]=pe("div",A,$)}N("top","left"),N("top","right"),N("bottom","left"),N("bottom","right")},_clearControlPos:function(){for(var _ in this._controlCorners)we(this._controlCorners[_]);we(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ar=Ae.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(_,w,$,N){return $<N?-1:N<$?1:0}},initialize:function(_,w,$){M(this,$),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var N in _)this._addLayer(_[N],N);for(N in w)this._addLayer(w[N],N,!0)},onAdd:function(_){this._initLayout(),this._update(),this._map=_,_.on("zoomend",this._checkDisabledLayers,this);for(var w=0;w<this._layers.length;w++)this._layers[w].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(_){return Ae.prototype.addTo.call(this,_),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var _=0;_<this._layers.length;_++)this._layers[_].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(_,w){return this._addLayer(_,w),this._map?this._update():this},addOverlay:function(_,w){return this._addLayer(_,w,!0),this._map?this._update():this},removeLayer:function(_){_.off("add remove",this._onLayerChange,this);var w=this._getLayer(D(_));return w&&this._layers.splice(this._layers.indexOf(w),1),this._map?this._update():this},expand:function(){de(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var _=this._map.getSize().y-(this._container.offsetTop+50);return _<this._section.clientHeight?(de(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=_+"px"):$e(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return $e(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var _="leaflet-control-layers",w=this._container=pe("div",_),$=this.options.collapsed;w.setAttribute("aria-haspopup",!0),kt(w),fo(w);var N=this._section=pe("section",_+"-list");$&&(this._map.on("click",this.collapse,this),ce(w,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var I=this._layersLink=pe("a",_+"-toggle",w);I.href="#",I.title="Layers",I.setAttribute("role","button"),ce(I,{keydown:function(F){F.keyCode===13&&this._expandSafely()},click:function(F){Le(F),this._expandSafely()}},this),$||this.expand(),this._baseLayersList=pe("div",_+"-base",N),this._separator=pe("div",_+"-separator",N),this._overlaysList=pe("div",_+"-overlays",N),w.appendChild(N)},_getLayer:function(_){for(var w=0;w<this._layers.length;w++)if(this._layers[w]&&D(this._layers[w].layer)===_)return this._layers[w]},_addLayer:function(_,w,$){this._map&&_.on("add remove",this._onLayerChange,this),this._layers.push({layer:_,name:w,overlay:$}),this.options.sortLayers&&this._layers.sort(P(function(N,I){return this.options.sortFunction(N.layer,I.layer,N.name,I.name)},this)),this.options.autoZIndex&&_.setZIndex&&(this._lastZIndex++,_.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Pt(this._baseLayersList),Pt(this._overlaysList),this._layerControlInputs=[];var _,w,$,N,I=0;for($=0;$<this._layers.length;$++)N=this._layers[$],this._addItem(N),w=w||N.overlay,_=_||!N.overlay,I+=N.overlay?0:1;return this.options.hideSingleBase&&(_=_&&I>1,this._baseLayersList.style.display=_?"":"none"),this._separator.style.display=w&&_?"":"none",this},_onLayerChange:function(_){this._handlingClick||this._update();var w=this._getLayer(D(_.target)),$=w.overlay?_.type==="add"?"overlayadd":"overlayremove":_.type==="add"?"baselayerchange":null;$&&this._map.fire($,w)},_createRadioElement:function(_,w){var $='<input type="radio" class="leaflet-control-layers-selector" name="'+_+'"'+(w?' checked="checked"':"")+"/>",N=document.createElement("div");return N.innerHTML=$,N.firstChild},_addItem:function(_){var w=document.createElement("label"),$=this._map.hasLayer(_.layer),N;_.overlay?(N=document.createElement("input"),N.type="checkbox",N.className="leaflet-control-layers-selector",N.defaultChecked=$):N=this._createRadioElement("leaflet-base-layers_"+D(this),$),this._layerControlInputs.push(N),N.layerId=D(_.layer),ce(N,"click",this._onInputClick,this);var I=document.createElement("span");I.innerHTML=" "+_.name;var F=document.createElement("span");w.appendChild(F),F.appendChild(N),F.appendChild(I);var A=_.overlay?this._overlaysList:this._baseLayersList;return A.appendChild(w),this._checkDisabledLayers(),w},_onInputClick:function(){if(!this._preventClick){var _=this._layerControlInputs,w,$,N=[],I=[];this._handlingClick=!0;for(var F=_.length-1;F>=0;F--)w=_[F],$=this._getLayer(w.layerId).layer,w.checked?N.push($):w.checked||I.push($);for(F=0;F<I.length;F++)this._map.hasLayer(I[F])&&this._map.removeLayer(I[F]);for(F=0;F<N.length;F++)this._map.hasLayer(N[F])||this._map.addLayer(N[F]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var _=this._layerControlInputs,w,$,N=this._map.getZoom(),I=_.length-1;I>=0;I--)w=_[I],$=this._getLayer(w.layerId).layer,w.disabled=$.options.minZoom!==void 0&&N<$.options.minZoom||$.options.maxZoom!==void 0&&N>$.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var _=this._section;this._preventClick=!0,ce(_,"click",Le),this.expand();var w=this;setTimeout(function(){xe(_,"click",Le),w._preventClick=!1})}}),va=function(_,w,$){return new ar(_,w,$)},_o=Ae.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(_){var w="leaflet-control-zoom",$=pe("div",w+" leaflet-bar"),N=this.options;return this._zoomInButton=this._createButton(N.zoomInText,N.zoomInTitle,w+"-in",$,this._zoomIn),this._zoomOutButton=this._createButton(N.zoomOutText,N.zoomOutTitle,w+"-out",$,this._zoomOut),this._updateDisabled(),_.on("zoomend zoomlevelschange",this._updateDisabled,this),$},onRemove:function(_){_.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(_){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(_.shiftKey?3:1))},_zoomOut:function(_){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(_.shiftKey?3:1))},_createButton:function(_,w,$,N,I){var F=pe("a",$,N);return F.innerHTML=_,F.href="#",F.title=w,F.setAttribute("role","button"),F.setAttribute("aria-label",w),kt(F),ce(F,"click",rt),ce(F,"click",I,this),ce(F,"click",this._refocusOnMap,this),F},_updateDisabled:function(){var _=this._map,w="leaflet-disabled";$e(this._zoomInButton,w),$e(this._zoomOutButton,w),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||_._zoom===_.getMinZoom())&&(de(this._zoomOutButton,w),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||_._zoom===_.getMaxZoom())&&(de(this._zoomInButton,w),this._zoomInButton.setAttribute("aria-disabled","true"))}});me.mergeOptions({zoomControl:!0}),me.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new _o,this.addControl(this.zoomControl))});var ya=function(_){return new _o(_)},ir=Ae.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(_){var w="leaflet-control-scale",$=pe("div",w),N=this.options;return this._addScales(N,w+"-line",$),_.on(N.updateWhenIdle?"moveend":"move",this._update,this),_.whenReady(this._update,this),$},onRemove:function(_){_.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(_,w,$){_.metric&&(this._mScale=pe("div",w,$)),_.imperial&&(this._iScale=pe("div",w,$))},_update:function(){var _=this._map,w=_.getSize().y/2,$=_.distance(_.containerPointToLatLng([0,w]),_.containerPointToLatLng([this.options.maxWidth,w]));this._updateScales($)},_updateScales:function(_){this.options.metric&&_&&this._updateMetric(_),this.options.imperial&&_&&this._updateImperial(_)},_updateMetric:function(_){var w=this._getRoundNum(_),$=w<1e3?w+" m":w/1e3+" km";this._updateScale(this._mScale,$,w/_)},_updateImperial:function(_){var w=_*3.2808399,$,N,I;w>5280?($=w/5280,N=this._getRoundNum($),this._updateScale(this._iScale,N+" mi",N/$)):(I=this._getRoundNum(w),this._updateScale(this._iScale,I+" ft",I/w))},_updateScale:function(_,w,$){_.style.width=Math.round(this.options.maxWidth*$)+"px",_.innerHTML=w},_getRoundNum:function(_){var w=Math.pow(10,(Math.floor(_)+"").length-1),$=_/w;return $=$>=10?10:$>=5?5:$>=3?3:$>=2?2:1,w*$}}),ka=function(_){return new ir(_)},xa='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',bo=Ae.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ee.inlineSvg?xa+" ":"")+"Leaflet</a>"},initialize:function(_){M(this,_),this._attributions={}},onAdd:function(_){_.attributionControl=this,this._container=pe("div","leaflet-control-attribution"),kt(this._container);for(var w in _._layers)_._layers[w].getAttribution&&this.addAttribution(_._layers[w].getAttribution());return this._update(),_.on("layeradd",this._addAttribution,this),this._container},onRemove:function(_){_.off("layeradd",this._addAttribution,this)},_addAttribution:function(_){_.layer.getAttribution&&(this.addAttribution(_.layer.getAttribution()),_.layer.once("remove",function(){this.removeAttribution(_.layer.getAttribution())},this))},setPrefix:function(_){return this.options.prefix=_,this._update(),this},addAttribution:function(_){return _?(this._attributions[_]||(this._attributions[_]=0),this._attributions[_]++,this._update(),this):this},removeAttribution:function(_){return _?(this._attributions[_]&&(this._attributions[_]--,this._update()),this):this},_update:function(){if(this._map){var _=[];for(var w in this._attributions)this._attributions[w]&&_.push(w);var $=[];this.options.prefix&&$.push(this.options.prefix),_.length&&$.push(_.join(", ")),this._container.innerHTML=$.join(' <span aria-hidden="true">|</span> ')}}});me.mergeOptions({attributionControl:!0}),me.addInitHook(function(){this.options.attributionControl&&new bo().addTo(this)});var wa=function(_){return new bo(_)};Ae.Layers=ar,Ae.Zoom=_o,Ae.Scale=ir,Ae.Attribution=bo,xt.layers=va,xt.zoom=ya,xt.scale=ka,xt.attribution=wa;var Ue=le.extend({initialize:function(_){this._map=_},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ue.addTo=function(_,w){return _.addHandler(w,this),this};var Ba={Events:K},nr=ee.touch?"touchstart mousedown":"mousedown",Je=J.extend({options:{clickTolerance:3},initialize:function(_,w,$,N){M(this,N),this._element=_,this._dragStartTarget=w||_,this._preventOutline=$},enable:function(){this._enabled||(ce(this._dragStartTarget,nr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Je._dragging===this&&this.finishDrag(!0),xe(this._dragStartTarget,nr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(_){if(this._enabled&&(this._moved=!1,!ro(this._element,"leaflet-zoom-anim"))){if(_.touches&&_.touches.length!==1){Je._dragging===this&&this.finishDrag();return}if(!(Je._dragging||_.shiftKey||_.which!==1&&_.button!==1&&!_.touches)&&(Je._dragging=this,this._preventOutline&&co(this._element),no(),bt(),!this._moving)){this.fire("down");var w=_.touches?_.touches[0]:_,$=Jo(this._element);this._startPoint=new Y(w.clientX,w.clientY),this._startPos=tt(this._element),this._parentScale=uo($);var N=_.type==="mousedown";ce(document,N?"mousemove":"touchmove",this._onMove,this),ce(document,N?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(_){if(this._enabled){if(_.touches&&_.touches.length>1){this._moved=!0;return}var w=_.touches&&_.touches.length===1?_.touches[0]:_,$=new Y(w.clientX,w.clientY)._subtract(this._startPoint);!$.x&&!$.y||Math.abs($.x)+Math.abs($.y)<this.options.clickTolerance||($.x/=this._parentScale.x,$.y/=this._parentScale.y,Le(_),this._moved||(this.fire("dragstart"),this._moved=!0,de(document.body,"leaflet-dragging"),this._lastTarget=_.target||_.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),de(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add($),this._moving=!0,this._lastEvent=_,this._updatePosition())}},_updatePosition:function(){var _={originalEvent:this._lastEvent};this.fire("predrag",_),Ve(this._element,this._newPos),this.fire("drag",_)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(_){$e(document.body,"leaflet-dragging"),this._lastTarget&&($e(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),xe(document,"mousemove touchmove",this._onMove,this),xe(document,"mouseup touchend touchcancel",this._onUp,this),so(),vt();var w=this._moved&&this._moving;this._moving=!1,Je._dragging=!1,w&&this.fire("dragend",{noInertia:_,distance:this._newPos.distanceTo(this._startPos)})}});function sr(_,w,$){var N,I=[1,4,2,8],F,A,O,H,q,X,re,he;for(F=0,X=_.length;F<X;F++)_[F]._code=at(_[F],w);for(O=0;O<4;O++){for(re=I[O],N=[],F=0,X=_.length,A=X-1;F<X;A=F++)H=_[F],q=_[A],H._code&re?q._code&re||(he=Mt(q,H,re,w,$),he._code=at(he,w),N.push(he)):(q._code&re&&(he=Mt(q,H,re,w,$),he._code=at(he,w),N.push(he)),N.push(H));_=N}return _}function lr(_,w){var $,N,I,F,A,O,H,q,X;if(!_||_.length===0)throw new Error("latlngs not passed");Fe(_)||(console.warn("latlngs are not flat! Only the first ring will be used"),_=_[0]);var re=ge([0,0]),he=Se(_),De=he.getNorthWest().distanceTo(he.getSouthWest())*he.getNorthEast().distanceTo(he.getNorthWest());De<1700&&(re=vo(_));var Ie=_.length,Te=[];for($=0;$<Ie;$++){var Me=ge(_[$]);Te.push(w.project(ge([Me.lat-re.lat,Me.lng-re.lng])))}for(O=H=q=0,$=0,N=Ie-1;$<Ie;N=$++)I=Te[$],F=Te[N],A=I.y*F.x-F.y*I.x,H+=(I.x+F.x)*A,q+=(I.y+F.y)*A,O+=A*3;O===0?X=Te[0]:X=[H/O,q/O];var gt=w.unproject(oe(X));return ge([gt.lat+re.lat,gt.lng+re.lng])}function vo(_){for(var w=0,$=0,N=0,I=0;I<_.length;I++){var F=ge(_[I]);w+=F.lat,$+=F.lng,N++}return ge([w/N,$/N])}var Ca={__proto__:null,clipPolygon:sr,polygonCenter:lr,centroid:vo};function cr(_,w){if(!w||!_.length)return _.slice();var $=w*w;return _=Va(_,$),_=Sa(_,$),_}function dr(_,w,$){return Math.sqrt(wt(_,w,$,!0))}function $a(_,w,$){return wt(_,w,$)}function Sa(_,w){var $=_.length,N=typeof Uint8Array<"u"?Uint8Array:Array,I=new N($);I[0]=I[$-1]=1,yo(_,I,w,0,$-1);var F,A=[];for(F=0;F<$;F++)I[F]&&A.push(_[F]);return A}function yo(_,w,$,N,I){var F=0,A,O,H;for(O=N+1;O<=I-1;O++)H=wt(_[O],_[N],_[I],!0),H>F&&(A=O,F=H);F>$&&(w[A]=1,yo(_,w,$,N,A),yo(_,w,$,A,I))}function Va(_,w){for(var $=[_[0]],N=1,I=0,F=_.length;N<F;N++)Na(_[N],_[I])>w&&($.push(_[N]),I=N);return I<F-1&&$.push(_[F-1]),$}var ur;function hr(_,w,$,N,I){var F=N?ur:at(_,$),A=at(w,$),O,H,q;for(ur=A;;){if(!(F|A))return[_,w];if(F&A)return!1;O=F||A,H=Mt(_,w,O,$,I),q=at(H,$),O===F?(_=H,F=q):(w=H,A=q)}}function Mt(_,w,$,N,I){var F=w.x-_.x,A=w.y-_.y,O=N.min,H=N.max,q,X;return $&8?(q=_.x+F*(H.y-_.y)/A,X=H.y):$&4?(q=_.x+F*(O.y-_.y)/A,X=O.y):$&2?(q=H.x,X=_.y+A*(H.x-_.x)/F):$&1&&(q=O.x,X=_.y+A*(O.x-_.x)/F),new Y(q,X,I)}function at(_,w){var $=0;return _.x<w.min.x?$|=1:_.x>w.max.x&&($|=2),_.y<w.min.y?$|=4:_.y>w.max.y&&($|=8),$}function Na(_,w){var $=w.x-_.x,N=w.y-_.y;return $*$+N*N}function wt(_,w,$,N){var I=w.x,F=w.y,A=$.x-I,O=$.y-F,H=A*A+O*O,q;return H>0&&(q=((_.x-I)*A+(_.y-F)*O)/H,q>1?(I=$.x,F=$.y):q>0&&(I+=A*q,F+=O*q)),A=_.x-I,O=_.y-F,N?A*A+O*O:new Y(I,F)}function Fe(_){return!ae(_[0])||typeof _[0][0]!="object"&&typeof _[0][0]<"u"}function gr(_){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Fe(_)}function mr(_,w){var $,N,I,F,A,O,H,q;if(!_||_.length===0)throw new Error("latlngs not passed");Fe(_)||(console.warn("latlngs are not flat! Only the first ring will be used"),_=_[0]);var X=ge([0,0]),re=Se(_),he=re.getNorthWest().distanceTo(re.getSouthWest())*re.getNorthEast().distanceTo(re.getNorthWest());he<1700&&(X=vo(_));var De=_.length,Ie=[];for($=0;$<De;$++){var Te=ge(_[$]);Ie.push(w.project(ge([Te.lat-X.lat,Te.lng-X.lng])))}for($=0,N=0;$<De-1;$++)N+=Ie[$].distanceTo(Ie[$+1])/2;if(N===0)q=Ie[0];else for($=0,F=0;$<De-1;$++)if(A=Ie[$],O=Ie[$+1],I=A.distanceTo(O),F+=I,F>N){H=(F-N)/I,q=[O.x-H*(O.x-A.x),O.y-H*(O.y-A.y)];break}var Me=w.unproject(oe(q));return ge([Me.lat+X.lat,Me.lng+X.lng])}var Pa={__proto__:null,simplify:cr,pointToSegmentDistance:dr,closestPointOnSegment:$a,clipSegment:hr,_getEdgeIntersection:Mt,_getBitCode:at,_sqClosestPointOnSegment:wt,isFlat:Fe,_flat:gr,polylineCenter:mr},ko={project:function(_){return new Y(_.lng,_.lat)},unproject:function(_){return new ye(_.y,_.x)},bounds:new ve([-180,-90],[180,90])},xo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ve([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(_){var w=Math.PI/180,$=this.R,N=_.lat*w,I=this.R_MINOR/$,F=Math.sqrt(1-I*I),A=F*Math.sin(N),O=Math.tan(Math.PI/4-N/2)/Math.pow((1-A)/(1+A),F/2);return N=-$*Math.log(Math.max(O,1e-10)),new Y(_.lng*w*$,N)},unproject:function(_){for(var w=180/Math.PI,$=this.R,N=this.R_MINOR/$,I=Math.sqrt(1-N*N),F=Math.exp(-_.y/$),A=Math.PI/2-2*Math.atan(F),O=0,H=.1,q;O<15&&Math.abs(H)>1e-7;O++)q=I*Math.sin(A),q=Math.pow((1-q)/(1+q),I/2),H=Math.PI/2-2*Math.atan(F*q)-A,A+=H;return new ye(A*w,_.x*w/$)}},Ia={__proto__:null,LonLat:ko,Mercator:xo,SphericalMercator:Wt},La=V({},Xe,{code:"EPSG:3395",projection:xo,transformation:function(){var _=.5/(Math.PI*xo.R);return mt(_,.5,-_,.5)}()}),fr=V({},Xe,{code:"EPSG:4326",projection:ko,transformation:mt(1/180,1,-1/180,.5)}),Ea=V({},qe,{projection:ko,transformation:mt(1,0,-1,0),scale:function(_){return Math.pow(2,_)},zoom:function(_){return Math.log(_)/Math.LN2},distance:function(_,w){var $=w.lng-_.lng,N=w.lat-_.lat;return Math.sqrt($*$+N*N)},infinite:!0});qe.Earth=Xe,qe.EPSG3395=La,qe.EPSG3857=Gt,qe.EPSG900913=Ar,qe.EPSG4326=fr,qe.Simple=Ea;var Re=J.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(_){return _.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(_){return _&&_.removeLayer(this),this},getPane:function(_){return this._map.getPane(_?this.options[_]||_:this.options.pane)},addInteractiveTarget:function(_){return this._map._targets[D(_)]=this,this},removeInteractiveTarget:function(_){return delete this._map._targets[D(_)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(_){var w=_.target;if(w.hasLayer(this)){if(this._map=w,this._zoomAnimated=w._zoomAnimated,this.getEvents){var $=this.getEvents();w.on($,this),this.once("remove",function(){w.off($,this)},this)}this.onAdd(w),this.fire("add"),w.fire("layeradd",{layer:this})}}});me.include({addLayer:function(_){if(!_._layerAdd)throw new Error("The provided object is not a Layer.");var w=D(_);return this._layers[w]?this:(this._layers[w]=_,_._mapToAdd=this,_.beforeAdd&&_.beforeAdd(this),this.whenReady(_._layerAdd,_),this)},removeLayer:function(_){var w=D(_);return this._layers[w]?(this._loaded&&_.onRemove(this),delete this._layers[w],this._loaded&&(this.fire("layerremove",{layer:_}),_.fire("remove")),_._map=_._mapToAdd=null,this):this},hasLayer:function(_){return D(_)in this._layers},eachLayer:function(_,w){for(var $ in this._layers)_.call(w,this._layers[$]);return this},_addLayers:function(_){_=_?ae(_)?_:[_]:[];for(var w=0,$=_.length;w<$;w++)this.addLayer(_[w])},_addZoomLimit:function(_){(!isNaN(_.options.maxZoom)||!isNaN(_.options.minZoom))&&(this._zoomBoundLayers[D(_)]=_,this._updateZoomLevels())},_removeZoomLimit:function(_){var w=D(_);this._zoomBoundLayers[w]&&(delete this._zoomBoundLayers[w],this._updateZoomLevels())},_updateZoomLevels:function(){var _=1/0,w=-1/0,$=this._getZoomSpan();for(var N in this._zoomBoundLayers){var I=this._zoomBoundLayers[N].options;_=I.minZoom===void 0?_:Math.min(_,I.minZoom),w=I.maxZoom===void 0?w:Math.max(w,I.maxZoom)}this._layersMaxZoom=w===-1/0?void 0:w,this._layersMinZoom=_===1/0?void 0:_,$!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var lt=Re.extend({initialize:function(_,w){M(this,w),this._layers={};var $,N;if(_)for($=0,N=_.length;$<N;$++)this.addLayer(_[$])},addLayer:function(_){var w=this.getLayerId(_);return this._layers[w]=_,this._map&&this._map.addLayer(_),this},removeLayer:function(_){var w=_ in this._layers?_:this.getLayerId(_);return this._map&&this._layers[w]&&this._map.removeLayer(this._layers[w]),delete this._layers[w],this},hasLayer:function(_){var w=typeof _=="number"?_:this.getLayerId(_);return w in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(_){var w=Array.prototype.slice.call(arguments,1),$,N;for($ in this._layers)N=this._layers[$],N[_]&&N[_].apply(N,w);return this},onAdd:function(_){this.eachLayer(_.addLayer,_)},onRemove:function(_){this.eachLayer(_.removeLayer,_)},eachLayer:function(_,w){for(var $ in this._layers)_.call(w,this._layers[$]);return this},getLayer:function(_){return this._layers[_]},getLayers:function(){var _=[];return this.eachLayer(_.push,_),_},setZIndex:function(_){return this.invoke("setZIndex",_)},getLayerId:function(_){return D(_)}}),Da=function(_,w){return new lt(_,w)},We=lt.extend({addLayer:function(_){return this.hasLayer(_)?this:(_.addEventParent(this),lt.prototype.addLayer.call(this,_),this.fire("layeradd",{layer:_}))},removeLayer:function(_){return this.hasLayer(_)?(_ in this._layers&&(_=this._layers[_]),_.removeEventParent(this),lt.prototype.removeLayer.call(this,_),this.fire("layerremove",{layer:_})):this},setStyle:function(_){return this.invoke("setStyle",_)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var _=new Ce;for(var w in this._layers){var $=this._layers[w];_.extend($.getBounds?$.getBounds():$.getLatLng())}return _}}),Ma=function(_,w){return new We(_,w)},ct=le.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(_){M(this,_)},createIcon:function(_){return this._createIcon("icon",_)},createShadow:function(_){return this._createIcon("shadow",_)},_createIcon:function(_,w){var $=this._getIconUrl(_);if(!$){if(_==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var N=this._createImg($,w&&w.tagName==="IMG"?w:null);return this._setIconStyles(N,_),(this.options.crossOrigin||this.options.crossOrigin==="")&&(N.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),N},_setIconStyles:function(_,w){var $=this.options,N=$[w+"Size"];typeof N=="number"&&(N=[N,N]);var I=oe(N),F=oe(w==="shadow"&&$.shadowAnchor||$.iconAnchor||I&&I.divideBy(2,!0));_.className="leaflet-marker-"+w+" "+($.className||""),F&&(_.style.marginLeft=-F.x+"px",_.style.marginTop=-F.y+"px"),I&&(_.style.width=I.x+"px",_.style.height=I.y+"px")},_createImg:function(_,w){return w=w||document.createElement("img"),w.src=_,w},_getIconUrl:function(_){return ee.retina&&this.options[_+"RetinaUrl"]||this.options[_+"Url"]}});function za(_){return new ct(_)}var Bt=ct.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(_){return typeof Bt.imagePath!="string"&&(Bt.imagePath=this._detectIconPath()),(this.options.imagePath||Bt.imagePath)+ct.prototype._getIconUrl.call(this,_)},_stripUrl:function(_){var w=function($,N,I){var F=N.exec($);return F&&F[I]};return _=w(_,/^url\((['"])?(.+)\1\)$/,2),_&&w(_,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var _=pe("div","leaflet-default-icon-path",document.body),w=_t(_,"background-image")||_t(_,"backgroundImage");if(document.body.removeChild(_),w=this._stripUrl(w),w)return w;var $=document.querySelector('link[href$="leaflet.css"]');return $?$.href.substring(0,$.href.length-11-1):""}}),pr=Ue.extend({initialize:function(_){this._marker=_},addHooks:function(){var _=this._marker._icon;this._draggable||(this._draggable=new Je(_,_,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),de(_,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&$e(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(_){var w=this._marker,$=w._map,N=this._marker.options.autoPanSpeed,I=this._marker.options.autoPanPadding,F=tt(w._icon),A=$.getPixelBounds(),O=$.getPixelOrigin(),H=Pe(A.min._subtract(O).add(I),A.max._subtract(O).subtract(I));if(!H.contains(F)){var q=oe((Math.max(H.max.x,F.x)-H.max.x)/(A.max.x-H.max.x)-(Math.min(H.min.x,F.x)-H.min.x)/(A.min.x-H.min.x),(Math.max(H.max.y,F.y)-H.max.y)/(A.max.y-H.max.y)-(Math.min(H.min.y,F.y)-H.min.y)/(A.min.y-H.min.y)).multiplyBy(N);$.panBy(q,{animate:!1}),this._draggable._newPos._add(q),this._draggable._startPos._add(q),Ve(w._icon,this._draggable._newPos),this._onDrag(_),this._panRequest=G(this._adjustPan.bind(this,_))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(_){this._marker.options.autoPan&&(ue(this._panRequest),this._panRequest=G(this._adjustPan.bind(this,_)))},_onDrag:function(_){var w=this._marker,$=w._shadow,N=tt(w._icon),I=w._map.layerPointToLatLng(N);$&&Ve($,N),w._latlng=I,_.latlng=I,_.oldLatLng=this._oldLatLng,w.fire("move",_).fire("drag",_)},_onDragEnd:function(_){ue(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",_)}}),zt=Re.extend({options:{icon:new Bt,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(_,w){M(this,w),this._latlng=ge(_)},onAdd:function(_){this._zoomAnimated=this._zoomAnimated&&_.options.markerZoomAnimation,this._zoomAnimated&&_.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(_){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&_.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(_){var w=this._latlng;return this._latlng=ge(_),this.update(),this.fire("move",{oldLatLng:w,latlng:this._latlng})},setZIndexOffset:function(_){return this.options.zIndexOffset=_,this.update()},getIcon:function(){return this.options.icon},setIcon:function(_){return this.options.icon=_,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var _=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(_)}return this},_initIcon:function(){var _=this.options,w="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),$=_.icon.createIcon(this._icon),N=!1;$!==this._icon&&(this._icon&&this._removeIcon(),N=!0,_.title&&($.title=_.title),$.tagName==="IMG"&&($.alt=_.alt||"")),de($,w),_.keyboard&&($.tabIndex="0",$.setAttribute("role","button")),this._icon=$,_.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ce($,"focus",this._panOnFocus,this);var I=_.icon.createShadow(this._shadow),F=!1;I!==this._shadow&&(this._removeShadow(),F=!0),I&&(de(I,w),I.alt=""),this._shadow=I,_.opacity<1&&this._updateOpacity(),N&&this.getPane().appendChild(this._icon),this._initInteraction(),I&&F&&this.getPane(_.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&xe(this._icon,"focus",this._panOnFocus,this),we(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&we(this._shadow),this._shadow=null},_setPos:function(_){this._icon&&Ve(this._icon,_),this._shadow&&Ve(this._shadow,_),this._zIndex=_.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(_){this._icon&&(this._icon.style.zIndex=this._zIndex+_)},_animateZoom:function(_){var w=this._map._latLngToNewLayerPoint(this._latlng,_.zoom,_.center).round();this._setPos(w)},_initInteraction:function(){if(this.options.interactive&&(de(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),pr)){var _=this.options.draggable;this.dragging&&(_=this.dragging.enabled(),this.dragging.disable()),this.dragging=new pr(this),_&&this.dragging.enable()}},setOpacity:function(_){return this.options.opacity=_,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var _=this.options.opacity;this._icon&&ze(this._icon,_),this._shadow&&ze(this._shadow,_)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var _=this._map;if(_){var w=this.options.icon.options,$=w.iconSize?oe(w.iconSize):oe(0,0),N=w.iconAnchor?oe(w.iconAnchor):oe(0,0);_.panInside(this._latlng,{paddingTopLeft:N,paddingBottomRight:$.subtract(N)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Fa(_,w){return new zt(_,w)}var Qe=Re.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(_){this._renderer=_.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(_){return M(this,_),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&_&&Object.prototype.hasOwnProperty.call(_,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ft=Qe.extend({options:{fill:!0,radius:10},initialize:function(_,w){M(this,w),this._latlng=ge(_),this._radius=this.options.radius},setLatLng:function(_){var w=this._latlng;return this._latlng=ge(_),this.redraw(),this.fire("move",{oldLatLng:w,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(_){return this.options.radius=this._radius=_,this.redraw()},getRadius:function(){return this._radius},setStyle:function(_){var w=_&&_.radius||this._radius;return Qe.prototype.setStyle.call(this,_),this.setRadius(w),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var _=this._radius,w=this._radiusY||_,$=this._clickTolerance(),N=[_+$,w+$];this._pxBounds=new ve(this._point.subtract(N),this._point.add(N))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(_){return _.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ta(_,w){return new Ft(_,w)}var wo=Ft.extend({initialize:function(_,w,$){if(typeof w=="number"&&(w=V({},$,{radius:w})),M(this,w),this._latlng=ge(_),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(_){return this._mRadius=_,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var _=[this._radius,this._radiusY||this._radius];return new Ce(this._map.layerPointToLatLng(this._point.subtract(_)),this._map.layerPointToLatLng(this._point.add(_)))},setStyle:Qe.prototype.setStyle,_project:function(){var _=this._latlng.lng,w=this._latlng.lat,$=this._map,N=$.options.crs;if(N.distance===Xe.distance){var I=Math.PI/180,F=this._mRadius/Xe.R/I,A=$.project([w+F,_]),O=$.project([w-F,_]),H=A.add(O).divideBy(2),q=$.unproject(H).lat,X=Math.acos((Math.cos(F*I)-Math.sin(w*I)*Math.sin(q*I))/(Math.cos(w*I)*Math.cos(q*I)))/I;(isNaN(X)||X===0)&&(X=F/Math.cos(Math.PI/180*w)),this._point=H.subtract($.getPixelOrigin()),this._radius=isNaN(X)?0:H.x-$.project([q,_-X]).x,this._radiusY=H.y-A.y}else{var re=N.unproject(N.project(this._latlng).subtract([this._mRadius,0]));this._point=$.latLngToLayerPoint(this._latlng),this._radius=this._point.x-$.latLngToLayerPoint(re).x}this._updateBounds()}});function Aa(_,w,$){return new wo(_,w,$)}var Ke=Qe.extend({options:{smoothFactor:1,noClip:!1},initialize:function(_,w){M(this,w),this._setLatLngs(_)},getLatLngs:function(){return this._latlngs},setLatLngs:function(_){return this._setLatLngs(_),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(_){for(var w=1/0,$=null,N=wt,I,F,A=0,O=this._parts.length;A<O;A++)for(var H=this._parts[A],q=1,X=H.length;q<X;q++){I=H[q-1],F=H[q];var re=N(_,I,F,!0);re<w&&(w=re,$=N(_,I,F))}return $&&($.distance=Math.sqrt(w)),$},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return mr(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(_,w){return w=w||this._defaultShape(),_=ge(_),w.push(_),this._bounds.extend(_),this.redraw()},_setLatLngs:function(_){this._bounds=new Ce,this._latlngs=this._convertLatLngs(_)},_defaultShape:function(){return Fe(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(_){for(var w=[],$=Fe(_),N=0,I=_.length;N<I;N++)$?(w[N]=ge(_[N]),this._bounds.extend(w[N])):w[N]=this._convertLatLngs(_[N]);return w},_project:function(){var _=new ve;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,_),this._bounds.isValid()&&_.isValid()&&(this._rawPxBounds=_,this._updateBounds())},_updateBounds:function(){var _=this._clickTolerance(),w=new Y(_,_);this._rawPxBounds&&(this._pxBounds=new ve([this._rawPxBounds.min.subtract(w),this._rawPxBounds.max.add(w)]))},_projectLatlngs:function(_,w,$){var N=_[0]instanceof ye,I=_.length,F,A;if(N){for(A=[],F=0;F<I;F++)A[F]=this._map.latLngToLayerPoint(_[F]),$.extend(A[F]);w.push(A)}else for(F=0;F<I;F++)this._projectLatlngs(_[F],w,$)},_clipPoints:function(){var _=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(_))){if(this.options.noClip){this._parts=this._rings;return}var w=this._parts,$,N,I,F,A,O,H;for($=0,I=0,F=this._rings.length;$<F;$++)for(H=this._rings[$],N=0,A=H.length;N<A-1;N++)O=hr(H[N],H[N+1],_,N,!0),O&&(w[I]=w[I]||[],w[I].push(O[0]),(O[1]!==H[N+1]||N===A-2)&&(w[I].push(O[1]),I++))}},_simplifyPoints:function(){for(var _=this._parts,w=this.options.smoothFactor,$=0,N=_.length;$<N;$++)_[$]=cr(_[$],w)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(_,w){var $,N,I,F,A,O,H=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(_))return!1;for($=0,F=this._parts.length;$<F;$++)for(O=this._parts[$],N=0,A=O.length,I=A-1;N<A;I=N++)if(!(!w&&N===0)&&dr(_,O[I],O[N])<=H)return!0;return!1}});function Ra(_,w){return new Ke(_,w)}Ke._flat=gr;var dt=Ke.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return lr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(_){var w=Ke.prototype._convertLatLngs.call(this,_),$=w.length;return $>=2&&w[0]instanceof ye&&w[0].equals(w[$-1])&&w.pop(),w},_setLatLngs:function(_){Ke.prototype._setLatLngs.call(this,_),Fe(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Fe(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var _=this._renderer._bounds,w=this.options.weight,$=new Y(w,w);if(_=new ve(_.min.subtract($),_.max.add($)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(_))){if(this.options.noClip){this._parts=this._rings;return}for(var N=0,I=this._rings.length,F;N<I;N++)F=sr(this._rings[N],_,!0),F.length&&this._parts.push(F)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(_){var w=!1,$,N,I,F,A,O,H,q;if(!this._pxBounds||!this._pxBounds.contains(_))return!1;for(F=0,H=this._parts.length;F<H;F++)for($=this._parts[F],A=0,q=$.length,O=q-1;A<q;O=A++)N=$[A],I=$[O],N.y>_.y!=I.y>_.y&&_.x<(I.x-N.x)*(_.y-N.y)/(I.y-N.y)+N.x&&(w=!w);return w||Ke.prototype._containsPoint.call(this,_,!0)}});function Oa(_,w){return new dt(_,w)}var Ge=We.extend({initialize:function(_,w){M(this,w),this._layers={},_&&this.addData(_)},addData:function(_){var w=ae(_)?_:_.features,$,N,I;if(w){for($=0,N=w.length;$<N;$++)I=w[$],(I.geometries||I.geometry||I.features||I.coordinates)&&this.addData(I);return this}var F=this.options;if(F.filter&&!F.filter(_))return this;var A=Tt(_,F);return A?(A.feature=Ot(_),A.defaultOptions=A.options,this.resetStyle(A),F.onEachFeature&&F.onEachFeature(_,A),this.addLayer(A)):this},resetStyle:function(_){return _===void 0?this.eachLayer(this.resetStyle,this):(_.options=V({},_.defaultOptions),this._setLayerStyle(_,this.options.style),this)},setStyle:function(_){return this.eachLayer(function(w){this._setLayerStyle(w,_)},this)},_setLayerStyle:function(_,w){_.setStyle&&(typeof w=="function"&&(w=w(_.feature)),_.setStyle(w))}});function Tt(_,w){var $=_.type==="Feature"?_.geometry:_,N=$?$.coordinates:null,I=[],F=w&&w.pointToLayer,A=w&&w.coordsToLatLng||Bo,O,H,q,X;if(!N&&!$)return null;switch($.type){case"Point":return O=A(N),_r(F,_,O,w);case"MultiPoint":for(q=0,X=N.length;q<X;q++)O=A(N[q]),I.push(_r(F,_,O,w));return new We(I);case"LineString":case"MultiLineString":return H=At(N,$.type==="LineString"?0:1,A),new Ke(H,w);case"Polygon":case"MultiPolygon":return H=At(N,$.type==="Polygon"?1:2,A),new dt(H,w);case"GeometryCollection":for(q=0,X=$.geometries.length;q<X;q++){var re=Tt({geometry:$.geometries[q],type:"Feature",properties:_.properties},w);re&&I.push(re)}return new We(I);case"FeatureCollection":for(q=0,X=$.features.length;q<X;q++){var he=Tt($.features[q],w);he&&I.push(he)}return new We(I);default:throw new Error("Invalid GeoJSON object.")}}function _r(_,w,$,N){return _?_(w,$):new zt($,N&&N.markersInheritOptions&&N)}function Bo(_){return new ye(_[1],_[0],_[2])}function At(_,w,$){for(var N=[],I=0,F=_.length,A;I<F;I++)A=w?At(_[I],w-1,$):($||Bo)(_[I]),N.push(A);return N}function Co(_,w){return _=ge(_),_.alt!==void 0?[R(_.lng,w),R(_.lat,w),R(_.alt,w)]:[R(_.lng,w),R(_.lat,w)]}function Rt(_,w,$,N){for(var I=[],F=0,A=_.length;F<A;F++)I.push(w?Rt(_[F],Fe(_[F])?0:w-1,$,N):Co(_[F],N));return!w&&$&&I.length>0&&I.push(I[0].slice()),I}function ut(_,w){return _.feature?V({},_.feature,{geometry:w}):Ot(w)}function Ot(_){return _.type==="Feature"||_.type==="FeatureCollection"?_:{type:"Feature",properties:{},geometry:_}}var $o={toGeoJSON:function(_){return ut(this,{type:"Point",coordinates:Co(this.getLatLng(),_)})}};zt.include($o),wo.include($o),Ft.include($o),Ke.include({toGeoJSON:function(_){var w=!Fe(this._latlngs),$=Rt(this._latlngs,w?1:0,!1,_);return ut(this,{type:(w?"Multi":"")+"LineString",coordinates:$})}}),dt.include({toGeoJSON:function(_){var w=!Fe(this._latlngs),$=w&&!Fe(this._latlngs[0]),N=Rt(this._latlngs,$?2:w?1:0,!0,_);return w||(N=[N]),ut(this,{type:($?"Multi":"")+"Polygon",coordinates:N})}}),lt.include({toMultiPoint:function(_){var w=[];return this.eachLayer(function($){w.push($.toGeoJSON(_).geometry.coordinates)}),ut(this,{type:"MultiPoint",coordinates:w})},toGeoJSON:function(_){var w=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(w==="MultiPoint")return this.toMultiPoint(_);var $=w==="GeometryCollection",N=[];return this.eachLayer(function(I){if(I.toGeoJSON){var F=I.toGeoJSON(_);if($)N.push(F.geometry);else{var A=Ot(F);A.type==="FeatureCollection"?N.push.apply(N,A.features):N.push(A)}}}),$?ut(this,{geometries:N,type:"GeometryCollection"}):{type:"FeatureCollection",features:N}}});function br(_,w){return new Ge(_,w)}var ja=br,jt=Re.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(_,w,$){this._url=_,this._bounds=Se(w),M(this,$)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(de(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){we(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(_){return this.options.opacity=_,this._image&&this._updateOpacity(),this},setStyle:function(_){return _.opacity&&this.setOpacity(_.opacity),this},bringToFront:function(){return this._map&&nt(this._image),this},bringToBack:function(){return this._map&&st(this._image),this},setUrl:function(_){return this._url=_,this._image&&(this._image.src=_),this},setBounds:function(_){return this._bounds=Se(_),this._map&&this._reset(),this},getEvents:function(){var _={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(_.zoomanim=this._animateZoom),_},setZIndex:function(_){return this.options.zIndex=_,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var _=this._url.tagName==="IMG",w=this._image=_?this._url:pe("img");if(de(w,"leaflet-image-layer"),this._zoomAnimated&&de(w,"leaflet-zoom-animated"),this.options.className&&de(w,this.options.className),w.onselectstart=j,w.onmousemove=j,w.onload=P(this.fire,this,"load"),w.onerror=P(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),_){this._url=w.src;return}w.src=this._url,w.alt=this.options.alt},_animateZoom:function(_){var w=this._map.getZoomScale(_.zoom),$=this._map._latLngBoundsToNewLayerBounds(this._bounds,_.zoom,_.center).min;et(this._image,$,w)},_reset:function(){var _=this._image,w=new ve(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),$=w.getSize();Ve(_,w.min),_.style.width=$.x+"px",_.style.height=$.y+"px"},_updateOpacity:function(){ze(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var _=this.options.errorOverlayUrl;_&&this._url!==_&&(this._url=_,this._image.src=_)},getCenter:function(){return this._bounds.getCenter()}}),Ua=function(_,w,$){return new jt(_,w,$)},vr=jt.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var _=this._url.tagName==="VIDEO",w=this._image=_?this._url:pe("video");if(de(w,"leaflet-image-layer"),this._zoomAnimated&&de(w,"leaflet-zoom-animated"),this.options.className&&de(w,this.options.className),w.onselectstart=j,w.onmousemove=j,w.onloadeddata=P(this.fire,this,"load"),_){for(var $=w.getElementsByTagName("source"),N=[],I=0;I<$.length;I++)N.push($[I].src);this._url=$.length>0?N:[w.src];return}ae(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(w.style,"objectFit")&&(w.style.objectFit="fill"),w.autoplay=!!this.options.autoplay,w.loop=!!this.options.loop,w.muted=!!this.options.muted,w.playsInline=!!this.options.playsInline;for(var F=0;F<this._url.length;F++){var A=pe("source");A.src=this._url[F],w.appendChild(A)}}});function Ha(_,w,$){return new vr(_,w,$)}var yr=jt.extend({_initImage:function(){var _=this._image=this._url;de(_,"leaflet-image-layer"),this._zoomAnimated&&de(_,"leaflet-zoom-animated"),this.options.className&&de(_,this.options.className),_.onselectstart=j,_.onmousemove=j}});function Za(_,w,$){return new yr(_,w,$)}var He=Re.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(_,w){_&&(_ instanceof ye||ae(_))?(this._latlng=ge(_),M(this,w)):(M(this,_),this._source=w),this.options.content&&(this._content=this.options.content)},openOn:function(_){return _=arguments.length?_:this._source._map,_.hasLayer(this)||_.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(_){return this._map?this.close():(arguments.length?this._source=_:_=this._source,this._prepareOpen(),this.openOn(_._map)),this},onAdd:function(_){this._zoomAnimated=_._zoomAnimated,this._container||this._initLayout(),_._fadeAnimated&&ze(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),_._fadeAnimated&&ze(this._container,1),this.bringToFront(),this.options.interactive&&(de(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(_){_._fadeAnimated?(ze(this._container,0),this._removeTimeout=setTimeout(P(we,void 0,this._container),200)):we(this._container),this.options.interactive&&($e(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(_){return this._latlng=ge(_),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(_){return this._content=_,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var _={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(_.zoomanim=this._animateZoom),_},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&nt(this._container),this},bringToBack:function(){return this._map&&st(this._container),this},_prepareOpen:function(_){var w=this._source;if(!w._map)return!1;if(w instanceof We){w=null;var $=this._source._layers;for(var N in $)if($[N]._map){w=$[N];break}if(!w)return!1;this._source=w}if(!_)if(w.getCenter)_=w.getCenter();else if(w.getLatLng)_=w.getLatLng();else if(w.getBounds)_=w.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(_),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var _=this._contentNode,w=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof w=="string")_.innerHTML=w;else{for(;_.hasChildNodes();)_.removeChild(_.firstChild);_.appendChild(w)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var _=this._map.latLngToLayerPoint(this._latlng),w=oe(this.options.offset),$=this._getAnchor();this._zoomAnimated?Ve(this._container,_.add($)):w=w.add(_).add($);var N=this._containerBottom=-w.y,I=this._containerLeft=-Math.round(this._containerWidth/2)+w.x;this._container.style.bottom=N+"px",this._container.style.left=I+"px"}},_getAnchor:function(){return[0,0]}});me.include({_initOverlay:function(_,w,$,N){var I=w;return I instanceof _||(I=new _(N).setContent(w)),$&&I.setLatLng($),I}}),Re.include({_initOverlay:function(_,w,$,N){var I=$;return I instanceof _?(M(I,N),I._source=this):(I=w&&!N?w:new _(N,this),I.setContent($)),I}});var Ut=He.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(_){return _=arguments.length?_:this._source._map,!_.hasLayer(this)&&_._popup&&_._popup.options.autoClose&&_.removeLayer(_._popup),_._popup=this,He.prototype.openOn.call(this,_)},onAdd:function(_){He.prototype.onAdd.call(this,_),_.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Qe||this._source.on("preclick",ot))},onRemove:function(_){He.prototype.onRemove.call(this,_),_.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Qe||this._source.off("preclick",ot))},getEvents:function(){var _=He.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(_.preclick=this.close),this.options.keepInView&&(_.moveend=this._adjustPan),_},_initLayout:function(){var _="leaflet-popup",w=this._container=pe("div",_+" "+(this.options.className||"")+" leaflet-zoom-animated"),$=this._wrapper=pe("div",_+"-content-wrapper",w);if(this._contentNode=pe("div",_+"-content",$),kt(w),fo(this._contentNode),ce(w,"contextmenu",ot),this._tipContainer=pe("div",_+"-tip-container",w),this._tip=pe("div",_+"-tip",this._tipContainer),this.options.closeButton){var N=this._closeButton=pe("a",_+"-close-button",w);N.setAttribute("role","button"),N.setAttribute("aria-label","Close popup"),N.href="#close",N.innerHTML='<span aria-hidden="true">&#215;</span>',ce(N,"click",function(I){Le(I),this.close()},this)}},_updateLayout:function(){var _=this._contentNode,w=_.style;w.width="",w.whiteSpace="nowrap";var $=_.offsetWidth;$=Math.min($,this.options.maxWidth),$=Math.max($,this.options.minWidth),w.width=$+1+"px",w.whiteSpace="",w.height="";var N=_.offsetHeight,I=this.options.maxHeight,F="leaflet-popup-scrolled";I&&N>I?(w.height=I+"px",de(_,F)):$e(_,F),this._containerWidth=this._container.offsetWidth},_animateZoom:function(_){var w=this._map._latLngToNewLayerPoint(this._latlng,_.zoom,_.center),$=this._getAnchor();Ve(this._container,w.add($))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var _=this._map,w=parseInt(_t(this._container,"marginBottom"),10)||0,$=this._container.offsetHeight+w,N=this._containerWidth,I=new Y(this._containerLeft,-$-this._containerBottom);I._add(tt(this._container));var F=_.layerPointToContainerPoint(I),A=oe(this.options.autoPanPadding),O=oe(this.options.autoPanPaddingTopLeft||A),H=oe(this.options.autoPanPaddingBottomRight||A),q=_.getSize(),X=0,re=0;F.x+N+H.x>q.x&&(X=F.x+N-q.x+H.x),F.x-X-O.x<0&&(X=F.x-O.x),F.y+$+H.y>q.y&&(re=F.y+$-q.y+H.y),F.y-re-O.y<0&&(re=F.y-O.y),(X||re)&&(this.options.keepInView&&(this._autopanning=!0),_.fire("autopanstart").panBy([X,re]))}},_getAnchor:function(){return oe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),qa=function(_,w){return new Ut(_,w)};me.mergeOptions({closePopupOnClick:!0}),me.include({openPopup:function(_,w,$){return this._initOverlay(Ut,_,w,$).openOn(this),this},closePopup:function(_){return _=arguments.length?_:this._popup,_&&_.close(),this}}),Re.include({bindPopup:function(_,w){return this._popup=this._initOverlay(Ut,this._popup,_,w),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(_){return this._popup&&(this instanceof We||(this._popup._source=this),this._popup._prepareOpen(_||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(_){return this._popup&&this._popup.setContent(_),this},getPopup:function(){return this._popup},_openPopup:function(_){if(!(!this._popup||!this._map)){rt(_);var w=_.layer||_.target;if(this._popup._source===w&&!(w instanceof Qe)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(_.latlng);return}this._popup._source=w,this.openPopup(_.latlng)}},_movePopup:function(_){this._popup.setLatLng(_.latlng)},_onKeyPress:function(_){_.originalEvent.keyCode===13&&this._openPopup(_)}});var Ht=He.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(_){He.prototype.onAdd.call(this,_),this.setOpacity(this.options.opacity),_.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(_){He.prototype.onRemove.call(this,_),_.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var _=He.prototype.getEvents.call(this);return this.options.permanent||(_.preclick=this.close),_},_initLayout:function(){var _="leaflet-tooltip",w=_+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=pe("div",w),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+D(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(_){var w,$,N=this._map,I=this._container,F=N.latLngToContainerPoint(N.getCenter()),A=N.layerPointToContainerPoint(_),O=this.options.direction,H=I.offsetWidth,q=I.offsetHeight,X=oe(this.options.offset),re=this._getAnchor();O==="top"?(w=H/2,$=q):O==="bottom"?(w=H/2,$=0):O==="center"?(w=H/2,$=q/2):O==="right"?(w=0,$=q/2):O==="left"?(w=H,$=q/2):A.x<F.x?(O="right",w=0,$=q/2):(O="left",w=H+(X.x+re.x)*2,$=q/2),_=_.subtract(oe(w,$,!0)).add(X).add(re),$e(I,"leaflet-tooltip-right"),$e(I,"leaflet-tooltip-left"),$e(I,"leaflet-tooltip-top"),$e(I,"leaflet-tooltip-bottom"),de(I,"leaflet-tooltip-"+O),Ve(I,_)},_updatePosition:function(){var _=this._map.latLngToLayerPoint(this._latlng);this._setPosition(_)},setOpacity:function(_){this.options.opacity=_,this._container&&ze(this._container,_)},_animateZoom:function(_){var w=this._map._latLngToNewLayerPoint(this._latlng,_.zoom,_.center);this._setPosition(w)},_getAnchor:function(){return oe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Wa=function(_,w){return new Ht(_,w)};me.include({openTooltip:function(_,w,$){return this._initOverlay(Ht,_,w,$).openOn(this),this},closeTooltip:function(_){return _.close(),this}}),Re.include({bindTooltip:function(_,w){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ht,this._tooltip,_,w),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(_){if(!(!_&&this._tooltipHandlersAdded)){var w=_?"off":"on",$={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?$.add=this._openTooltip:($.mouseover=this._openTooltip,$.mouseout=this.closeTooltip,$.click=this._openTooltip,this._map?this._addFocusListeners():$.add=this._addFocusListeners),this._tooltip.options.sticky&&($.mousemove=this._moveTooltip),this[w]($),this._tooltipHandlersAdded=!_}},openTooltip:function(_){return this._tooltip&&(this instanceof We||(this._tooltip._source=this),this._tooltip._prepareOpen(_)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(_){return this._tooltip&&this._tooltip.setContent(_),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(_){var w=typeof _.getElement=="function"&&_.getElement();w&&(ce(w,"focus",function(){this._tooltip._source=_,this.openTooltip()},this),ce(w,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(_){var w=typeof _.getElement=="function"&&_.getElement();w&&w.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(_){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var w=this;this._map.once("moveend",function(){w._openOnceFlag=!1,w._openTooltip(_)});return}this._tooltip._source=_.layer||_.target,this.openTooltip(this._tooltip.options.sticky?_.latlng:void 0)}},_moveTooltip:function(_){var w=_.latlng,$,N;this._tooltip.options.sticky&&_.originalEvent&&($=this._map.mouseEventToContainerPoint(_.originalEvent),N=this._map.containerPointToLayerPoint($),w=this._map.layerPointToLatLng(N)),this._tooltip.setLatLng(w)}});var kr=ct.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(_){var w=_&&_.tagName==="DIV"?_:document.createElement("div"),$=this.options;if($.html instanceof Element?(Pt(w),w.appendChild($.html)):w.innerHTML=$.html!==!1?$.html:"",$.bgPos){var N=oe($.bgPos);w.style.backgroundPosition=-N.x+"px "+-N.y+"px"}return this._setIconStyles(w,"icon"),w},createShadow:function(){return null}});function Ka(_){return new kr(_)}ct.Default=Bt;var Ct=Re.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ee.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(_){M(this,_)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(_){_._addZoomLimit(this)},onRemove:function(_){this._removeAllTiles(),we(this._container),_._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(nt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(st(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(_){return this.options.opacity=_,this._updateOpacity(),this},setZIndex:function(_){return this.options.zIndex=_,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var _=this._clampZoom(this._map.getZoom());_!==this._tileZoom&&(this._tileZoom=_,this._updateLevels()),this._update()}return this},getEvents:function(){var _={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=z(this._onMoveEnd,this.options.updateInterval,this)),_.move=this._onMove),this._zoomAnimated&&(_.zoomanim=this._animateZoom),_},createTile:function(){return document.createElement("div")},getTileSize:function(){var _=this.options.tileSize;return _ instanceof Y?_:new Y(_,_)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(_){for(var w=this.getPane().children,$=-_(-1/0,1/0),N=0,I=w.length,F;N<I;N++)F=w[N].style.zIndex,w[N]!==this._container&&F&&($=_($,+F));isFinite($)&&(this.options.zIndex=$+_(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ee.ielt9){ze(this._container,this.options.opacity);var _=+new Date,w=!1,$=!1;for(var N in this._tiles){var I=this._tiles[N];if(!(!I.current||!I.loaded)){var F=Math.min(1,(_-I.loaded)/200);ze(I.el,F),F<1?w=!0:(I.active?$=!0:this._onOpaqueTile(I),I.active=!0)}}$&&!this._noPrune&&this._pruneTiles(),w&&(ue(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this))}},_onOpaqueTile:j,_initContainer:function(){this._container||(this._container=pe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var _=this._tileZoom,w=this.options.maxZoom;if(_!==void 0){for(var $ in this._levels)$=Number($),this._levels[$].el.children.length||$===_?(this._levels[$].el.style.zIndex=w-Math.abs(_-$),this._onUpdateLevel($)):(we(this._levels[$].el),this._removeTilesAtZoom($),this._onRemoveLevel($),delete this._levels[$]);var N=this._levels[_],I=this._map;return N||(N=this._levels[_]={},N.el=pe("div","leaflet-tile-container leaflet-zoom-animated",this._container),N.el.style.zIndex=w,N.origin=I.project(I.unproject(I.getPixelOrigin()),_).round(),N.zoom=_,this._setZoomTransform(N,I.getCenter(),I.getZoom()),j(N.el.offsetWidth),this._onCreateLevel(N)),this._level=N,N}},_onUpdateLevel:j,_onRemoveLevel:j,_onCreateLevel:j,_pruneTiles:function(){if(this._map){var _,w,$=this._map.getZoom();if($>this.options.maxZoom||$<this.options.minZoom){this._removeAllTiles();return}for(_ in this._tiles)w=this._tiles[_],w.retain=w.current;for(_ in this._tiles)if(w=this._tiles[_],w.current&&!w.active){var N=w.coords;this._retainParent(N.x,N.y,N.z,N.z-5)||this._retainChildren(N.x,N.y,N.z,N.z+2)}for(_ in this._tiles)this._tiles[_].retain||this._removeTile(_)}},_removeTilesAtZoom:function(_){for(var w in this._tiles)this._tiles[w].coords.z===_&&this._removeTile(w)},_removeAllTiles:function(){for(var _ in this._tiles)this._removeTile(_)},_invalidateAll:function(){for(var _ in this._levels)we(this._levels[_].el),this._onRemoveLevel(Number(_)),delete this._levels[_];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(_,w,$,N){var I=Math.floor(_/2),F=Math.floor(w/2),A=$-1,O=new Y(+I,+F);O.z=+A;var H=this._tileCoordsToKey(O),q=this._tiles[H];return q&&q.active?(q.retain=!0,!0):(q&&q.loaded&&(q.retain=!0),A>N?this._retainParent(I,F,A,N):!1)},_retainChildren:function(_,w,$,N){for(var I=2*_;I<2*_+2;I++)for(var F=2*w;F<2*w+2;F++){var A=new Y(I,F);A.z=$+1;var O=this._tileCoordsToKey(A),H=this._tiles[O];if(H&&H.active){H.retain=!0;continue}else H&&H.loaded&&(H.retain=!0);$+1<N&&this._retainChildren(I,F,$+1,N)}},_resetView:function(_){var w=_&&(_.pinch||_.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),w,w)},_animateZoom:function(_){this._setView(_.center,_.zoom,!0,_.noUpdate)},_clampZoom:function(_){var w=this.options;return w.minNativeZoom!==void 0&&_<w.minNativeZoom?w.minNativeZoom:w.maxNativeZoom!==void 0&&w.maxNativeZoom<_?w.maxNativeZoom:_},_setView:function(_,w,$,N){var I=Math.round(w);this.options.maxZoom!==void 0&&I>this.options.maxZoom||this.options.minZoom!==void 0&&I<this.options.minZoom?I=void 0:I=this._clampZoom(I);var F=this.options.updateWhenZooming&&I!==this._tileZoom;(!N||F)&&(this._tileZoom=I,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),I!==void 0&&this._update(_),$||this._pruneTiles(),this._noPrune=!!$),this._setZoomTransforms(_,w)},_setZoomTransforms:function(_,w){for(var $ in this._levels)this._setZoomTransform(this._levels[$],_,w)},_setZoomTransform:function(_,w,$){var N=this._map.getZoomScale($,_.zoom),I=_.origin.multiplyBy(N).subtract(this._map._getNewPixelOrigin(w,$)).round();ee.any3d?et(_.el,I,N):Ve(_.el,I)},_resetGrid:function(){var _=this._map,w=_.options.crs,$=this._tileSize=this.getTileSize(),N=this._tileZoom,I=this._map.getPixelWorldBounds(this._tileZoom);I&&(this._globalTileRange=this._pxBoundsToTileRange(I)),this._wrapX=w.wrapLng&&!this.options.noWrap&&[Math.floor(_.project([0,w.wrapLng[0]],N).x/$.x),Math.ceil(_.project([0,w.wrapLng[1]],N).x/$.y)],this._wrapY=w.wrapLat&&!this.options.noWrap&&[Math.floor(_.project([w.wrapLat[0],0],N).y/$.x),Math.ceil(_.project([w.wrapLat[1],0],N).y/$.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(_){var w=this._map,$=w._animatingZoom?Math.max(w._animateToZoom,w.getZoom()):w.getZoom(),N=w.getZoomScale($,this._tileZoom),I=w.project(_,this._tileZoom).floor(),F=w.getSize().divideBy(N*2);return new ve(I.subtract(F),I.add(F))},_update:function(_){var w=this._map;if(w){var $=this._clampZoom(w.getZoom());if(_===void 0&&(_=w.getCenter()),this._tileZoom!==void 0){var N=this._getTiledPixelBounds(_),I=this._pxBoundsToTileRange(N),F=I.getCenter(),A=[],O=this.options.keepBuffer,H=new ve(I.getBottomLeft().subtract([O,-O]),I.getTopRight().add([O,-O]));if(!(isFinite(I.min.x)&&isFinite(I.min.y)&&isFinite(I.max.x)&&isFinite(I.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var q in this._tiles){var X=this._tiles[q].coords;(X.z!==this._tileZoom||!H.contains(new Y(X.x,X.y)))&&(this._tiles[q].current=!1)}if(Math.abs($-this._tileZoom)>1){this._setView(_,$);return}for(var re=I.min.y;re<=I.max.y;re++)for(var he=I.min.x;he<=I.max.x;he++){var De=new Y(he,re);if(De.z=this._tileZoom,!!this._isValidTile(De)){var Ie=this._tiles[this._tileCoordsToKey(De)];Ie?Ie.current=!0:A.push(De)}}if(A.sort(function(Me,gt){return Me.distanceTo(F)-gt.distanceTo(F)}),A.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Te=document.createDocumentFragment();for(he=0;he<A.length;he++)this._addTile(A[he],Te);this._level.el.appendChild(Te)}}}},_isValidTile:function(_){var w=this._map.options.crs;if(!w.infinite){var $=this._globalTileRange;if(!w.wrapLng&&(_.x<$.min.x||_.x>$.max.x)||!w.wrapLat&&(_.y<$.min.y||_.y>$.max.y))return!1}if(!this.options.bounds)return!0;var N=this._tileCoordsToBounds(_);return Se(this.options.bounds).overlaps(N)},_keyToBounds:function(_){return this._tileCoordsToBounds(this._keyToTileCoords(_))},_tileCoordsToNwSe:function(_){var w=this._map,$=this.getTileSize(),N=_.scaleBy($),I=N.add($),F=w.unproject(N,_.z),A=w.unproject(I,_.z);return[F,A]},_tileCoordsToBounds:function(_){var w=this._tileCoordsToNwSe(_),$=new Ce(w[0],w[1]);return this.options.noWrap||($=this._map.wrapLatLngBounds($)),$},_tileCoordsToKey:function(_){return _.x+":"+_.y+":"+_.z},_keyToTileCoords:function(_){var w=_.split(":"),$=new Y(+w[0],+w[1]);return $.z=+w[2],$},_removeTile:function(_){var w=this._tiles[_];w&&(we(w.el),delete this._tiles[_],this.fire("tileunload",{tile:w.el,coords:this._keyToTileCoords(_)}))},_initTile:function(_){de(_,"leaflet-tile");var w=this.getTileSize();_.style.width=w.x+"px",_.style.height=w.y+"px",_.onselectstart=j,_.onmousemove=j,ee.ielt9&&this.options.opacity<1&&ze(_,this.options.opacity)},_addTile:function(_,w){var $=this._getTilePos(_),N=this._tileCoordsToKey(_),I=this.createTile(this._wrapCoords(_),P(this._tileReady,this,_));this._initTile(I),this.createTile.length<2&&G(P(this._tileReady,this,_,null,I)),Ve(I,$),this._tiles[N]={el:I,coords:_,current:!0},w.appendChild(I),this.fire("tileloadstart",{tile:I,coords:_})},_tileReady:function(_,w,$){w&&this.fire("tileerror",{error:w,tile:$,coords:_});var N=this._tileCoordsToKey(_);$=this._tiles[N],$&&($.loaded=+new Date,this._map._fadeAnimated?(ze($.el,0),ue(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this)):($.active=!0,this._pruneTiles()),w||(de($.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:$.el,coords:_})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ee.ielt9||!this._map._fadeAnimated?G(this._pruneTiles,this):setTimeout(P(this._pruneTiles,this),250)))},_getTilePos:function(_){return _.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(_){var w=new Y(this._wrapX?T(_.x,this._wrapX):_.x,this._wrapY?T(_.y,this._wrapY):_.y);return w.z=_.z,w},_pxBoundsToTileRange:function(_){var w=this.getTileSize();return new ve(_.min.unscaleBy(w).floor(),_.max.unscaleBy(w).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var _ in this._tiles)if(!this._tiles[_].loaded)return!1;return!0}});function Ga(_){return new Ct(_)}var ht=Ct.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(_,w){this._url=_,w=M(this,w),w.detectRetina&&ee.retina&&w.maxZoom>0?(w.tileSize=Math.floor(w.tileSize/2),w.zoomReverse?(w.zoomOffset--,w.minZoom=Math.min(w.maxZoom,w.minZoom+1)):(w.zoomOffset++,w.maxZoom=Math.max(w.minZoom,w.maxZoom-1)),w.minZoom=Math.max(0,w.minZoom)):w.zoomReverse?w.minZoom=Math.min(w.maxZoom,w.minZoom):w.maxZoom=Math.max(w.minZoom,w.maxZoom),typeof w.subdomains=="string"&&(w.subdomains=w.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(_,w){return this._url===_&&w===void 0&&(w=!0),this._url=_,w||this.redraw(),this},createTile:function(_,w){var $=document.createElement("img");return ce($,"load",P(this._tileOnLoad,this,w,$)),ce($,"error",P(this._tileOnError,this,w,$)),(this.options.crossOrigin||this.options.crossOrigin==="")&&($.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&($.referrerPolicy=this.options.referrerPolicy),$.alt="",$.src=this.getTileUrl(_),$},getTileUrl:function(_){var w={r:ee.retina?"@2x":"",s:this._getSubdomain(_),x:_.x,y:_.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var $=this._globalTileRange.max.y-_.y;this.options.tms&&(w.y=$),w["-y"]=$}return _e(this._url,V(w,this.options))},_tileOnLoad:function(_,w){ee.ielt9?setTimeout(P(_,this,null,w),0):_(null,w)},_tileOnError:function(_,w,$){var N=this.options.errorTileUrl;N&&w.getAttribute("src")!==N&&(w.src=N),_($,w)},_onTileRemove:function(_){_.tile.onload=null},_getZoomForUrl:function(){var _=this._tileZoom,w=this.options.maxZoom,$=this.options.zoomReverse,N=this.options.zoomOffset;return $&&(_=w-_),_+N},_getSubdomain:function(_){var w=Math.abs(_.x+_.y)%this.options.subdomains.length;return this.options.subdomains[w]},_abortLoading:function(){var _,w;for(_ in this._tiles)if(this._tiles[_].coords.z!==this._tileZoom&&(w=this._tiles[_].el,w.onload=j,w.onerror=j,!w.complete)){w.src=Ze;var $=this._tiles[_].coords;we(w),delete this._tiles[_],this.fire("tileabort",{tile:w,coords:$})}},_removeTile:function(_){var w=this._tiles[_];if(w)return w.el.setAttribute("src",Ze),Ct.prototype._removeTile.call(this,_)},_tileReady:function(_,w,$){if(!(!this._map||$&&$.getAttribute("src")===Ze))return Ct.prototype._tileReady.call(this,_,w,$)}});function xr(_,w){return new ht(_,w)}var wr=ht.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(_,w){this._url=_;var $=V({},this.defaultWmsParams);for(var N in w)N in this.options||($[N]=w[N]);w=M(this,w);var I=w.detectRetina&&ee.retina?2:1,F=this.getTileSize();$.width=F.x*I,$.height=F.y*I,this.wmsParams=$},onAdd:function(_){this._crs=this.options.crs||_.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var w=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[w]=this._crs.code,ht.prototype.onAdd.call(this,_)},getTileUrl:function(_){var w=this._tileCoordsToNwSe(_),$=this._crs,N=Pe($.project(w[0]),$.project(w[1])),I=N.min,F=N.max,A=(this._wmsVersion>=1.3&&this._crs===fr?[I.y,I.x,F.y,F.x]:[I.x,I.y,F.x,F.y]).join(","),O=ht.prototype.getTileUrl.call(this,_);return O+W(this.wmsParams,O,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+A},setParams:function(_,w){return V(this.wmsParams,_),w||this.redraw(),this}});function Ya(_,w){return new wr(_,w)}ht.WMS=wr,xr.wms=Ya;var Ye=Re.extend({options:{padding:.1},initialize:function(_){M(this,_),D(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),de(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var _={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(_.zoomanim=this._onAnimZoom),_},_onAnimZoom:function(_){this._updateTransform(_.center,_.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(_,w){var $=this._map.getZoomScale(w,this._zoom),N=this._map.getSize().multiplyBy(.5+this.options.padding),I=this._map.project(this._center,w),F=N.multiplyBy(-$).add(I).subtract(this._map._getNewPixelOrigin(_,w));ee.any3d?et(this._container,F,$):Ve(this._container,F)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var _ in this._layers)this._layers[_]._reset()},_onZoomEnd:function(){for(var _ in this._layers)this._layers[_]._project()},_updatePaths:function(){for(var _ in this._layers)this._layers[_]._update()},_update:function(){var _=this.options.padding,w=this._map.getSize(),$=this._map.containerPointToLayerPoint(w.multiplyBy(-_)).round();this._bounds=new ve($,$.add(w.multiplyBy(1+_*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Br=Ye.extend({options:{tolerance:0},getEvents:function(){var _=Ye.prototype.getEvents.call(this);return _.viewprereset=this._onViewPreReset,_},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ye.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var _=this._container=document.createElement("canvas");ce(_,"mousemove",this._onMouseMove,this),ce(_,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ce(_,"mouseout",this._handleMouseOut,this),_._leaflet_disable_events=!0,this._ctx=_.getContext("2d")},_destroyContainer:function(){ue(this._redrawRequest),delete this._ctx,we(this._container),xe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var _;this._redrawBounds=null;for(var w in this._layers)_=this._layers[w],_._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ye.prototype._update.call(this);var _=this._bounds,w=this._container,$=_.getSize(),N=ee.retina?2:1;Ve(w,_.min),w.width=N*$.x,w.height=N*$.y,w.style.width=$.x+"px",w.style.height=$.y+"px",ee.retina&&this._ctx.scale(2,2),this._ctx.translate(-_.min.x,-_.min.y),this.fire("update")}},_reset:function(){Ye.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(_){this._updateDashArray(_),this._layers[D(_)]=_;var w=_._order={layer:_,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=w),this._drawLast=w,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(_){this._requestRedraw(_)},_removePath:function(_){var w=_._order,$=w.next,N=w.prev;$?$.prev=N:this._drawLast=N,N?N.next=$:this._drawFirst=$,delete _._order,delete this._layers[D(_)],this._requestRedraw(_)},_updatePath:function(_){this._extendRedrawBounds(_),_._project(),_._update(),this._requestRedraw(_)},_updateStyle:function(_){this._updateDashArray(_),this._requestRedraw(_)},_updateDashArray:function(_){if(typeof _.options.dashArray=="string"){var w=_.options.dashArray.split(/[, ]+/),$=[],N,I;for(I=0;I<w.length;I++){if(N=Number(w[I]),isNaN(N))return;$.push(N)}_.options._dashArray=$}else _.options._dashArray=_.options.dashArray},_requestRedraw:function(_){this._map&&(this._extendRedrawBounds(_),this._redrawRequest=this._redrawRequest||G(this._redraw,this))},_extendRedrawBounds:function(_){if(_._pxBounds){var w=(_.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ve,this._redrawBounds.extend(_._pxBounds.min.subtract([w,w])),this._redrawBounds.extend(_._pxBounds.max.add([w,w]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var _=this._redrawBounds;if(_){var w=_.getSize();this._ctx.clearRect(_.min.x,_.min.y,w.x,w.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var _,w=this._redrawBounds;if(this._ctx.save(),w){var $=w.getSize();this._ctx.beginPath(),this._ctx.rect(w.min.x,w.min.y,$.x,$.y),this._ctx.clip()}this._drawing=!0;for(var N=this._drawFirst;N;N=N.next)_=N.layer,(!w||_._pxBounds&&_._pxBounds.intersects(w))&&_._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(_,w){if(this._drawing){var $,N,I,F,A=_._parts,O=A.length,H=this._ctx;if(O){for(H.beginPath(),$=0;$<O;$++){for(N=0,I=A[$].length;N<I;N++)F=A[$][N],H[N?"lineTo":"moveTo"](F.x,F.y);w&&H.closePath()}this._fillStroke(H,_)}}},_updateCircle:function(_){if(!(!this._drawing||_._empty())){var w=_._point,$=this._ctx,N=Math.max(Math.round(_._radius),1),I=(Math.max(Math.round(_._radiusY),1)||N)/N;I!==1&&($.save(),$.scale(1,I)),$.beginPath(),$.arc(w.x,w.y/I,N,0,Math.PI*2,!1),I!==1&&$.restore(),this._fillStroke($,_)}},_fillStroke:function(_,w){var $=w.options;$.fill&&(_.globalAlpha=$.fillOpacity,_.fillStyle=$.fillColor||$.color,_.fill($.fillRule||"evenodd")),$.stroke&&$.weight!==0&&(_.setLineDash&&_.setLineDash(w.options&&w.options._dashArray||[]),_.globalAlpha=$.opacity,_.lineWidth=$.weight,_.strokeStyle=$.color,_.lineCap=$.lineCap,_.lineJoin=$.lineJoin,_.stroke())},_onClick:function(_){for(var w=this._map.mouseEventToLayerPoint(_),$,N,I=this._drawFirst;I;I=I.next)$=I.layer,$.options.interactive&&$._containsPoint(w)&&(!(_.type==="click"||_.type==="preclick")||!this._map._draggableMoved($))&&(N=$);this._fireEvent(N?[N]:!1,_)},_onMouseMove:function(_){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var w=this._map.mouseEventToLayerPoint(_);this._handleMouseHover(_,w)}},_handleMouseOut:function(_){var w=this._hoveredLayer;w&&($e(this._container,"leaflet-interactive"),this._fireEvent([w],_,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(_,w){if(!this._mouseHoverThrottled){for(var $,N,I=this._drawFirst;I;I=I.next)$=I.layer,$.options.interactive&&$._containsPoint(w)&&(N=$);N!==this._hoveredLayer&&(this._handleMouseOut(_),N&&(de(this._container,"leaflet-interactive"),this._fireEvent([N],_,"mouseover"),this._hoveredLayer=N)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,_),this._mouseHoverThrottled=!0,setTimeout(P(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(_,w,$){this._map._fireDOMEvent(w,$||w.type,_)},_bringToFront:function(_){var w=_._order;if(w){var $=w.next,N=w.prev;if($)$.prev=N;else return;N?N.next=$:$&&(this._drawFirst=$),w.prev=this._drawLast,this._drawLast.next=w,w.next=null,this._drawLast=w,this._requestRedraw(_)}},_bringToBack:function(_){var w=_._order;if(w){var $=w.next,N=w.prev;if(N)N.next=$;else return;$?$.prev=N:N&&(this._drawLast=N),w.prev=null,w.next=this._drawFirst,this._drawFirst.prev=w,this._drawFirst=w,this._requestRedraw(_)}}});function Cr(_){return ee.canvas?new Br(_):null}var $t=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(_){return document.createElement("<lvml:"+_+' class="lvml">')}}catch{}return function(_){return document.createElement("<"+_+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Xa={_initContainer:function(){this._container=pe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ye.prototype._update.call(this),this.fire("update"))},_initPath:function(_){var w=_._container=$t("shape");de(w,"leaflet-vml-shape "+(this.options.className||"")),w.coordsize="1 1",_._path=$t("path"),w.appendChild(_._path),this._updateStyle(_),this._layers[D(_)]=_},_addPath:function(_){var w=_._container;this._container.appendChild(w),_.options.interactive&&_.addInteractiveTarget(w)},_removePath:function(_){var w=_._container;we(w),_.removeInteractiveTarget(w),delete this._layers[D(_)]},_updateStyle:function(_){var w=_._stroke,$=_._fill,N=_.options,I=_._container;I.stroked=!!N.stroke,I.filled=!!N.fill,N.stroke?(w||(w=_._stroke=$t("stroke")),I.appendChild(w),w.weight=N.weight+"px",w.color=N.color,w.opacity=N.opacity,N.dashArray?w.dashStyle=ae(N.dashArray)?N.dashArray.join(" "):N.dashArray.replace(/( *, *)/g," "):w.dashStyle="",w.endcap=N.lineCap.replace("butt","flat"),w.joinstyle=N.lineJoin):w&&(I.removeChild(w),_._stroke=null),N.fill?($||($=_._fill=$t("fill")),I.appendChild($),$.color=N.fillColor||N.color,$.opacity=N.fillOpacity):$&&(I.removeChild($),_._fill=null)},_updateCircle:function(_){var w=_._point.round(),$=Math.round(_._radius),N=Math.round(_._radiusY||$);this._setPath(_,_._empty()?"M0 0":"AL "+w.x+","+w.y+" "+$+","+N+" 0,"+65535*360)},_setPath:function(_,w){_._path.v=w},_bringToFront:function(_){nt(_._container)},_bringToBack:function(_){st(_._container)}},Zt=ee.vml?$t:No,St=Ye.extend({_initContainer:function(){this._container=Zt("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Zt("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){we(this._container),xe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ye.prototype._update.call(this);var _=this._bounds,w=_.getSize(),$=this._container;(!this._svgSize||!this._svgSize.equals(w))&&(this._svgSize=w,$.setAttribute("width",w.x),$.setAttribute("height",w.y)),Ve($,_.min),$.setAttribute("viewBox",[_.min.x,_.min.y,w.x,w.y].join(" ")),this.fire("update")}},_initPath:function(_){var w=_._path=Zt("path");_.options.className&&de(w,_.options.className),_.options.interactive&&de(w,"leaflet-interactive"),this._updateStyle(_),this._layers[D(_)]=_},_addPath:function(_){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(_._path),_.addInteractiveTarget(_._path)},_removePath:function(_){we(_._path),_.removeInteractiveTarget(_._path),delete this._layers[D(_)]},_updatePath:function(_){_._project(),_._update()},_updateStyle:function(_){var w=_._path,$=_.options;w&&($.stroke?(w.setAttribute("stroke",$.color),w.setAttribute("stroke-opacity",$.opacity),w.setAttribute("stroke-width",$.weight),w.setAttribute("stroke-linecap",$.lineCap),w.setAttribute("stroke-linejoin",$.lineJoin),$.dashArray?w.setAttribute("stroke-dasharray",$.dashArray):w.removeAttribute("stroke-dasharray"),$.dashOffset?w.setAttribute("stroke-dashoffset",$.dashOffset):w.removeAttribute("stroke-dashoffset")):w.setAttribute("stroke","none"),$.fill?(w.setAttribute("fill",$.fillColor||$.color),w.setAttribute("fill-opacity",$.fillOpacity),w.setAttribute("fill-rule",$.fillRule||"evenodd")):w.setAttribute("fill","none"))},_updatePoly:function(_,w){this._setPath(_,Po(_._parts,w))},_updateCircle:function(_){var w=_._point,$=Math.max(Math.round(_._radius),1),N=Math.max(Math.round(_._radiusY),1)||$,I="a"+$+","+N+" 0 1,0 ",F=_._empty()?"M0 0":"M"+(w.x-$)+","+w.y+I+$*2+",0 "+I+-$*2+",0 ";this._setPath(_,F)},_setPath:function(_,w){_._path.setAttribute("d",w)},_bringToFront:function(_){nt(_._path)},_bringToBack:function(_){st(_._path)}});ee.vml&&St.include(Xa);function $r(_){return ee.svg||ee.vml?new St(_):null}me.include({getRenderer:function(_){var w=_.options.renderer||this._getPaneRenderer(_.options.pane)||this.options.renderer||this._renderer;return w||(w=this._renderer=this._createRenderer()),this.hasLayer(w)||this.addLayer(w),w},_getPaneRenderer:function(_){if(_==="overlayPane"||_===void 0)return!1;var w=this._paneRenderers[_];return w===void 0&&(w=this._createRenderer({pane:_}),this._paneRenderers[_]=w),w},_createRenderer:function(_){return this.options.preferCanvas&&Cr(_)||$r(_)}});var Sr=dt.extend({initialize:function(_,w){dt.prototype.initialize.call(this,this._boundsToLatLngs(_),w)},setBounds:function(_){return this.setLatLngs(this._boundsToLatLngs(_))},_boundsToLatLngs:function(_){return _=Se(_),[_.getSouthWest(),_.getNorthWest(),_.getNorthEast(),_.getSouthEast()]}});function Ja(_,w){return new Sr(_,w)}St.create=Zt,St.pointsToPath=Po,Ge.geometryToLayer=Tt,Ge.coordsToLatLng=Bo,Ge.coordsToLatLngs=At,Ge.latLngToCoords=Co,Ge.latLngsToCoords=Rt,Ge.getFeature=ut,Ge.asFeature=Ot,me.mergeOptions({boxZoom:!0});var Vr=Ue.extend({initialize:function(_){this._map=_,this._container=_._container,this._pane=_._panes.overlayPane,this._resetStateTimeout=0,_.on("unload",this._destroy,this)},addHooks:function(){ce(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){xe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){we(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(_){if(!_.shiftKey||_.which!==1&&_.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),bt(),no(),this._startPoint=this._map.mouseEventToContainerPoint(_),ce(document,{contextmenu:rt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(_){this._moved||(this._moved=!0,this._box=pe("div","leaflet-zoom-box",this._container),de(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(_);var w=new ve(this._point,this._startPoint),$=w.getSize();Ve(this._box,w.min),this._box.style.width=$.x+"px",this._box.style.height=$.y+"px"},_finish:function(){this._moved&&(we(this._box),$e(this._container,"leaflet-crosshair")),vt(),so(),xe(document,{contextmenu:rt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(_){if(!(_.which!==1&&_.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(P(this._resetState,this),0);var w=new Ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(w).fire("boxzoomend",{boxZoomBounds:w})}},_onKeyDown:function(_){_.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});me.addInitHook("addHandler","boxZoom",Vr),me.mergeOptions({doubleClickZoom:!0});var Nr=Ue.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(_){var w=this._map,$=w.getZoom(),N=w.options.zoomDelta,I=_.originalEvent.shiftKey?$-N:$+N;w.options.doubleClickZoom==="center"?w.setZoom(I):w.setZoomAround(_.containerPoint,I)}});me.addInitHook("addHandler","doubleClickZoom",Nr),me.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Pr=Ue.extend({addHooks:function(){if(!this._draggable){var _=this._map;this._draggable=new Je(_._mapPane,_._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),_.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),_.on("zoomend",this._onZoomEnd,this),_.whenReady(this._onZoomEnd,this))}de(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){$e(this._map._container,"leaflet-grab"),$e(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var _=this._map;if(_._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var w=Se(this._map.options.maxBounds);this._offsetLimit=Pe(this._map.latLngToContainerPoint(w.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(w.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;_.fire("movestart").fire("dragstart"),_.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(_){if(this._map.options.inertia){var w=this._lastTime=+new Date,$=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push($),this._times.push(w),this._prunePositions(w)}this._map.fire("move",_).fire("drag",_)},_prunePositions:function(_){for(;this._positions.length>1&&_-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var _=this._map.getSize().divideBy(2),w=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=w.subtract(_).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(_,w){return _-(_-w)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var _=this._draggable._newPos.subtract(this._draggable._startPos),w=this._offsetLimit;_.x<w.min.x&&(_.x=this._viscousLimit(_.x,w.min.x)),_.y<w.min.y&&(_.y=this._viscousLimit(_.y,w.min.y)),_.x>w.max.x&&(_.x=this._viscousLimit(_.x,w.max.x)),_.y>w.max.y&&(_.y=this._viscousLimit(_.y,w.max.y)),this._draggable._newPos=this._draggable._startPos.add(_)}},_onPreDragWrap:function(){var _=this._worldWidth,w=Math.round(_/2),$=this._initialWorldOffset,N=this._draggable._newPos.x,I=(N-w+$)%_+w-$,F=(N+w+$)%_-w-$,A=Math.abs(I+$)<Math.abs(F+$)?I:F;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=A},_onDragEnd:function(_){var w=this._map,$=w.options,N=!$.inertia||_.noInertia||this._times.length<2;if(w.fire("dragend",_),N)w.fire("moveend");else{this._prunePositions(+new Date);var I=this._lastPos.subtract(this._positions[0]),F=(this._lastTime-this._times[0])/1e3,A=$.easeLinearity,O=I.multiplyBy(A/F),H=O.distanceTo([0,0]),q=Math.min($.inertiaMaxSpeed,H),X=O.multiplyBy(q/H),re=q/($.inertiaDeceleration*A),he=X.multiplyBy(-re/2).round();!he.x&&!he.y?w.fire("moveend"):(he=w._limitOffset(he,w.options.maxBounds),G(function(){w.panBy(he,{duration:re,easeLinearity:A,noMoveStart:!0,animate:!0})}))}}});me.addInitHook("addHandler","dragging",Pr),me.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ir=Ue.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(_){this._map=_,this._setPanDelta(_.options.keyboardPanDelta),this._setZoomDelta(_.options.zoomDelta)},addHooks:function(){var _=this._map._container;_.tabIndex<=0&&(_.tabIndex="0"),ce(_,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),xe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var _=document.body,w=document.documentElement,$=_.scrollTop||w.scrollTop,N=_.scrollLeft||w.scrollLeft;this._map._container.focus(),window.scrollTo(N,$)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(_){var w=this._panKeys={},$=this.keyCodes,N,I;for(N=0,I=$.left.length;N<I;N++)w[$.left[N]]=[-1*_,0];for(N=0,I=$.right.length;N<I;N++)w[$.right[N]]=[_,0];for(N=0,I=$.down.length;N<I;N++)w[$.down[N]]=[0,_];for(N=0,I=$.up.length;N<I;N++)w[$.up[N]]=[0,-1*_]},_setZoomDelta:function(_){var w=this._zoomKeys={},$=this.keyCodes,N,I;for(N=0,I=$.zoomIn.length;N<I;N++)w[$.zoomIn[N]]=_;for(N=0,I=$.zoomOut.length;N<I;N++)w[$.zoomOut[N]]=-_},_addHooks:function(){ce(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){xe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(_){if(!(_.altKey||_.ctrlKey||_.metaKey)){var w=_.keyCode,$=this._map,N;if(w in this._panKeys){if(!$._panAnim||!$._panAnim._inProgress)if(N=this._panKeys[w],_.shiftKey&&(N=oe(N).multiplyBy(3)),$.options.maxBounds&&(N=$._limitOffset(oe(N),$.options.maxBounds)),$.options.worldCopyJump){var I=$.wrapLatLng($.unproject($.project($.getCenter()).add(N)));$.panTo(I)}else $.panBy(N)}else if(w in this._zoomKeys)$.setZoom($.getZoom()+(_.shiftKey?3:1)*this._zoomKeys[w]);else if(w===27&&$._popup&&$._popup.options.closeOnEscapeKey)$.closePopup();else return;rt(_)}}});me.addInitHook("addHandler","keyboard",Ir),me.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Lr=Ue.extend({addHooks:function(){ce(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){xe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(_){var w=or(_),$=this._map.options.wheelDebounceTime;this._delta+=w,this._lastMousePos=this._map.mouseEventToContainerPoint(_),this._startTime||(this._startTime=+new Date);var N=Math.max($-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(P(this._performZoom,this),N),rt(_)},_performZoom:function(){var _=this._map,w=_.getZoom(),$=this._map.options.zoomSnap||0;_._stop();var N=this._delta/(this._map.options.wheelPxPerZoomLevel*4),I=4*Math.log(2/(1+Math.exp(-Math.abs(N))))/Math.LN2,F=$?Math.ceil(I/$)*$:I,A=_._limitZoom(w+(this._delta>0?F:-F))-w;this._delta=0,this._startTime=null,A&&(_.options.scrollWheelZoom==="center"?_.setZoom(w+A):_.setZoomAround(this._lastMousePos,w+A))}});me.addInitHook("addHandler","scrollWheelZoom",Lr);var Qa=600;me.mergeOptions({tapHold:ee.touchNative&&ee.safari&&ee.mobile,tapTolerance:15});var Er=Ue.extend({addHooks:function(){ce(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){xe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(_){if(clearTimeout(this._holdTimeout),_.touches.length===1){var w=_.touches[0];this._startPos=this._newPos=new Y(w.clientX,w.clientY),this._holdTimeout=setTimeout(P(function(){this._cancel(),this._isTapValid()&&(ce(document,"touchend",Le),ce(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",w))},this),Qa),ce(document,"touchend touchcancel contextmenu",this._cancel,this),ce(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function _(){xe(document,"touchend",Le),xe(document,"touchend touchcancel",_)},_cancel:function(){clearTimeout(this._holdTimeout),xe(document,"touchend touchcancel contextmenu",this._cancel,this),xe(document,"touchmove",this._onMove,this)},_onMove:function(_){var w=_.touches[0];this._newPos=new Y(w.clientX,w.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(_,w){var $=new MouseEvent(_,{bubbles:!0,cancelable:!0,view:window,screenX:w.screenX,screenY:w.screenY,clientX:w.clientX,clientY:w.clientY});$._simulated=!0,w.target.dispatchEvent($)}});me.addInitHook("addHandler","tapHold",Er),me.mergeOptions({touchZoom:ee.touch,bounceAtZoomLimits:!0});var Dr=Ue.extend({addHooks:function(){de(this._map._container,"leaflet-touch-zoom"),ce(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){$e(this._map._container,"leaflet-touch-zoom"),xe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(_){var w=this._map;if(!(!_.touches||_.touches.length!==2||w._animatingZoom||this._zooming)){var $=w.mouseEventToContainerPoint(_.touches[0]),N=w.mouseEventToContainerPoint(_.touches[1]);this._centerPoint=w.getSize()._divideBy(2),this._startLatLng=w.containerPointToLatLng(this._centerPoint),w.options.touchZoom!=="center"&&(this._pinchStartLatLng=w.containerPointToLatLng($.add(N)._divideBy(2))),this._startDist=$.distanceTo(N),this._startZoom=w.getZoom(),this._moved=!1,this._zooming=!0,w._stop(),ce(document,"touchmove",this._onTouchMove,this),ce(document,"touchend touchcancel",this._onTouchEnd,this),Le(_)}},_onTouchMove:function(_){if(!(!_.touches||_.touches.length!==2||!this._zooming)){var w=this._map,$=w.mouseEventToContainerPoint(_.touches[0]),N=w.mouseEventToContainerPoint(_.touches[1]),I=$.distanceTo(N)/this._startDist;if(this._zoom=w.getScaleZoom(I,this._startZoom),!w.options.bounceAtZoomLimits&&(this._zoom<w.getMinZoom()&&I<1||this._zoom>w.getMaxZoom()&&I>1)&&(this._zoom=w._limitZoom(this._zoom)),w.options.touchZoom==="center"){if(this._center=this._startLatLng,I===1)return}else{var F=$._add(N)._divideBy(2)._subtract(this._centerPoint);if(I===1&&F.x===0&&F.y===0)return;this._center=w.unproject(w.project(this._pinchStartLatLng,this._zoom).subtract(F),this._zoom)}this._moved||(w._moveStart(!0,!1),this._moved=!0),ue(this._animRequest);var A=P(w._move,w,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=G(A,this,!0),Le(_)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ue(this._animRequest),xe(document,"touchmove",this._onTouchMove,this),xe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});me.addInitHook("addHandler","touchZoom",Dr),me.BoxZoom=Vr,me.DoubleClickZoom=Nr,me.Drag=Pr,me.Keyboard=Ir,me.ScrollWheelZoom=Lr,me.TapHold=Er,me.TouchZoom=Dr,B.Bounds=ve,B.Browser=ee,B.CRS=qe,B.Canvas=Br,B.Circle=wo,B.CircleMarker=Ft,B.Class=le,B.Control=Ae,B.DivIcon=kr,B.DivOverlay=He,B.DomEvent=_a,B.DomUtil=fa,B.Draggable=Je,B.Evented=J,B.FeatureGroup=We,B.GeoJSON=Ge,B.GridLayer=Ct,B.Handler=Ue,B.Icon=ct,B.ImageOverlay=jt,B.LatLng=ye,B.LatLngBounds=Ce,B.Layer=Re,B.LayerGroup=lt,B.LineUtil=Pa,B.Map=me,B.Marker=zt,B.Mixin=Ba,B.Path=Qe,B.Point=Y,B.PolyUtil=Ca,B.Polygon=dt,B.Polyline=Ke,B.Popup=Ut,B.PosAnimation=rr,B.Projection=Ia,B.Rectangle=Sr,B.Renderer=Ye,B.SVG=St,B.SVGOverlay=yr,B.TileLayer=ht,B.Tooltip=Ht,B.Transformation=Kt,B.Util=be,B.VideoOverlay=vr,B.bind=P,B.bounds=Pe,B.canvas=Cr,B.circle=Aa,B.circleMarker=Ta,B.control=xt,B.divIcon=Ka,B.extend=V,B.featureGroup=Ma,B.geoJSON=br,B.geoJson=ja,B.gridLayer=Ga,B.icon=za,B.imageOverlay=Ua,B.latLng=ge,B.latLngBounds=Se,B.layerGroup=Da,B.map=ba,B.marker=Fa,B.point=oe,B.polygon=Oa,B.polyline=Ra,B.popup=qa,B.rectangle=Ja,B.setOptions=M,B.stamp=D,B.svg=$r,B.svgOverlay=Za,B.tileLayer=xr,B.tooltip=Wa,B.transformation=mt,B.version=S,B.videoOverlay=Ha;var ei=window.L;B.noConflict=function(){return window.L=ei,this},window.L=B})})(leafletSrc,leafletSrc.exports);var leafletSrcExports=leafletSrc.exports;const L$1=getDefaultExportFromCjs(leafletSrcExports);delete L$1.Icon.Default.prototype._getIconUrl;L$1.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"});const _sfc_main$h={name:"ProductDetail",components:{ProductListing:__unplugin_components_0$7},setup(){const x=useItemStore(),y=useDashboardStore(),B=useSettingsStore();return{itemStore:x,dashboardStore:y,settingsStore:B}},data(){return{product:null,loading:!1,productsLoaded:!1,selectedImage:null,isGalleryModalOpen:!1,gallerySelectedImage:null,lightboxImage:null,isHovering:!1,isHoveringThumbnail:!1,hoveredThumbnailImage:null,hoveredImage:null,mousePosition:{x:0,y:0},thumbnailMousePosition:{x:0,y:0},mainImageRect:null,thumbnailImageRect:null,map:null,marker:null,mapInitRetryCount:0,maxMapInitRetries:10,mainImageLoaded:!1}},computed:{settings(){return this.settingsStore.getSettings()},whatsappUrl(){var x,y,B;return((B=(y=(x=this.settings)==null?void 0:x.navigation)==null?void 0:y.buttons)==null?void 0:B.whatsappUrl)||null},productDetail(){return{breadcrumbs:{home:"Home",products:"Products"},labels:{description:"Description",productDetails:"Product Details",size:"Size",bed:"Bed",bath:"Bath",category:"Category",year:"Year",status:"Status",return:"Return:",location:"Location"},buttons:{buyNow:"Buy Now",contactSeller:"Contact Seller",contactUs:"Contact Us",getInTouch:"Get in Touch",viewAllImages:"View All",showLess:"Show Less"},notFound:{title:"Product Not Found",message:"The product you're looking for doesn't exist.",browseButton:"Browse Products"}}},relatedProducts(){if(!this.product||!this.itemStore.items||this.itemStore.items.length===0)return[];const x=this.itemStore.items.filter(B=>{const S=B.Category||B.category,V=this.product.category;return B.id!==this.product.id&&S===V});let y=x.length>0?x:this.itemStore.items.filter(B=>B.id!==this.product.id);return y=y.sort(()=>Math.random()-.5),y.slice(0,3).map(B=>this.transformProduct(B))},relatedProductsData(){return{items:this.relatedProducts,total:this.relatedProducts.length,itemsPerPage:3}},relatedProductsLabels(){return{showing:"Showing",of:"of",results:"results"}},relatedProductsSortData(){return{label:"Sort by:",options:["Newest","Price: Low to High","Price: High to Low"]}}},async mounted(){try{this.loading=!0,await this.settingsStore.loadSettings();const x=this.$route.params.slug;if(!x){console.error("No slug parameter in route:",this.$route.params),this.product=null;return}await this.loadProductBySlug(x)}catch(x){console.error("Error loading product:",x),this.product=null}finally{this.loading=!1}},watch:{async $route(x){try{this.loading=!0;const y=x.params.slug;await this.loadProductBySlug(y),this.selectedImage=null,this.closeGalleryModal(),this.isHovering=!1,this.$nextTick(()=>{this.$nextTick(()=>{this.product&&this.product.latitude&&this.product.longitude&&this.initMap()})})}catch(y){console.error("Error loading product:",y)}finally{this.loading=!1}},product(x){var y;x&&x.latitude&&x.longitude&&this.$nextTick(()=>{this.$nextTick(()=>{this.initMap()})}),this.gallerySelectedImage=((y=x==null?void 0:x.images)==null?void 0:y[0])||null},selectedImage(){this.isHovering=!1,this.isHoveringThumbnail=!1,this.hoveredImage=null,this.isGalleryModalOpen||(this.gallerySelectedImage=this.selectedImage||null)},isGalleryModalOpen(x){var y,B;document.body.style.overflow=x?"hidden":"",x&&(this.gallerySelectedImage=this.selectedImage||((B=(y=this.product)==null?void 0:y.images)==null?void 0:B[0])||null)}},beforeUnmount(){document.body.style.overflow=""},methods:{async loadProducts(){var x;try{if(this.itemStore.items&&this.itemStore.items.length>0&&this.itemStore.databaseId&&this.dashboardStore.productsDatabaseId&&(this.itemStore.databaseId===this.dashboardStore.productsDatabaseId||((x=this.itemStore.databaseInfo)==null?void 0:x.id)===this.dashboardStore.productsDatabaseId)){this.productsLoaded=!0;return}this.dashboardStore.productsDatabaseId||await this.dashboardStore.initializeDashboard(!1,{skipAggregations:!0,skipRecentActivity:!0});const y=this.dashboardStore.productsDatabaseId;if(!y){console.warn("Products database ID not found");return}this.itemStore.setDatabaseId(y),await this.itemStore.ensureSchemaLoaded(),this.itemStore.databaseInfo&&this.itemStore.databaseInfo.id&&(this.itemStore.setDatabaseId(this.itemStore.databaseInfo.id),await this.itemStore.ensureSchemaLoaded()),await this.itemStore.fetchAllItems({approvedOnly:!0}),this.productsLoaded=!0}catch(y){console.error("Error loading products:",y),this.productsLoaded=!1}},transformProduct(x){if(!x)return null;let y=null,B=[];const S=x.Images||x.images;if(S){if(Array.isArray(S)){const R=[];for(const Z of S)typeof Z=="string"&&this.isImageUrl(Z)?R.push(Z):typeof Z=="object"&&(Z.url&&this.isImageUrl(Z.url)?R.push(Z.url):Z.name&&this.isImageUrl(Z.name)&&R.push(Z.name));R.length>0&&(B=R,y=R[0])}if(!B.length&&typeof S=="string"){const R=this.getImageUrlsFromValue(S);R.length>0&&(B=R,y=R[0])}}if(B.length===0){const R=["Image","image","Photo","photo","Picture","picture","Thumbnail","thumbnail"];for(const Z of R)if(x[Z])if(Array.isArray(x[Z])&&x[Z].length>0)if(x[Z][0].url){const U=x[Z].map(M=>M.url).filter(Boolean);B.push(...U),!y&&U.length>0&&(y=U[0])}else{const U=x[Z].map(M=>typeof M=="string"?M:M.url?M.url:M.external&&M.external.url?M.external.url:M.file&&M.file.url?M.file.url:null).filter(M=>M&&typeof M=="string");B.push(...U),!y&&U.length>0&&(y=U[0])}else typeof x[Z]=="string"&&x[Z].startsWith("http")&&(B.includes(x[Z])||B.push(x[Z]),y||(y=x[Z]))}if(B.length===0){for(const R in x)if(Array.isArray(x[R])&&x[R].length>0)if(x[R][0].url){const Z=x[R].map(U=>U.url).filter(Boolean);B.push(...Z),!y&&Z.length>0&&(y=Z[0])}else{const Z=x[R].map(U=>typeof U=="string"&&U.startsWith("http")?U:U&&U.url?U.url:U&&U.external&&U.external.url?U.external.url:U&&U.file&&U.file.url?U.file.url:null).filter(U=>U&&typeof U=="string");Z.length>0&&(B.push(...Z),y||(y=Z[0]))}}B=[...new Set(B)];const V=["Title","title","Name","name"];let C="Untitled";for(const R of V){const Z=x[R];if(Z){if(typeof Z=="string"&&Z.trim()){C=Z.trim();break}else if(Array.isArray(Z)&&Z.length>0){const U=Z.map(M=>typeof M=="string"?M:M&&typeof M=="object"&&M.plain_text?M.plain_text:M&&typeof M=="object"&&M.text?M.text:"").join("").trim();if(U){C=U;break}}}}let P=x.Slug||x.slug||C.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");const E=x.Price||x.price||"";let D=E;if(E!==""&&E!==null&&E!==void 0){const R=this.itemStore.schema,Z=getPriceFormatFromSchema(R,"Price")||getPriceFormatFromSchema(R,"price");D=formatPrice(E,Z)}const z={id:x.id,slug:P,image:y||"",images:B.length>0?B:y?[y]:[],title:C,description:x.Description||x.description||"",location:x.Location||x.location||"",size:x.Size||x.size||"",price:D,percentage:x.Percentage||x.percentage||"",year:x.Year||x.year||"",category:x.Category||x.category||"",status:x.Status||x.status||"",bed:x.Bed||x.bed||"",bath:x.Bath||x.bath||"",latitude:x.Latitude||x.latitude||null,longitude:x.Longitude||x.longitude||null},T={...x};return["Image","image","Photo","photo","Picture","picture","Thumbnail","thumbnail"].forEach(R=>{delete T[R]}),{...T,...z}},async loadProductBySlug(x){try{this.productsLoaded||await this.loadProducts();let y=x?x.trim():"";if(!y){console.warn("No slug provided"),this.product=null;return}try{y=decodeURIComponent(y)}catch(E){console.warn("Failed to decode slug:",E)}const B=y.match(/^([a-z0-9-]+)/i);if(B&&(y=B[1]),y=y.toLowerCase().replace(/[^a-z0-9-]+/g,"-").replace(/(^-|-$)/g,""),!y){console.warn("Invalid slug after normalization"),this.product=null;return}const S=this.itemStore.items||[];if(S.length===0){console.warn("No products loaded in store"),this.product=null;return}const V=E=>!E||typeof E!="string"?"":E.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),C=E=>{const D=E.Slug||E.slug;if(D&&typeof D=="string")return D.trim().toLowerCase();const z=["Title","title","Name","name"];for(const T of z){const j=E[T];if(j){let R="";if(typeof j=="string"?R=j:Array.isArray(j)&&j.length>0&&(R=j.map(Z=>typeof Z=="string"?Z:Z&&typeof Z=="object"&&Z.plain_text?Z.plain_text:"").join("")),R&&R.trim())return V(R)}}return""};let P=null;for(const E of S)if(C(E)===y){P=E;break}if(!P)for(const E of S)try{const D=this.transformProduct(E);if(D&&D.slug&&D.slug.trim().toLowerCase()===y){P=E;break}}catch(D){console.warn("Error transforming product for slug check:",D)}if(P)console.log("[ProductDetail] Raw product details data from Notion:",{productId:P.id,slug:P.Slug||P.slug,rawProductData:P,allFields:Object.keys(P),productValues:P}),this.product=this.transformProduct(P),console.log("[ProductDetail] Transformed product details:",{productId:this.product.id,slug:this.product.slug,transformedProduct:this.product});else{const E=S.slice(0,5).map(D=>{const z=C(D),T=D.Title||D.title||D.Name||D.name||"N/A";return{id:D.id,slug:z,title:T}});console.warn(`Product with slug "${x}" (normalized: "${y}") not found.`,{totalProducts:S.length,sampleSlugs:E}),this.product=null}}catch(y){console.error("Error loading product by slug:",y),this.product=null}},handleMouseEnter(x){this.isHovering=!0,this.hoveredImage=this.selectedImage||this.product.images[0],this.$refs.mainImage&&(this.mainImageRect=this.$refs.mainImage.getBoundingClientRect())},handleMouseLeave(){this.isHovering=!1,this.hoveredImage=null},handleMouseMove(x){if(this.isHovering&&this.$refs.mainImage){const y=this.$refs.mainImage.getBoundingClientRect();this.mousePosition={x:(x.clientX-y.left)/y.width*100,y:(x.clientY-y.top)/y.height*100},this.mainImageRect=y}},handleThumbnailMouseEnter(x,y){this.isHoveringThumbnail=!0,this.hoveredThumbnailImage=y,this.hoveredImage=y;const B=x.currentTarget.getBoundingClientRect();this.thumbnailImageRect=B},handleThumbnailMouseLeave(){this.isHoveringThumbnail=!1,this.hoveredThumbnailImage=null,this.hoveredImage=null},handleThumbnailMouseMove(x,y){if(this.isHoveringThumbnail){const B=x.currentTarget.getBoundingClientRect();this.thumbnailMousePosition={x:(x.clientX-B.left)/B.width*100,y:(x.clientY-B.top)/B.height*100},this.thumbnailImageRect=B}},getLensStyle(){const y=Math.max(0,Math.min(80,this.mousePosition.x-10)),B=Math.max(0,Math.min(80,this.mousePosition.y-20/2));return{width:"20%",height:"20%",left:`${y}%`,top:`${B}%`,backgroundColor:"rgba(255, 255, 255, 0.3)"}},getThumbnailLensStyle(){const y=Math.max(0,Math.min(70,this.thumbnailMousePosition.x-15)),B=Math.max(0,Math.min(70,this.thumbnailMousePosition.y-30/2));return{width:"30%",height:"30%",left:`${y}%`,top:`${B}%`,backgroundColor:"rgba(255, 255, 255, 0.3)"}},getZoomedImageStyle(){const x=this.isHoveringThumbnail?this.thumbnailImageRect:this.mainImageRect;if(!x)return{};const y=700,B=700,S=20,V=window.innerWidth-x.right,C=x.left;let P,E;return V>=y+S?P=x.right+S:C>=y+S?P=x.left-y-S:P=(window.innerWidth-y)/2,E=Math.max(20,Math.min(x.top,window.innerHeight-B-20)),{width:`${y}px`,height:`${B}px`,left:`${P}px`,top:`${E}px`}},getZoomedImageTransform(){if(!this.isHovering&&!this.isHoveringThumbnail||!this.product)return{};const x=this.hoveredImage||this.selectedImage||this.product.images[0];if(!x)return{};const y=this.isHoveringThumbnail?this.thumbnailMousePosition:this.mousePosition,B=2.5,S=y.x/100,V=y.y/100,C=100/B,P=Math.max(0,Math.min(100-C,S*100-C/2)),E=Math.max(0,Math.min(100-C,V*100-C/2));return{backgroundImage:`url("${x}")`,backgroundSize:`${B*100}%`,backgroundPosition:`${P}% ${E}%`,backgroundRepeat:"no-repeat"}},openGalleryModal(){!this.product||!this.product.images||this.product.images.length===0||(this.gallerySelectedImage=this.selectedImage||this.product.images[0],this.isGalleryModalOpen=!0)},closeGalleryModal(){this.isGalleryModalOpen=!1},selectGalleryImage(x){x&&(this.gallerySelectedImage=x,this.selectedImage=x)},openLightbox(x){this.lightboxImage=x},initMap(){if(!this.product||!this.product.latitude||!this.product.longitude)return;if(!this.$refs.mapContainer){this.mapInitRetryCount<this.maxMapInitRetries?(this.mapInitRetryCount++,setTimeout(()=>{this.initMap()},100)):(console.error("initMap: mapContainer ref not found after max retries"),this.mapInitRetryCount=0);return}this.mapInitRetryCount=0,this.map&&(this.map.remove(),this.map=null),this.marker&&(this.marker=null);const x=parseFloat(this.product.latitude),y=parseFloat(this.product.longitude);if(isNaN(x)||isNaN(y)){console.error("initMap: Invalid coordinates",{lat:x,lng:y});return}this.map=L$1.map(this.$refs.mapContainer).setView([x,y],15),L$1.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19}).addTo(this.map),this.marker=L$1.marker([x,y],{title:this.product.title}).addTo(this.map);const B=`
        <div style="padding: 8px; min-width: 200px;">
          <h3 style="font-weight: bold; margin-bottom: 4px; font-size: 16px; color: #111;">${this.product.title}</h3>
          <p style="margin: 0; color: #666; font-size: 14px;">${this.product.location||""}</p>
          </div>
        `;this.marker.bindPopup(B).openPopup()},formatPercentage(x){if(x==null||x==="")return"";if(typeof x=="string"&&x.includes("%")){const S=parseFloat(x.replace(/[^0-9.-]/g,""));if(isNaN(S))return x;const V=S<1?S*100:S;return`${Math.round(V)}%`}const y=typeof x=="number"?x:parseFloat(x);if(isNaN(y))return String(x);const B=y<1?y*100:y;return`${Math.round(B)}%`},isImageUrl(x){if(!x||typeof x!="string")return!1;try{new URL(x)}catch{return!1}const y=[".jpg",".jpeg",".png",".gif",".bmp",".webp",".svg",".tiff",".ico",".avif"],B=x.toLowerCase(),S=y.some(D=>B.includes(D)),C=["imgur.com","unsplash.com","pexels.com","pixabay.com","cloudinary.com","imagekit.io"].some(D=>B.includes(D)),E=["/image/","/img/","/photo/","/picture/","/media/","i.imgur.com","cdn.","images."].some(D=>B.includes(D));return S||C||E},getImageUrlsFromValue(x){if(!x)return[];if(Array.isArray(x))return x.map(y=>typeof y=="string"&&this.isImageUrl(y)?y:typeof y=="object"&&y.url&&this.isImageUrl(y.url)?y.url:null).filter(y=>y);if(typeof x=="string"){const y=x.trim();return this.isImageUrl(y)?[y]:y.split(/[,\n]/).map(V=>V.trim()).filter(V=>V).filter(V=>this.isImageUrl(V))}return[]},handleRelatedProductClick(x){x&&x.slug&&this.$router.push(`/products/${x.slug}`)}}},_hoisted_1$f={class:"bg-gray-50 py-4"},_hoisted_2$f={class:"section-container px-4 sm:px-6 lg:px-8"},_hoisted_3$f={class:"flex items-center gap-2 text-sm text-gray-600"},_hoisted_4$f={class:"text-gray-900"},_hoisted_5$f={key:0,class:"py-8 md:py-12"},_hoisted_6$f={class:"section-container px-4 sm:px-6 lg:px-8 animate-pulse space-y-8"},_hoisted_7$e={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},_hoisted_8$e={class:"grid grid-cols-1 md:grid-cols-3 gap-8"},_hoisted_9$e={class:"md:col-span-2 space-y-6"},_hoisted_10$d={class:"bg-white rounded-2xl p-6 shadow border border-gray-100 space-y-4"},_hoisted_11$d={class:"grid grid-cols-2 md:grid-cols-3 gap-4"},_hoisted_12$c={key:1,class:"py-8 md:py-12"},_hoisted_13$c={class:"section-container px-4 sm:px-6 lg:px-8"},_hoisted_14$b={class:"mb-8"},_hoisted_15$b={class:"text-3xl md:text-4xl font-bold text-gray-900 mb-4"},_hoisted_16$b={class:"flex items-center gap-4 text-gray-600 mb-4"},_hoisted_17$a={class:"flex items-center gap-1"},_hoisted_18$9={class:"flex items-center gap-6"},_hoisted_19$8={class:"text-3xl font-bold text-emerald-500"},_hoisted_20$8={class:"text-gray-600 ml-2"},_hoisted_21$8={class:"px-3 py-1 bg-emerald-100 text-emerald-700 rounded-full text-sm font-medium"},_hoisted_22$8={class:"mb-8 relative"},_hoisted_23$8={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},_hoisted_24$8={key:0,class:"absolute inset-0 bg-gray-200 animate-pulse filter blur-sm pointer-events-none rounded-xl"},_hoisted_25$8=["src","alt"],_hoisted_26$7=["onClick","onMouseenter","onMousemove"],_hoisted_27$7=["src","alt"],_hoisted_28$7={key:1,class:"hidden md:block absolute top-4 right-4 z-20 rounded-2xl shadow-2xl border border-emerald-400/40 bg-gradient-to-r from-emerald-500/20 via-white/80 to-emerald-500/20 backdrop-blur-md p-0.5"},_hoisted_29$7={key:0,class:"mt-4 md:hidden text-center"},_hoisted_30$7={class:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8"},_hoisted_31$7={class:"md:col-span-2"},_hoisted_32$7={class:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 mb-6"},_hoisted_33$7={class:"text-2xl font-bold text-gray-900 mb-4"},_hoisted_34$7={class:"text-gray-600 leading-relaxed"},_hoisted_35$7={class:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 mb-6"},_hoisted_36$7={class:"text-2xl font-bold text-gray-900 mb-4"},_hoisted_37$6={class:"grid grid-cols-2 md:grid-cols-3 gap-6"},_hoisted_38$6={class:"text-sm text-gray-500 mb-1"},_hoisted_39$3={class:"text-lg font-semibold text-gray-900"},_hoisted_40$3={class:"text-sm text-gray-500 mb-1"},_hoisted_41$3={class:"text-lg font-semibold text-gray-900"},_hoisted_42$3={class:"text-sm text-gray-500 mb-1"},_hoisted_43$2={class:"text-lg font-semibold text-gray-900"},_hoisted_44$2={class:"text-sm text-gray-500 mb-1"},_hoisted_45$2={class:"text-lg font-semibold text-gray-900"},_hoisted_46$2={class:"text-sm text-gray-500 mb-1"},_hoisted_47$2={class:"text-lg font-semibold text-gray-900"},_hoisted_48$2={class:"text-sm text-gray-500 mb-1"},_hoisted_49$2={class:"text-lg font-semibold text-gray-900"},_hoisted_50$2={key:0},_hoisted_51$2={class:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100"},_hoisted_52$2={class:"text-2xl font-bold text-gray-900 mb-4"},_hoisted_53$2={ref:"mapContainer",class:"w-full h-96 rounded-xl overflow-hidden bg-gray-200"},_hoisted_54$2={class:"hidden md:block"},_hoisted_55$2={class:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 sticky top-20 right-4 md:right-8 lg:right-12 xl:right-16 w-[calc((100vw-2rem-2rem)/3)] md:w-[calc((100vw-3rem-2rem)/3)] lg:w-[calc((100vw-4rem-2rem)/3)] max-w-sm z-10"},_hoisted_56$2={class:"mb-6"},_hoisted_57$2={class:"text-3xl font-bold text-emerald-500 mb-2"},_hoisted_58$2={class:"text-gray-600 mb-4"},_hoisted_59$2={class:"w-full px-6 py-3 border border-emerald-500 text-emerald-500 rounded-lg font-semibold hover:bg-emerald-50 transition-colors"},_hoisted_60$2={class:"pt-6 border-t border-gray-200"},_hoisted_61$2={class:"font-semibold text-gray-900 mb-3"},_hoisted_62$1=["href"],_hoisted_63$1={class:"bg-white rounded-2xl shadow-2xl w-full max-w-6xl max-h-full flex flex-col overflow-hidden"},_hoisted_64$1={class:"flex items-center justify-between px-6 py-4 border-b border-gray-100"},_hoisted_65$1={class:"text-lg font-semibold text-gray-900"},_hoisted_66$1={class:"text-sm text-gray-500"},_hoisted_67$1={class:"p-6 overflow-y-auto"},_hoisted_68$1={class:"w-full h-80 md:h-[480px] bg-gray-100 rounded-xl flex items-center justify-center mb-6 overflow-hidden"},_hoisted_69$1=["src","alt"],_hoisted_70$1={class:"grid grid-cols-3 sm:grid-cols-5 md:grid-cols-6 gap-3"},_hoisted_71$1=["onClick"],_hoisted_72$1=["src","alt"],_hoisted_73$1={key:3,class:"py-16 md:py-24"},_hoisted_74$1={class:"section-container px-4 sm:px-6 lg:px-8"},_hoisted_75$1={class:"max-w-2xl mx-auto text-center"},_hoisted_76$1={class:"flex flex-col sm:flex-row gap-4 justify-center"},_hoisted_77$1={key:4,class:"py-12 bg-gray-50"},_hoisted_78$1={class:"section-container px-4 sm:px-6 lg:px-8"},_hoisted_79$1=["src","alt"];function _sfc_render$h(x,y,B,S,V,C){var D,z;const P=resolveComponent("router-link"),E=__unplugin_components_0$7;return openBlock(),createElementBlock("div",null,[createBaseVNode("div",_hoisted_1$f,[createBaseVNode("div",_hoisted_2$f,[createBaseVNode("div",_hoisted_3$f,[createVNode(P,{to:"/",class:"hover:text-emerald-500"},{default:withCtx(()=>[createTextVNode(toDisplayString(C.productDetail.breadcrumbs.home),1)]),_:1}),y[15]||(y[15]=createBaseVNode("span",null,"/",-1)),createVNode(P,{to:"/products",class:"hover:text-emerald-500"},{default:withCtx(()=>[createTextVNode(toDisplayString(C.productDetail.breadcrumbs.products),1)]),_:1}),y[16]||(y[16]=createBaseVNode("span",null,"/",-1)),createBaseVNode("span",_hoisted_4$f,toDisplayString(((D=V.product)==null?void 0:D.title)||"Product Not Found"),1)])])]),V.loading?(openBlock(),createElementBlock("div",_hoisted_5$f,[createBaseVNode("div",_hoisted_6$f,[y[22]||(y[22]=createBaseVNode("div",{class:"space-y-4"},[createBaseVNode("div",{class:"h-10 w-2/3 bg-gray-200 rounded"}),createBaseVNode("div",{class:"h-5 w-1/2 bg-gray-200 rounded"}),createBaseVNode("div",{class:"h-8 w-40 bg-gray-200 rounded"})],-1)),createBaseVNode("div",_hoisted_7$e,[y[17]||(y[17]=createBaseVNode("div",{class:"md:col-span-2 md:row-span-2 h-96 bg-gray-200 rounded-xl"},null,-1)),(openBlock(),createElementBlock(Fragment,null,renderList(4,T=>createBaseVNode("div",{key:`gallery-skeleton-${T}`,class:"h-44 bg-gray-200 rounded-xl"})),64))]),createBaseVNode("div",_hoisted_8$e,[createBaseVNode("div",_hoisted_9$e,[y[20]||(y[20]=createStaticVNode('<div class="bg-white rounded-2xl p-6 shadow border border-gray-100 space-y-4" data-v-486177cb><div class="h-6 w-1/3 bg-gray-200 rounded" data-v-486177cb></div><div class="space-y-3" data-v-486177cb><div class="h-4 w-full bg-gray-200 rounded" data-v-486177cb></div><div class="h-4 w-5/6 bg-gray-200 rounded" data-v-486177cb></div><div class="h-4 w-2/3 bg-gray-200 rounded" data-v-486177cb></div></div></div>',1)),createBaseVNode("div",_hoisted_10$d,[y[19]||(y[19]=createBaseVNode("div",{class:"h-6 w-1/3 bg-gray-200 rounded"},null,-1)),createBaseVNode("div",_hoisted_11$d,[(openBlock(),createElementBlock(Fragment,null,renderList(6,T=>createBaseVNode("div",{key:`detail-skeleton-${T}`,class:"space-y-2"},[...y[18]||(y[18]=[createBaseVNode("div",{class:"h-3 w-1/2 bg-gray-200 rounded"},null,-1),createBaseVNode("div",{class:"h-5 w-3/4 bg-gray-200 rounded"},null,-1)])])),64))])])]),y[21]||(y[21]=createStaticVNode('<div class="bg-white rounded-2xl p-6 shadow border border-gray-100 space-y-4 h-fit sticky top-20" data-v-486177cb><div class="h-8 w-1/2 bg-gray-200 rounded" data-v-486177cb></div><div class="h-4 w-2/3 bg-gray-200 rounded" data-v-486177cb></div><div class="space-y-3" data-v-486177cb><div class="h-12 bg-gray-200 rounded-lg" data-v-486177cb></div><div class="h-12 bg-gray-200 rounded-lg" data-v-486177cb></div></div><div class="pt-4 border-t border-gray-200 space-y-3" data-v-486177cb><div class="h-4 w-1/3 bg-gray-200 rounded" data-v-486177cb></div><div class="h-12 bg-gray-200 rounded-lg" data-v-486177cb></div></div></div>',1))])])])):V.product?(openBlock(),createElementBlock("div",_hoisted_12$c,[createBaseVNode("div",_hoisted_13$c,[createBaseVNode("div",_hoisted_14$b,[createBaseVNode("h1",_hoisted_15$b,toDisplayString(V.product.title),1),createBaseVNode("div",_hoisted_16$b,[createBaseVNode("div",_hoisted_17$a,[y[23]||(y[23]=createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),createTextVNode(" "+toDisplayString(V.product.location),1)]),y[24]||(y[24]=createBaseVNode("span",null,"",-1)),createBaseVNode("span",null,toDisplayString(V.product.category),1),y[25]||(y[25]=createBaseVNode("span",null,"",-1)),createBaseVNode("span",null,toDisplayString(V.product.year),1)]),createBaseVNode("div",_hoisted_18$9,[createBaseVNode("div",null,[createBaseVNode("span",_hoisted_19$8,toDisplayString(V.product.price),1),createBaseVNode("span",_hoisted_20$8,"("+toDisplayString(C.formatPercentage(V.product.percentage))+")",1)]),createBaseVNode("span",_hoisted_21$8,toDisplayString(V.product.status),1)])]),createBaseVNode("div",_hoisted_22$8,[createBaseVNode("div",_hoisted_23$8,[createBaseVNode("div",{ref:"mainImage",class:"md:col-span-2 md:row-span-2 overflow-hidden rounded-xl relative",onMouseenter:y[2]||(y[2]=(...T)=>C.handleMouseEnter&&C.handleMouseEnter(...T)),onMouseleave:y[3]||(y[3]=(...T)=>C.handleMouseLeave&&C.handleMouseLeave(...T)),onMousemove:y[4]||(y[4]=(...T)=>C.handleMouseMove&&C.handleMouseMove(...T))},[V.mainImageLoaded?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_24$8)),createBaseVNode("img",{src:V.selectedImage||V.product.images[0],alt:V.product.title,loading:"lazy",width:"1200",height:"800",class:normalizeClass(["w-full h-full object-cover rounded-xl cursor-zoom-in transition-opacity duration-300",{"opacity-0":!V.mainImageLoaded,"opacity-100":V.mainImageLoaded}]),onLoad:y[0]||(y[0]=T=>V.mainImageLoaded=!0),onClick:y[1]||(y[1]=T=>C.openLightbox(V.selectedImage||V.product.images[0]))},null,42,_hoisted_25$8),V.isHovering?(openBlock(),createElementBlock("div",{key:1,class:"absolute border-2 border-emerald-500 pointer-events-none",style:normalizeStyle(C.getLensStyle())},null,4)):createCommentVNode("",!0)],544),(openBlock(!0),createElementBlock(Fragment,null,renderList(V.product.images.slice(0,4),(T,j)=>(openBlock(),createElementBlock("div",{key:j,class:"cursor-pointer relative overflow-hidden rounded-xl",onClick:R=>V.selectedImage=T,onMouseenter:R=>C.handleThumbnailMouseEnter(R,T),onMouseleave:y[5]||(y[5]=(...R)=>C.handleThumbnailMouseLeave&&C.handleThumbnailMouseLeave(...R)),onMousemove:R=>C.handleThumbnailMouseMove(R,T)},[createBaseVNode("img",{src:T,alt:`${V.product.title} - Image ${j+1}`,loading:"lazy",width:"300",height:"200",class:normalizeClass(["w-full h-full object-cover rounded-xl hover:opacity-80 transition-opacity",{"ring-2 ring-emerald-500":V.selectedImage===T||!V.selectedImage&&j===0}])},null,10,_hoisted_27$7),V.hoveredThumbnailImage===T?(openBlock(),createElementBlock("div",{key:0,class:"absolute border-2 border-emerald-500 pointer-events-none",style:normalizeStyle(C.getThumbnailLensStyle())},null,4)):createCommentVNode("",!0)],40,_hoisted_26$7))),128))]),(V.isHovering||V.isHoveringThumbnail)&&V.product&&(V.hoveredImage||V.selectedImage||V.product.images[0])?(openBlock(),createElementBlock("div",{key:0,class:"fixed z-40 overflow-hidden rounded-xl border-2 border-gray-200 shadow-2xl bg-white pointer-events-none",style:normalizeStyle(C.getZoomedImageStyle())},[createBaseVNode("div",{class:"w-full h-full",style:normalizeStyle(C.getZoomedImageTransform())},null,4)],4)):createCommentVNode("",!0),V.product.images.length>5?(openBlock(),createElementBlock("div",_hoisted_28$7,[createBaseVNode("button",{onClick:y[6]||(y[6]=(...T)=>C.openGalleryModal&&C.openGalleryModal(...T)),class:"px-5 py-2 text-sm font-semibold text-emerald-700 hover:text-emerald-800 focus:outline-none"},toDisplayString(`${C.productDetail.buttons.viewAllImages}`),1)])):createCommentVNode("",!0)]),V.product.images.length>5?(openBlock(),createElementBlock("div",_hoisted_29$7,[createBaseVNode("button",{onClick:y[7]||(y[7]=(...T)=>C.openGalleryModal&&C.openGalleryModal(...T)),class:"w-full px-6 py-2 border border-emerald-500 text-emerald-500 rounded-lg font-medium hover:bg-emerald-50 transition-colors"},toDisplayString(`${C.productDetail.buttons.viewAllImages} ${V.product.images.length} Images`),1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_30$7,[createBaseVNode("div",_hoisted_31$7,[createBaseVNode("div",_hoisted_32$7,[createBaseVNode("h2",_hoisted_33$7,toDisplayString(C.productDetail.labels.description),1),createBaseVNode("p",_hoisted_34$7,toDisplayString(V.product.description),1)]),createBaseVNode("div",_hoisted_35$7,[createBaseVNode("h2",_hoisted_36$7,toDisplayString(C.productDetail.labels.productDetails),1),createBaseVNode("div",_hoisted_37$6,[createBaseVNode("div",null,[createBaseVNode("div",_hoisted_38$6,toDisplayString(C.productDetail.labels.size),1),createBaseVNode("div",_hoisted_39$3,toDisplayString(V.product.size),1)]),createBaseVNode("div",null,[createBaseVNode("div",_hoisted_40$3,toDisplayString(C.productDetail.labels.bed),1),createBaseVNode("div",_hoisted_41$3,toDisplayString(V.product.bed),1)]),createBaseVNode("div",null,[createBaseVNode("div",_hoisted_42$3,toDisplayString(C.productDetail.labels.bath),1),createBaseVNode("div",_hoisted_43$2,toDisplayString(V.product.bath),1)]),createBaseVNode("div",null,[createBaseVNode("div",_hoisted_44$2,toDisplayString(C.productDetail.labels.category),1),createBaseVNode("div",_hoisted_45$2,toDisplayString(V.product.category),1)]),createBaseVNode("div",null,[createBaseVNode("div",_hoisted_46$2,toDisplayString(C.productDetail.labels.year),1),createBaseVNode("div",_hoisted_47$2,toDisplayString(V.product.year),1)]),createBaseVNode("div",null,[createBaseVNode("div",_hoisted_48$2,toDisplayString(C.productDetail.labels.status),1),createBaseVNode("div",_hoisted_49$2,toDisplayString(V.product.status),1)])])]),V.product.latitude&&V.product.longitude?(openBlock(),createElementBlock("div",_hoisted_50$2,[createBaseVNode("div",_hoisted_51$2,[createBaseVNode("h2",_hoisted_52$2,toDisplayString(V.product.location||C.productDetail.labels.location),1),createBaseVNode("div",_hoisted_53$2,null,512)])])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_54$2,[createBaseVNode("div",_hoisted_55$2,[createBaseVNode("div",_hoisted_56$2,[createBaseVNode("div",_hoisted_57$2,toDisplayString(V.product.price),1),createBaseVNode("div",_hoisted_58$2,toDisplayString(C.productDetail.labels.return)+" "+toDisplayString(C.formatPercentage(V.product.percentage)),1),createBaseVNode("button",_hoisted_59$2,toDisplayString(C.productDetail.buttons.contactSeller),1)]),createBaseVNode("div",_hoisted_60$2,[createBaseVNode("h3",_hoisted_61$2,toDisplayString(C.productDetail.buttons.contactUs),1),C.whatsappUrl?(openBlock(),createElementBlock("a",{key:0,href:C.whatsappUrl,target:"_blank",rel:"noopener noreferrer",class:"w-full px-6 py-3 bg-gray-900 text-white rounded-lg font-semibold hover:bg-gray-800 transition-colors inline-flex items-center justify-center gap-2"},[y[26]||(y[26]=createBaseVNode("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})],-1)),createTextVNode(" "+toDisplayString(C.productDetail.buttons.getInTouch),1)],8,_hoisted_62$1)):(openBlock(),createElementBlock("button",{key:1,onClick:y[8]||(y[8]=T=>x.$router.push("/contact")),class:"w-full px-6 py-3 bg-gray-900 text-white rounded-lg font-semibold hover:bg-gray-800 transition-colors"},toDisplayString(C.productDetail.buttons.getInTouch),1))])])])])])])):createCommentVNode("",!0),V.isGalleryModalOpen&&V.product?(openBlock(),createElementBlock("div",{key:2,class:"fixed inset-0 z-50 bg-black bg-opacity-70 flex items-center justify-center p-4 md:p-8",onClick:y[11]||(y[11]=withModifiers((...T)=>C.closeGalleryModal&&C.closeGalleryModal(...T),["self"]))},[createBaseVNode("div",_hoisted_63$1,[createBaseVNode("div",_hoisted_64$1,[createBaseVNode("div",null,[createBaseVNode("h3",_hoisted_65$1,toDisplayString(V.product.title),1),createBaseVNode("p",_hoisted_66$1,toDisplayString(V.product.images.length)+" Images",1)]),createBaseVNode("button",{onClick:y[9]||(y[9]=(...T)=>C.closeGalleryModal&&C.closeGalleryModal(...T)),class:"text-gray-500 hover:text-gray-900"},[...y[27]||(y[27]=[createBaseVNode("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),createBaseVNode("div",_hoisted_67$1,[createBaseVNode("div",_hoisted_68$1,[createBaseVNode("img",{src:V.gallerySelectedImage||V.selectedImage||V.product.images[0],alt:V.product.title,class:"max-h-full max-w-full object-contain cursor-zoom-in",onClick:y[10]||(y[10]=T=>C.openLightbox(V.gallerySelectedImage||V.selectedImage||V.product.images[0]))},null,8,_hoisted_69$1)]),createBaseVNode("div",_hoisted_70$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(V.product.images,(T,j)=>(openBlock(),createElementBlock("button",{key:`gallery-image-${j}`,type:"button",class:"relative rounded-lg overflow-hidden focus:outline-none focus:ring-2 focus:ring-emerald-500",onClick:R=>C.selectGalleryImage(T)},[createBaseVNode("img",{src:T,alt:`${V.product.title} - Image ${j+1}`,class:normalizeClass(["w-full h-24 object-cover transition-opacity",{"ring-2 ring-emerald-500":(V.gallerySelectedImage||V.selectedImage||V.product.images[0])===T}])},null,10,_hoisted_72$1)],8,_hoisted_71$1))),128))])])])])):(openBlock(),createElementBlock("div",_hoisted_73$1,[createBaseVNode("div",_hoisted_74$1,[createBaseVNode("div",_hoisted_75$1,[y[30]||(y[30]=createStaticVNode('<div class="mb-6" data-v-486177cb><svg class="w-24 h-24 mx-auto text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-486177cb><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-v-486177cb></path></svg></div><h1 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4" data-v-486177cb>Product Not Found</h1><p class="text-gray-600 mb-8 text-lg" data-v-486177cb> Sorry, we couldn&#39;t find the product you&#39;re looking for. The product may have been removed or the link is incorrect. </p>',3)),createBaseVNode("div",_hoisted_76$1,[createVNode(P,{to:"/products",class:"inline-flex items-center gap-2 px-6 py-3 bg-emerald-500 text-white font-medium rounded-lg hover:bg-emerald-600 transition-colors shadow-sm hover:shadow-md"},{default:withCtx(()=>[...y[28]||(y[28]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),createTextVNode(" Browse All Products ",-1)])]),_:1}),createVNode(P,{to:"/",class:"inline-flex items-center gap-2 px-6 py-3 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors"},{default:withCtx(()=>[...y[29]||(y[29]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1),createTextVNode(" Go to Home ",-1)])]),_:1})])])])])),V.product&&C.relatedProducts.length>0?(openBlock(),createElementBlock("div",_hoisted_77$1,[createBaseVNode("div",_hoisted_78$1,[y[31]||(y[31]=createBaseVNode("h2",{class:"text-2xl md:text-3xl font-bold text-gray-900 mb-6"},"Related Products",-1)),createVNode(E,{productsData:C.relatedProductsData,labels:C.relatedProductsLabels,sortData:C.relatedProductsSortData,showToolbar:!1,showPagination:!1,loading:V.loading,schema:S.itemStore.schema,onProductClick:C.handleRelatedProductClick},null,8,["productsData","labels","sortData","loading","schema","onProductClick"])])])):createCommentVNode("",!0),V.lightboxImage?(openBlock(),createElementBlock("div",{key:5,class:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center p-4",onClick:y[14]||(y[14]=T=>V.lightboxImage=null)},[createBaseVNode("button",{onClick:y[12]||(y[12]=T=>V.lightboxImage=null),class:"absolute top-4 right-4 text-white hover:text-gray-300"},[...y[32]||(y[32]=[createBaseVNode("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),createBaseVNode("img",{src:V.lightboxImage,alt:(z=V.product)==null?void 0:z.title,class:"max-w-full max-h-full object-contain",onClick:y[13]||(y[13]=withModifiers(()=>{},["stop"]))},null,8,_hoisted_79$1)])):createCommentVNode("",!0)])}const ProductDetail=_export_sfc(_sfc_main$h,[["render",_sfc_render$h],["__scopeId","data-v-486177cb"]]),_sfc_main$g={name:"About",setup(){return{pagesStore:usePagesStore()}},data(){return{loading:!1}},computed:{about(){const x=this.pagesStore.getAboutPageData();return x||console.warn("About page data is null - page may not be loaded yet or Content field is missing"),x||{hero:{title:"",subtitle:""},mission:{},whatWeDo:{},whyChoose:{}}}},async mounted(){try{this.loading=!0,await this.pagesStore.loadPage("about")}catch(x){console.error("Error loading about page data from Notion:",x)}finally{this.loading=!1}}},_hoisted_1$e={key:0,class:"animate-pulse"},_hoisted_2$e={class:"py-16 md:py-24 bg-white"},_hoisted_3$e={class:"section-container px-4 sm:px-6 lg:px-8"},_hoisted_4$e={class:"max-w-4xl mx-auto"},_hoisted_5$e={class:"space-y-8"},_hoisted_6$e={class:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100"},_hoisted_7$d={class:"grid grid-cols-1 md:grid-cols-3 gap-8"},_hoisted_8$d={key:1},_hoisted_9$d={class:"relative bg-gradient-to-br from-gray-100 to-gray-200 min-h-[400px] flex items-center"},_hoisted_10$c={class:"section-container px-4 sm:px-6 lg:px-8 relative z-10 w-full text-center"},_hoisted_11$c={class:"text-4xl md:text-5xl font-bold text-gray-900 mb-4"},_hoisted_12$b={class:"text-xl text-gray-600 max-w-2xl mx-auto"},_hoisted_13$b={class:"py-16 md:py-24 bg-white"},_hoisted_14$a={class:"section-container px-4 sm:px-6 lg:px-8"},_hoisted_15$a={class:"max-w-4xl mx-auto"},_hoisted_16$a={class:"space-y-8"},_hoisted_17$9={class:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100 overflow-hidden"},_hoisted_18$8={class:"grid md:grid-cols-2 gap-8 items-center"},_hoisted_19$7={class:"text-2xl font-bold text-gray-900 mb-4"},_hoisted_20$7={class:"text-gray-600 leading-relaxed"},_hoisted_21$7={class:"rounded-xl overflow-hidden shadow-lg"},_hoisted_22$7=["src"],_hoisted_23$7={class:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100 overflow-hidden"},_hoisted_24$7={class:"grid md:grid-cols-2 gap-8 items-center"},_hoisted_25$7={class:"rounded-xl overflow-hidden shadow-lg order-2 md:order-1"},_hoisted_26$6=["src"],_hoisted_27$6={class:"order-1 md:order-2"},_hoisted_28$6={class:"text-2xl font-bold text-gray-900 mb-4"},_hoisted_29$6={class:"text-gray-600 leading-relaxed mb-4"},_hoisted_30$6={class:"space-y-2 text-gray-600"},_hoisted_31$6={class:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100"},_hoisted_32$6={class:"text-2xl font-bold text-gray-900 mb-4"},_hoisted_33$6={class:"text-gray-600 leading-relaxed mb-6"},_hoisted_34$6={class:"grid grid-cols-1 md:grid-cols-3 gap-8"},_hoisted_35$6={class:"rounded-xl overflow-hidden mb-6 shadow-lg"},_hoisted_36$6=["src","alt"],_hoisted_37$5={class:"text-4xl font-bold text-emerald-500 mb-2"},_hoisted_38$5={class:"text-gray-600"};function _sfc_render$g(x,y,B,S,V,C){return openBlock(),createElementBlock("div",null,[V.loading?(openBlock(),createElementBlock("div",_hoisted_1$e,[y[4]||(y[4]=createStaticVNode('<section class="relative bg-gradient-to-br from-gray-100 to-gray-200 min-h-[400px] flex items-center"><div class="absolute inset-0"><div class="w-full h-full bg-gray-300 opacity-30"></div><div class="absolute inset-0 bg-gradient-to-r from-blue-400/20 via-gray-300/30 to-amber-600/20"></div></div><div class="section-container px-4 sm:px-6 lg:px-8 relative z-10 w-full text-center"><div class="h-12 bg-gray-300 rounded w-3/4 max-w-md mx-auto mb-4"></div><div class="h-6 bg-gray-300 rounded w-2/3 max-w-xl mx-auto"></div></div></section>',1)),createBaseVNode("div",_hoisted_2$e,[createBaseVNode("div",_hoisted_3$e,[createBaseVNode("div",_hoisted_4$e,[createBaseVNode("div",_hoisted_5$e,[y[3]||(y[3]=createStaticVNode('<div class="bg-white rounded-2xl p-8 shadow-lg border border-gray-100 overflow-hidden"><div class="grid md:grid-cols-2 gap-8 items-center"><div><div class="h-8 bg-gray-200 rounded w-48 mb-4"></div><div class="space-y-3"><div class="h-4 bg-gray-200 rounded w-full"></div><div class="h-4 bg-gray-200 rounded w-full"></div><div class="h-4 bg-gray-200 rounded w-5/6"></div></div></div><div class="rounded-xl overflow-hidden shadow-lg"><div class="w-full h-80 md:h-96 bg-gray-200"></div></div></div></div><div class="bg-white rounded-2xl p-8 shadow-lg border border-gray-100 overflow-hidden"><div class="grid md:grid-cols-2 gap-8 items-center"><div class="rounded-xl overflow-hidden shadow-lg order-2 md:order-1"><div class="w-full h-80 md:h-96 bg-gray-200"></div></div><div class="order-1 md:order-2"><div class="h-8 bg-gray-200 rounded w-48 mb-4"></div><div class="space-y-3 mb-4"><div class="h-4 bg-gray-200 rounded w-full"></div><div class="h-4 bg-gray-200 rounded w-full"></div><div class="h-4 bg-gray-200 rounded w-5/6"></div></div><div class="space-y-2"><div class="h-4 bg-gray-200 rounded w-3/4"></div><div class="h-4 bg-gray-200 rounded w-2/3"></div><div class="h-4 bg-gray-200 rounded w-4/5"></div></div></div></div></div>',2)),createBaseVNode("div",_hoisted_6$e,[y[1]||(y[1]=createBaseVNode("div",{class:"h-8 bg-gray-200 rounded w-48 mb-4"},null,-1)),y[2]||(y[2]=createBaseVNode("div",{class:"space-y-3 mb-6"},[createBaseVNode("div",{class:"h-4 bg-gray-200 rounded w-full"}),createBaseVNode("div",{class:"h-4 bg-gray-200 rounded w-5/6"})],-1)),createBaseVNode("div",_hoisted_7$d,[(openBlock(),createElementBlock(Fragment,null,renderList(3,P=>createBaseVNode("div",{key:P,class:"text-center"},[...y[0]||(y[0]=[createBaseVNode("div",{class:"rounded-xl overflow-hidden mb-6 shadow-lg"},[createBaseVNode("div",{class:"w-full h-48 md:h-64 bg-gray-200"})],-1),createBaseVNode("div",{class:"h-10 bg-gray-200 rounded w-24 mx-auto mb-2"},null,-1),createBaseVNode("div",{class:"h-4 bg-gray-200 rounded w-32 mx-auto"},null,-1)])])),64))])])])])])])])):(openBlock(),createElementBlock("div",_hoisted_8$d,[createBaseVNode("section",_hoisted_9$d,[y[5]||(y[5]=createBaseVNode("div",{class:"absolute inset-0"},[createBaseVNode("img",{src:"https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=1920&q=80",alt:"Business team",class:"w-full h-full object-cover opacity-30"}),createBaseVNode("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-400/20 via-gray-300/30 to-amber-600/20"})],-1)),createBaseVNode("div",_hoisted_10$c,[createBaseVNode("h1",_hoisted_11$c,toDisplayString(C.about.hero.title),1),createBaseVNode("p",_hoisted_12$b,toDisplayString(C.about.hero.subtitle),1)])]),createBaseVNode("div",_hoisted_13$b,[createBaseVNode("div",_hoisted_14$a,[createBaseVNode("div",_hoisted_15$a,[createBaseVNode("div",_hoisted_16$a,[createBaseVNode("div",_hoisted_17$9,[createBaseVNode("div",_hoisted_18$8,[createBaseVNode("div",null,[createBaseVNode("h2",_hoisted_19$7,toDisplayString(C.about.mission.title),1),createBaseVNode("p",_hoisted_20$7,toDisplayString(C.about.mission.description),1)]),createBaseVNode("div",_hoisted_21$7,[createBaseVNode("img",{src:C.about.mission.image,alt:"Team collaboration",class:"w-full h-80 md:h-96 object-cover"},null,8,_hoisted_22$7)])])]),createBaseVNode("div",_hoisted_23$7,[createBaseVNode("div",_hoisted_24$7,[createBaseVNode("div",_hoisted_25$7,[createBaseVNode("img",{src:C.about.whatWeDo.image,alt:"Product analytics",class:"w-full h-80 md:h-96 object-cover"},null,8,_hoisted_26$6)]),createBaseVNode("div",_hoisted_27$6,[createBaseVNode("h2",_hoisted_28$6,toDisplayString(C.about.whatWeDo.title),1),createBaseVNode("p",_hoisted_29$6,toDisplayString(C.about.whatWeDo.description),1),createBaseVNode("ul",_hoisted_30$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.about.whatWeDo.features,P=>(openBlock(),createElementBlock("li",{key:P}," "+toDisplayString(P),1))),128))])])])]),createBaseVNode("div",_hoisted_31$6,[createBaseVNode("h2",_hoisted_32$6,toDisplayString(C.about.whyChoose.title),1),createBaseVNode("p",_hoisted_33$6,toDisplayString(C.about.whyChoose.description),1),createBaseVNode("div",_hoisted_34$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.about.whyChoose.stats,(P,E)=>(openBlock(),createElementBlock("div",{key:E,class:"text-center"},[createBaseVNode("div",_hoisted_35$6,[createBaseVNode("img",{src:C.about.whyChoose.image,alt:P.label,class:"w-full h-48 md:h-64 object-cover"},null,8,_hoisted_36$6)]),createBaseVNode("div",_hoisted_37$5,toDisplayString(P.value),1),createBaseVNode("div",_hoisted_38$5,toDisplayString(P.label),1)]))),128))])])])])])])]))])}const About=_export_sfc(_sfc_main$g,[["render",_sfc_render$g]]),_sfc_main$f={name:"Contact",setup(){return{pagesStore:usePagesStore()}},data(){return{loading:!1}},computed:{contact(){return this.pagesStore.getContactPageData()||{title:"",description:"",image:"",phone:"",email:"",address:"",features:[],form:{}}},contactFormConfig(){return{theme:{primaryColor:"#10b981",borderRadius:"12px",fontFamily:"Inter, sans-serif",maxWidth:"100%"},form:{title:this.contact.form.title,submitText:this.contact.form.submitText,successMessage:this.contact.form.successMessage,errorMessage:this.contact.form.errorMessage,loadingText:this.contact.form.loadingText,enableCaptcha:!0,captchaSiteKey:this.contact.form.captchaSiteKey},fields:{name:{enabled:!0,required:!0,label:this.contact.form.fields.name.label,placeholder:this.contact.form.fields.name.placeholder,type:"text"},email:{enabled:!0,required:!0,label:this.contact.form.fields.email.label,placeholder:this.contact.form.fields.email.placeholder,type:"email"},phone:{enabled:!0,required:!1,label:this.contact.form.fields.phone.label,placeholder:this.contact.form.fields.phone.placeholder,type:"tel"},message:{enabled:!0,required:!0,label:this.contact.form.fields.message.label,placeholder:this.contact.form.fields.message.placeholder,type:"textarea",rows:5},company:{enabled:!1},linkedin:{enabled:!1},subject:{enabled:!1},website:{enabled:!1},budget:{enabled:!1},newsletter:{enabled:!1}}}}},async mounted(){try{this.loading=!0,await this.pagesStore.loadPage("contact")}catch(x){console.error("Error loading contact page data from Notion:",x)}finally{this.loading=!1}}},_hoisted_1$d={key:0,class:"animate-pulse"},_hoisted_2$d={class:"py-16 relative"},_hoisted_3$d={class:"section-container px-4 sm:px-6 lg:px-8 relative z-0"},_hoisted_4$d={class:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center"},_hoisted_5$d={class:"space-y-6"},_hoisted_6$d={key:1};function _sfc_render$f(x,y,B,S,V,C){const P=__unplugin_components_0$9;return openBlock(),createElementBlock("div",null,[V.loading?(openBlock(),createElementBlock("div",_hoisted_1$d,[createBaseVNode("section",_hoisted_2$d,[y[3]||(y[3]=createBaseVNode("div",{class:"absolute inset-0"},[createBaseVNode("div",{class:"w-full h-full bg-gray-300"}),createBaseVNode("div",{class:"absolute inset-0 bg-black/40"})],-1)),createBaseVNode("div",_hoisted_3$d,[createBaseVNode("div",_hoisted_4$d,[createBaseVNode("div",null,[y[1]||(y[1]=createStaticVNode('<div class="h-12 bg-white/20 rounded w-3/4 mb-4"></div><div class="space-y-2 mb-8"><div class="h-6 bg-white/20 rounded w-full"></div><div class="h-6 bg-white/20 rounded w-5/6"></div></div><div class="mb-8 space-y-4"><div class="flex items-center gap-3"><div class="flex-shrink-0 w-10 h-10 bg-white/10 rounded-lg"></div><div class="h-5 bg-white/20 rounded w-40"></div></div><div class="flex items-center gap-3"><div class="flex-shrink-0 w-10 h-10 bg-white/10 rounded-lg"></div><div class="h-5 bg-white/20 rounded w-48"></div></div><div class="flex items-start gap-3"><div class="flex-shrink-0 w-10 h-10 bg-white/10 rounded-lg mt-1"></div><div class="h-5 bg-white/20 rounded w-56"></div></div></div>',3)),createBaseVNode("div",_hoisted_5$d,[(openBlock(),createElementBlock(Fragment,null,renderList(3,E=>createBaseVNode("div",{key:E,class:"flex items-start gap-4"},[...y[0]||(y[0]=[createBaseVNode("div",{class:"flex-shrink-0 w-12 h-12 bg-white/10 rounded-lg"},null,-1),createBaseVNode("div",{class:"flex-1"},[createBaseVNode("div",{class:"h-5 bg-white/20 rounded w-32 mb-2"}),createBaseVNode("div",{class:"h-4 bg-white/20 rounded w-full"})],-1)])])),64))])]),y[2]||(y[2]=createStaticVNode('<div class="relative" style="z-index:1;"><div class="bg-white/10 rounded-2xl p-8 space-y-6"><div class="h-8 bg-white/20 rounded w-48 mb-6"></div><div class="space-y-4"><div class="h-12 bg-white/20 rounded"></div><div class="h-12 bg-white/20 rounded"></div><div class="h-12 bg-white/20 rounded"></div><div class="h-32 bg-white/20 rounded"></div><div class="h-12 bg-white/20 rounded w-32"></div></div></div></div>',1))])])])])):(openBlock(),createElementBlock("div",_hoisted_6$d,[createVNode(P,{sectionData:C.contact,contactFormConfig:C.contactFormConfig},null,8,["sectionData","contactFormConfig"])]))])}const Contact=_export_sfc(_sfc_main$f,[["render",_sfc_render$f]]),_sfc_main$e={name:"Privacy",setup(){return{pagesStore:usePagesStore()}},data(){return{loading:!1}},computed:{privacy(){return this.pagesStore.getPrivacyPageData()||{title:"Privacy Policy",lastUpdated:"",heroImage:"",introduction:{},informationWeCollect:{},howWeUse:{},dataSharing:{},yourRights:{},security:{},cookies:{},changes:{},contact:{}}}},async mounted(){try{this.loading=!0,await this.pagesStore.loadPage("privacy")}catch(x){console.error("Error loading privacy page data from Notion:",x)}finally{this.loading=!1}}},_hoisted_1$c={class:"relative bg-gradient-to-br from-gray-100 to-gray-200 min-h-[300px] flex items-center"},_hoisted_2$c={class:"absolute inset-0"},_hoisted_3$c=["src"],_hoisted_4$c={class:"section-container px-4 sm:px-6 lg:px-8 relative z-10 w-full text-center"},_hoisted_5$c={class:"text-4xl md:text-5xl font-bold text-gray-900 mb-4"},_hoisted_6$c={class:"text-xl text-gray-600 max-w-2xl mx-auto"},_hoisted_7$c={class:"py-16 md:py-24 bg-white"},_hoisted_8$c={class:"section-container px-4 sm:px-6 lg:px-8"},_hoisted_9$c={class:"max-w-4xl mx-auto"},_hoisted_10$b={class:"space-y-8"},_hoisted_11$b={class:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100"},_hoisted_12$a={class:"text-2xl font-bold text-gray-900 mb-4"},_hoisted_13$a={class:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100"},_hoisted_14$9={class:"text-2xl font-bold text-gray-900 mb-4"},_hoisted_15$9={class:"text-gray-600 leading-relaxed mb-4"},_hoisted_16$9={class:"space-y-4"},_hoisted_17$8={class:"text-xl font-semibold text-gray-900 mb-2"},_hoisted_18$7={class:"list-disc list-inside space-y-2 text-gray-600 ml-4"},_hoisted_19$6={class:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100"},_hoisted_20$6={class:"text-2xl font-bold text-gray-900 mb-4"},_hoisted_21$6={class:"text-gray-600 leading-relaxed mb-4"},_hoisted_22$6={class:"list-disc list-inside space-y-2 text-gray-600 ml-4"},_hoisted_23$6={class:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100"},_hoisted_24$6={class:"text-2xl font-bold text-gray-900 mb-4"},_hoisted_25$6={class:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100"},_hoisted_26$5={class:"text-2xl font-bold text-gray-900 mb-4"},_hoisted_27$5={class:"text-gray-600 leading-relaxed mb-4"},_hoisted_28$5={class:"list-disc list-inside space-y-2 text-gray-600 ml-4"},_hoisted_29$5={class:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100"},_hoisted_30$5={class:"text-2xl font-bold text-gray-900 mb-4"},_hoisted_31$5={class:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100"},_hoisted_32$5={class:"text-2xl font-bold text-gray-900 mb-4"},_hoisted_33$5={class:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100"},_hoisted_34$5={class:"text-2xl font-bold text-gray-900 mb-4"},_hoisted_35$5={class:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100"},_hoisted_36$5={class:"text-2xl font-bold text-gray-900 mb-4"};function _sfc_render$e(x,y,B,S,V,C){const P=resolveComponent("router-link");return openBlock(),createElementBlock("div",null,[createBaseVNode("section",_hoisted_1$c,[createBaseVNode("div",_hoisted_2$c,[createBaseVNode("img",{src:C.privacy.heroImage,alt:"Privacy",class:"w-full h-full object-cover opacity-30"},null,8,_hoisted_3$c),y[0]||(y[0]=createBaseVNode("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-400/20 via-gray-300/30 to-amber-600/20"},null,-1))]),createBaseVNode("div",_hoisted_4$c,[createBaseVNode("h1",_hoisted_5$c,toDisplayString(C.privacy.title),1),createBaseVNode("p",_hoisted_6$c,toDisplayString(C.privacy.lastUpdated),1)])]),createBaseVNode("div",_hoisted_7$c,[createBaseVNode("div",_hoisted_8$c,[createBaseVNode("div",_hoisted_9$c,[createBaseVNode("div",_hoisted_10$b,[createBaseVNode("div",_hoisted_11$b,[createBaseVNode("h2",_hoisted_12$a,toDisplayString(C.privacy.introduction.title),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(C.privacy.introduction.content,(E,D)=>(openBlock(),createElementBlock("p",{class:"text-gray-600 leading-relaxed mb-4",key:D},toDisplayString(E),1))),128))]),createBaseVNode("div",_hoisted_13$a,[createBaseVNode("h2",_hoisted_14$9,toDisplayString(C.privacy.informationWeCollect.title),1),createBaseVNode("p",_hoisted_15$9,toDisplayString(C.privacy.informationWeCollect.description),1),createBaseVNode("div",_hoisted_16$9,[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.privacy.informationWeCollect.sections,(E,D)=>(openBlock(),createElementBlock("div",{key:D,class:"mb-4"},[createBaseVNode("h3",_hoisted_17$8,toDisplayString(E.title),1),createBaseVNode("ul",_hoisted_18$7,[(openBlock(!0),createElementBlock(Fragment,null,renderList(E.items,(z,T)=>(openBlock(),createElementBlock("li",{key:T},toDisplayString(z),1))),128))])]))),128))])]),createBaseVNode("div",_hoisted_19$6,[createBaseVNode("h2",_hoisted_20$6,toDisplayString(C.privacy.howWeUse.title),1),createBaseVNode("p",_hoisted_21$6,toDisplayString(C.privacy.howWeUse.description),1),createBaseVNode("ul",_hoisted_22$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.privacy.howWeUse.uses,(E,D)=>(openBlock(),createElementBlock("li",{key:D},toDisplayString(E),1))),128))])]),createBaseVNode("div",_hoisted_23$6,[createBaseVNode("h2",_hoisted_24$6,toDisplayString(C.privacy.dataSharing.title),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(C.privacy.dataSharing.content,(E,D)=>(openBlock(),createElementBlock("p",{class:"text-gray-600 leading-relaxed mb-4",key:D},toDisplayString(E),1))),128))]),createBaseVNode("div",_hoisted_25$6,[createBaseVNode("h2",_hoisted_26$5,toDisplayString(C.privacy.yourRights.title),1),createBaseVNode("p",_hoisted_27$5,toDisplayString(C.privacy.yourRights.description),1),createBaseVNode("ul",_hoisted_28$5,[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.privacy.yourRights.rights,(E,D)=>(openBlock(),createElementBlock("li",{key:D},toDisplayString(E),1))),128))])]),createBaseVNode("div",_hoisted_29$5,[createBaseVNode("h2",_hoisted_30$5,toDisplayString(C.privacy.security.title),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(C.privacy.security.content,(E,D)=>(openBlock(),createElementBlock("p",{class:"text-gray-600 leading-relaxed",key:D},toDisplayString(E),1))),128))]),createBaseVNode("div",_hoisted_31$5,[createBaseVNode("h2",_hoisted_32$5,toDisplayString(C.privacy.cookies.title),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(C.privacy.cookies.content,(E,D)=>(openBlock(),createElementBlock("p",{class:"text-gray-600 leading-relaxed mb-4",key:D},toDisplayString(E),1))),128))]),createBaseVNode("div",_hoisted_33$5,[createBaseVNode("h2",_hoisted_34$5,toDisplayString(C.privacy.changes.title),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(C.privacy.changes.content,(E,D)=>(openBlock(),createElementBlock("p",{class:"text-gray-600 leading-relaxed",key:D},toDisplayString(E),1))),128))]),createBaseVNode("div",_hoisted_35$5,[createBaseVNode("h2",_hoisted_36$5,toDisplayString(C.privacy.contact.title),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(C.privacy.contact.content,(E,D)=>(openBlock(),createElementBlock("p",{class:"text-gray-600 leading-relaxed mb-4",key:D},toDisplayString(E),1))),128)),createVNode(P,{to:"/contact",class:"inline-block mt-4 px-6 py-3 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors"},{default:withCtx(()=>[createTextVNode(toDisplayString(C.privacy.contact.button),1)]),_:1})])])])])])])}const Privacy=_export_sfc(_sfc_main$e,[["render",_sfc_render$e]]),_sfc_main$d={name:"Terms",setup(){return{pagesStore:usePagesStore()}},data(){return{loading:!1}},computed:{terms(){return this.pagesStore.getTermsPageData()||{title:"Terms of Service",lastUpdated:"",heroImage:"",introduction:{},acceptance:{},useOfService:{},userAccounts:{},productsAndServices:{},paymentTerms:{},intellectualProperty:{},limitationOfLiability:{},indemnification:{},termination:{},governingLaw:{},changes:{},contact:{}}}},async mounted(){try{this.loading=!0,await this.pagesStore.loadPage("terms")}catch(x){console.error("Error loading terms page data from Notion:",x)}finally{this.loading=!1}}},_hoisted_1$b={class:"relative bg-gradient-to-br from-gray-100 to-gray-200 min-h-[300px] flex items-center"},_hoisted_2$b={class:"absolute inset-0"},_hoisted_3$b=["src"],_hoisted_4$b={class:"section-container px-4 sm:px-6 lg:px-8 relative z-10 w-full text-center"},_hoisted_5$b={class:"text-4xl md:text-5xl font-bold text-gray-900 mb-4"},_hoisted_6$b={class:"text-xl text-gray-600 max-w-2xl mx-auto"},_hoisted_7$b={class:"py-16 md:py-24 bg-white"},_hoisted_8$b={class:"section-container px-4 sm:px-6 lg:px-8"},_hoisted_9$b={class:"max-w-4xl mx-auto"},_hoisted_10$a={class:"space-y-8"},_hoisted_11$a={class:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100"},_hoisted_12$9={class:"text-2xl font-bold text-gray-900 mb-4"},_hoisted_13$9={class:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100"},_hoisted_14$8={class:"text-2xl font-bold text-gray-900 mb-4"},_hoisted_15$8={class:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100"},_hoisted_16$8={class:"text-2xl font-bold text-gray-900 mb-4"},_hoisted_17$7={class:"text-gray-600 leading-relaxed mb-4"},_hoisted_18$6={class:"list-disc list-inside space-y-2 text-gray-600 ml-4"},_hoisted_19$5={class:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100"},_hoisted_20$5={class:"text-2xl font-bold text-gray-900 mb-4"},_hoisted_21$5={class:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100"},_hoisted_22$5={class:"text-2xl font-bold text-gray-900 mb-4"},_hoisted_23$5={class:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100"},_hoisted_24$5={class:"text-2xl font-bold text-gray-900 mb-4"},_hoisted_25$5={class:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100"},_hoisted_26$4={class:"text-2xl font-bold text-gray-900 mb-4"},_hoisted_27$4={class:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100"},_hoisted_28$4={class:"text-2xl font-bold text-gray-900 mb-4"},_hoisted_29$4={class:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100"},_hoisted_30$4={class:"text-2xl font-bold text-gray-900 mb-4"},_hoisted_31$4={class:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100"},_hoisted_32$4={class:"text-2xl font-bold text-gray-900 mb-4"},_hoisted_33$4={class:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100"},_hoisted_34$4={class:"text-2xl font-bold text-gray-900 mb-4"},_hoisted_35$4={class:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100"},_hoisted_36$4={class:"text-2xl font-bold text-gray-900 mb-4"},_hoisted_37$4={class:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100"},_hoisted_38$4={class:"text-2xl font-bold text-gray-900 mb-4"};function _sfc_render$d(x,y,B,S,V,C){const P=resolveComponent("router-link");return openBlock(),createElementBlock("div",null,[createBaseVNode("section",_hoisted_1$b,[createBaseVNode("div",_hoisted_2$b,[createBaseVNode("img",{src:C.terms.heroImage,alt:"Terms",class:"w-full h-full object-cover opacity-30"},null,8,_hoisted_3$b),y[0]||(y[0]=createBaseVNode("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-400/20 via-gray-300/30 to-amber-600/20"},null,-1))]),createBaseVNode("div",_hoisted_4$b,[createBaseVNode("h1",_hoisted_5$b,toDisplayString(C.terms.title),1),createBaseVNode("p",_hoisted_6$b,toDisplayString(C.terms.lastUpdated),1)])]),createBaseVNode("div",_hoisted_7$b,[createBaseVNode("div",_hoisted_8$b,[createBaseVNode("div",_hoisted_9$b,[createBaseVNode("div",_hoisted_10$a,[createBaseVNode("div",_hoisted_11$a,[createBaseVNode("h2",_hoisted_12$9,toDisplayString(C.terms.introduction.title),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(C.terms.introduction.content,(E,D)=>(openBlock(),createElementBlock("p",{class:"text-gray-600 leading-relaxed mb-4",key:D},toDisplayString(E),1))),128))]),createBaseVNode("div",_hoisted_13$9,[createBaseVNode("h2",_hoisted_14$8,toDisplayString(C.terms.acceptance.title),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(C.terms.acceptance.content,(E,D)=>(openBlock(),createElementBlock("p",{class:"text-gray-600 leading-relaxed",key:D},toDisplayString(E),1))),128))]),createBaseVNode("div",_hoisted_15$8,[createBaseVNode("h2",_hoisted_16$8,toDisplayString(C.terms.useOfService.title),1),createBaseVNode("p",_hoisted_17$7,toDisplayString(C.terms.useOfService.description),1),createBaseVNode("ul",_hoisted_18$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.terms.useOfService.restrictions,(E,D)=>(openBlock(),createElementBlock("li",{key:D},toDisplayString(E),1))),128))])]),createBaseVNode("div",_hoisted_19$5,[createBaseVNode("h2",_hoisted_20$5,toDisplayString(C.terms.userAccounts.title),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(C.terms.userAccounts.content,(E,D)=>(openBlock(),createElementBlock("p",{class:"text-gray-600 leading-relaxed mb-4",key:D},toDisplayString(E),1))),128))]),createBaseVNode("div",_hoisted_21$5,[createBaseVNode("h2",_hoisted_22$5,toDisplayString(C.terms.productsAndServices.title),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(C.terms.productsAndServices.content,(E,D)=>(openBlock(),createElementBlock("p",{class:"text-gray-600 leading-relaxed mb-4",key:D},toDisplayString(E),1))),128))]),createBaseVNode("div",_hoisted_23$5,[createBaseVNode("h2",_hoisted_24$5,toDisplayString(C.terms.paymentTerms.title),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(C.terms.paymentTerms.content,(E,D)=>(openBlock(),createElementBlock("p",{class:"text-gray-600 leading-relaxed mb-4",key:D},toDisplayString(E),1))),128))]),createBaseVNode("div",_hoisted_25$5,[createBaseVNode("h2",_hoisted_26$4,toDisplayString(C.terms.intellectualProperty.title),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(C.terms.intellectualProperty.content,(E,D)=>(openBlock(),createElementBlock("p",{class:"text-gray-600 leading-relaxed mb-4",key:D},toDisplayString(E),1))),128))]),createBaseVNode("div",_hoisted_27$4,[createBaseVNode("h2",_hoisted_28$4,toDisplayString(C.terms.limitationOfLiability.title),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(C.terms.limitationOfLiability.content,(E,D)=>(openBlock(),createElementBlock("p",{class:"text-gray-600 leading-relaxed",key:D},toDisplayString(E),1))),128))]),createBaseVNode("div",_hoisted_29$4,[createBaseVNode("h2",_hoisted_30$4,toDisplayString(C.terms.indemnification.title),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(C.terms.indemnification.content,(E,D)=>(openBlock(),createElementBlock("p",{class:"text-gray-600 leading-relaxed",key:D},toDisplayString(E),1))),128))]),createBaseVNode("div",_hoisted_31$4,[createBaseVNode("h2",_hoisted_32$4,toDisplayString(C.terms.termination.title),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(C.terms.termination.content,(E,D)=>(openBlock(),createElementBlock("p",{class:"text-gray-600 leading-relaxed",key:D},toDisplayString(E),1))),128))]),createBaseVNode("div",_hoisted_33$4,[createBaseVNode("h2",_hoisted_34$4,toDisplayString(C.terms.governingLaw.title),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(C.terms.governingLaw.content,(E,D)=>(openBlock(),createElementBlock("p",{class:"text-gray-600 leading-relaxed",key:D},toDisplayString(E),1))),128))]),createBaseVNode("div",_hoisted_35$4,[createBaseVNode("h2",_hoisted_36$4,toDisplayString(C.terms.changes.title),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(C.terms.changes.content,(E,D)=>(openBlock(),createElementBlock("p",{class:"text-gray-600 leading-relaxed",key:D},toDisplayString(E),1))),128))]),createBaseVNode("div",_hoisted_37$4,[createBaseVNode("h2",_hoisted_38$4,toDisplayString(C.terms.contact.title),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(C.terms.contact.content,(E,D)=>(openBlock(),createElementBlock("p",{class:"text-gray-600 leading-relaxed mb-4",key:D},toDisplayString(E),1))),128)),createVNode(P,{to:"/contact",class:"inline-block mt-4 px-6 py-3 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors"},{default:withCtx(()=>[createTextVNode(toDisplayString(C.terms.contact.button),1)]),_:1})])])])])])])}const Terms=_export_sfc(_sfc_main$d,[["render",_sfc_render$d]]),_sfc_main$c={name:"Admin",data(){return{sidebarOpen:!1,menuItems:[{label:"Dashboard",path:"/admin",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},{label:"Products",path:"/admin/products",icon:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"},{label:"Page Content",path:"/admin/content",icon:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},{label:"Site Settings",path:"/admin/settings",icon:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z"}]}},methods:{toggleSidebar(){this.sidebarOpen=!this.sidebarOpen},closeSidebar(){this.sidebarOpen=!1},logout(){useAuthStore().logout(),this.$router.push("/")}},watch:{$route(){window.innerWidth<1024&&this.closeSidebar()}},mounted(){const x=()=>{window.innerWidth>=1024&&(this.sidebarOpen=!1)};window.addEventListener("resize",x),this.$once("hook:beforeDestroy",()=>{window.removeEventListener("resize",x)})}},_hoisted_1$a={class:"min-h-screen bg-gray-50"},_hoisted_2$a={class:"bg-white border-b border-gray-200 shadow-sm sticky top-0 z-40"},_hoisted_3$a={class:"px-4 sm:px-6 lg:px-8 py-3 sm:py-4"},_hoisted_4$a={class:"flex items-center justify-between"},_hoisted_5$a={class:"flex items-center gap-2 sm:gap-4"},_hoisted_6$a={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_7$a={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},_hoisted_8$a={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},_hoisted_9$a={class:"flex items-center gap-2 sm:gap-4"},_hoisted_10$9={class:"flex relative h-[calc(100vh-57px)]"},_hoisted_11$9={class:"p-4 space-y-2 h-full overflow-y-auto"},_hoisted_12$8={class:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_13$8=["d"],_hoisted_14$7={class:"truncate"},_hoisted_15$7={class:"flex-1 w-full min-w-0 overflow-y-scroll"},_hoisted_16$7={class:"p-4 sm:p-6"};function _sfc_render$c(x,y,B,S,V,C){const P=resolveComponent("router-link"),E=resolveComponent("router-view");return openBlock(),createElementBlock("div",_hoisted_1$a,[createBaseVNode("header",_hoisted_2$a,[createBaseVNode("div",_hoisted_3$a,[createBaseVNode("div",_hoisted_4$a,[createBaseVNode("div",_hoisted_5$a,[createBaseVNode("button",{onClick:y[0]||(y[0]=(...D)=>C.toggleSidebar&&C.toggleSidebar(...D)),class:"lg:hidden p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors"},[(openBlock(),createElementBlock("svg",_hoisted_6$a,[V.sidebarOpen?(openBlock(),createElementBlock("path",_hoisted_8$a)):(openBlock(),createElementBlock("path",_hoisted_7$a))]))]),y[3]||(y[3]=createBaseVNode("h1",{class:"text-xl sm:text-2xl font-bold text-gray-900"},"Admin Dashboard",-1)),y[4]||(y[4]=createBaseVNode("span",{class:"hidden sm:inline-block px-3 py-1 bg-emerald-100 text-emerald-700 rounded-full text-sm font-medium"},"Admin",-1))]),createBaseVNode("div",_hoisted_9$a,[createVNode(P,{to:"/",class:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Back to Home"},{default:withCtx(()=>[...y[5]||(y[5]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),_:1}),createBaseVNode("button",{onClick:y[1]||(y[1]=(...D)=>C.logout&&C.logout(...D)),class:"px-3 sm:px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors"},[...y[6]||(y[6]=[createBaseVNode("span",{class:"hidden sm:inline"},"Logout",-1),createBaseVNode("svg",{class:"w-5 h-5 sm:hidden",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1)])])])])])]),createBaseVNode("div",_hoisted_10$9,[V.sidebarOpen?(openBlock(),createElementBlock("div",{key:0,onClick:y[2]||(y[2]=(...D)=>C.closeSidebar&&C.closeSidebar(...D)),class:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden transition-opacity"})):createCommentVNode("",!0),createBaseVNode("aside",{class:normalizeClass(["fixed lg:static left-0 z-40 w-64 bg-white border-r border-gray-200 transform transition-transform duration-300 ease-in-out lg:translate-x-0",V.sidebarOpen?"translate-x-0":"-translate-x-full"]),style:{top:"57px",height:"calc(100vh - 57px)"}},[createBaseVNode("nav",_hoisted_11$9,[(openBlock(!0),createElementBlock(Fragment,null,renderList(V.menuItems,D=>(openBlock(),createBlock(P,{key:D.path,to:D.path,onClick:C.closeSidebar,class:normalizeClass(["flex items-center gap-3 px-4 py-3 rounded-lg transition-colors",[x.$route.path===D.path||x.$route.path.startsWith(D.path)&&D.path!=="/admin"?"bg-emerald-50 text-emerald-700 font-medium":"text-gray-700 hover:bg-gray-50"]])},{default:withCtx(()=>[(openBlock(),createElementBlock("svg",_hoisted_12$8,[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:D.icon},null,8,_hoisted_13$8)])),createBaseVNode("span",_hoisted_14$7,toDisplayString(D.label),1)]),_:2},1032,["to","onClick","class"]))),128))])],2),createBaseVNode("main",_hoisted_15$7,[createBaseVNode("div",_hoisted_16$7,[createVNode(E)])])])])}const Admin=_export_sfc(_sfc_main$c,[["render",_sfc_render$c]]),_sfc_main$b={name:"AdminDashboard",setup(){return{dashboardStore:useDashboardStore()}},data(){return{}},async mounted(){await this.dashboardStore.initializeDashboard()},methods:{getNotionDatabaseUrl(x){var S;if(!x)return"#";const y=this.dashboardStore.databaseInfo.find(V=>V.id===x);if(y!=null&&y.url)return y.url;const B=this.formatNotionIdForUrl(x);if((S=this.dashboardStore.pageInfo)!=null&&S.url){const C=this.dashboardStore.pageInfo.url.match(/https?:\/\/www\.notion\.so\/([^\/]+)/);if(C&&C[1]&&C[1]!==B)return`https://www.notion.so/${C[1]}/${B}`}return null},formatNotionIdForUrl(x){if(!x)return x;const y=x.replace(/-/g,"");return y.length===32?`${y.slice(0,8)}-${y.slice(8,12)}-${y.slice(12,16)}-${y.slice(16,20)}-${y.slice(20)}`:x}}},_hoisted_1$9={key:0},_hoisted_2$9={class:"bg-white rounded-lg shadow p-6 mb-8"},_hoisted_3$9={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},_hoisted_4$9={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},_hoisted_5$9={class:"bg-white rounded-lg shadow p-6 mb-8"},_hoisted_6$9={class:"space-y-4"},_hoisted_7$9={class:"bg-white rounded-lg shadow p-6"},_hoisted_8$9={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},_hoisted_9$9={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6"},_hoisted_10$8={class:"flex items-center"},_hoisted_11$8={class:"text-red-800"},_hoisted_12$7={key:2,class:"bg-white rounded-lg shadow p-6 mb-8"},_hoisted_13$7={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},_hoisted_14$6={key:3,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},_hoisted_15$6={class:"bg-white rounded-lg shadow p-6"},_hoisted_16$6={class:"flex items-center justify-between"},_hoisted_17$6={class:"text-3xl font-bold text-gray-900 mt-2"},_hoisted_18$5={class:"bg-white rounded-lg shadow p-6"},_hoisted_19$4={class:"flex items-center justify-between"},_hoisted_20$4={class:"text-3xl font-bold text-gray-900 mt-2"},_hoisted_21$4={class:"bg-white rounded-lg shadow p-6"},_hoisted_22$4={class:"flex items-center justify-between"},_hoisted_23$4={class:"text-3xl font-bold text-gray-900 mt-2"},_hoisted_24$4={class:"bg-white rounded-lg shadow p-6"},_hoisted_25$4={class:"flex items-center justify-between"},_hoisted_26$3={class:"text-3xl font-bold text-gray-900 mt-2"},_hoisted_27$3={key:4,class:"bg-white rounded-lg shadow p-6 mb-8"},_hoisted_28$3={key:0,class:"space-y-4"},_hoisted_29$3={class:"p-2 bg-gray-100 rounded-lg"},_hoisted_30$3={class:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_hoisted_31$3=["d"],_hoisted_32$3={class:"flex-1"},_hoisted_33$3={class:"text-sm font-medium text-gray-900"},_hoisted_34$3={class:"text-xs text-gray-500"},_hoisted_35$3={key:1,class:"text-center py-8 text-gray-500"},_hoisted_36$3={key:5,class:"bg-white rounded-lg shadow p-6"},_hoisted_37$3={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},_hoisted_38$3={class:"flex items-start justify-between gap-3"},_hoisted_39$2={class:"flex-1 min-w-0"},_hoisted_40$2={class:"font-medium text-gray-900 mb-1 truncate"},_hoisted_41$2={class:"text-xs text-gray-500"},_hoisted_42$2=["href"];function _sfc_render$b(x,y,B,S,V,C){const P=resolveComponent("router-link");return openBlock(),createElementBlock("div",null,[y[23]||(y[23]=createBaseVNode("div",{class:"mb-6"},[createBaseVNode("h2",{class:"text-3xl font-bold text-gray-900"},"Dashboard Overview"),createBaseVNode("p",{class:"text-gray-600 mt-2"},"Welcome to the admin dashboard. Manage your platform from here.")],-1)),S.dashboardStore.loading?(openBlock(),createElementBlock("div",_hoisted_1$9,[createBaseVNode("div",_hoisted_2$9,[y[1]||(y[1]=createBaseVNode("div",{class:"h-6 bg-gray-200 rounded w-32 mb-4 animate-pulse"},null,-1)),createBaseVNode("div",_hoisted_3$9,[(openBlock(),createElementBlock(Fragment,null,renderList(2,E=>createBaseVNode("div",{key:E,class:"p-4 border border-gray-200 rounded-lg"},[...y[0]||(y[0]=[createBaseVNode("div",{class:"flex items-center gap-3"},[createBaseVNode("div",{class:"w-6 h-6 bg-gray-200 rounded animate-pulse"}),createBaseVNode("div",{class:"h-5 bg-gray-200 rounded w-32 animate-pulse"})],-1)])])),64))])]),createBaseVNode("div",_hoisted_4$9,[(openBlock(),createElementBlock(Fragment,null,renderList(4,E=>createBaseVNode("div",{key:E,class:"bg-white rounded-lg shadow p-6"},[...y[2]||(y[2]=[createStaticVNode('<div class="flex items-center justify-between"><div class="flex-1"><div class="h-4 bg-gray-200 rounded w-24 mb-3 animate-pulse"></div><div class="h-8 bg-gray-200 rounded w-16 animate-pulse"></div></div><div class="p-3 bg-gray-100 rounded-lg animate-pulse"><div class="w-8 h-8 bg-gray-200 rounded"></div></div></div>',1)])])),64))]),createBaseVNode("div",_hoisted_5$9,[y[4]||(y[4]=createBaseVNode("div",{class:"h-6 bg-gray-200 rounded w-40 mb-4 animate-pulse"},null,-1)),createBaseVNode("div",_hoisted_6$9,[(openBlock(),createElementBlock(Fragment,null,renderList(3,E=>createBaseVNode("div",{key:E,class:"flex items-center gap-4 p-3 border-b border-gray-100"},[...y[3]||(y[3]=[createStaticVNode('<div class="p-2 bg-gray-100 rounded-lg"><div class="w-5 h-5 bg-gray-200 rounded animate-pulse"></div></div><div class="flex-1"><div class="h-4 bg-gray-200 rounded w-48 mb-2 animate-pulse"></div><div class="h-3 bg-gray-200 rounded w-24 animate-pulse"></div></div>',2)])])),64))])]),createBaseVNode("div",_hoisted_7$9,[y[6]||(y[6]=createBaseVNode("div",{class:"h-6 bg-gray-200 rounded w-48 mb-4 animate-pulse"},null,-1)),createBaseVNode("div",_hoisted_8$9,[(openBlock(),createElementBlock(Fragment,null,renderList(3,E=>createBaseVNode("div",{key:E,class:"p-4 border border-gray-200 rounded-lg"},[...y[5]||(y[5]=[createBaseVNode("div",{class:"h-5 bg-gray-200 rounded w-32 mb-2 animate-pulse"},null,-1),createBaseVNode("div",{class:"h-3 bg-gray-200 rounded w-24 mb-3 animate-pulse"},null,-1),createBaseVNode("div",{class:"h-9 bg-gray-200 rounded w-full animate-pulse"},null,-1)])])),64))])])])):S.dashboardStore.error?(openBlock(),createElementBlock("div",_hoisted_9$9,[createBaseVNode("div",_hoisted_10$8,[y[7]||(y[7]=createBaseVNode("svg",{class:"w-5 h-5 text-red-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),createBaseVNode("p",_hoisted_11$8,toDisplayString(S.dashboardStore.error),1)])])):createCommentVNode("",!0),S.dashboardStore.loading?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_12$7,[y[10]||(y[10]=createBaseVNode("h3",{class:"text-xl font-bold text-gray-900 mb-4"},"Quick Actions",-1)),createBaseVNode("div",_hoisted_13$7,[createVNode(P,{to:"/admin/products/add",class:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:border-emerald-500 hover:bg-emerald-50 transition-colors"},{default:withCtx(()=>[...y[8]||(y[8]=[createBaseVNode("svg",{class:"w-6 h-6 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),createBaseVNode("span",{class:"font-medium text-gray-900"},"Add New Product",-1)])]),_:1}),createVNode(P,{to:"/admin/settings",class:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:border-emerald-500 hover:bg-emerald-50 transition-colors"},{default:withCtx(()=>[...y[9]||(y[9]=[createBaseVNode("svg",{class:"w-6 h-6 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),createBaseVNode("span",{class:"font-medium text-gray-900"},"Update Settings",-1)])]),_:1})])])),!S.dashboardStore.loading&&!S.dashboardStore.error?(openBlock(),createElementBlock("div",_hoisted_14$6,[createBaseVNode("div",_hoisted_15$6,[createBaseVNode("div",_hoisted_16$6,[createBaseVNode("div",null,[y[11]||(y[11]=createBaseVNode("p",{class:"text-sm font-medium text-gray-600"},"Total Products",-1)),createBaseVNode("p",_hoisted_17$6,toDisplayString(S.dashboardStore.stats.totalProducts),1)]),y[12]||(y[12]=createBaseVNode("div",{class:"p-3 bg-blue-100 rounded-lg"},[createBaseVNode("svg",{class:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])],-1))])]),createBaseVNode("div",_hoisted_18$5,[createBaseVNode("div",_hoisted_19$4,[createBaseVNode("div",null,[y[13]||(y[13]=createBaseVNode("p",{class:"text-sm font-medium text-gray-600"},"Categories",-1)),createBaseVNode("p",_hoisted_20$4,toDisplayString(S.dashboardStore.stats.totalCategories),1)]),y[14]||(y[14]=createBaseVNode("div",{class:"p-3 bg-emerald-100 rounded-lg"},[createBaseVNode("svg",{class:"w-8 h-8 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})])],-1))])]),createBaseVNode("div",_hoisted_21$4,[createBaseVNode("div",_hoisted_22$4,[createBaseVNode("div",null,[y[15]||(y[15]=createBaseVNode("p",{class:"text-sm font-medium text-gray-600"},"Available",-1)),createBaseVNode("p",_hoisted_23$4,toDisplayString(S.dashboardStore.stats.availableProducts),1)]),y[16]||(y[16]=createBaseVNode("div",{class:"p-3 bg-green-100 rounded-lg"},[createBaseVNode("svg",{class:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),createBaseVNode("div",_hoisted_24$4,[createBaseVNode("div",_hoisted_25$4,[createBaseVNode("div",null,[y[17]||(y[17]=createBaseVNode("p",{class:"text-sm font-medium text-gray-600"},"Pages",-1)),createBaseVNode("p",_hoisted_26$3,toDisplayString(S.dashboardStore.stats.totalPages),1)]),y[18]||(y[18]=createBaseVNode("div",{class:"p-3 bg-purple-100 rounded-lg"},[createBaseVNode("svg",{class:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1))])])])):createCommentVNode("",!0),S.dashboardStore.loading?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_27$3,[y[20]||(y[20]=createBaseVNode("h3",{class:"text-xl font-bold text-gray-900 mb-4"},"Recent Activity",-1)),S.dashboardStore.recentActivity.length>0?(openBlock(),createElementBlock("div",_hoisted_28$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(S.dashboardStore.recentActivity,E=>(openBlock(),createElementBlock("div",{key:E.id,class:"flex items-center gap-4 p-3 border-b border-gray-100 last:border-0"},[createBaseVNode("div",_hoisted_29$3,[(openBlock(),createElementBlock("svg",_hoisted_30$3,[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:E.icon},null,8,_hoisted_31$3)]))]),createBaseVNode("div",_hoisted_32$3,[createBaseVNode("p",_hoisted_33$3,toDisplayString(E.action),1),createBaseVNode("p",_hoisted_34$3,toDisplayString(E.time),1)])]))),128))])):(openBlock(),createElementBlock("div",_hoisted_35$3,[...y[19]||(y[19]=[createBaseVNode("p",null,"No recent activity",-1)])]))])),S.dashboardStore.databaseInfo.length>0&&!S.dashboardStore.loading?(openBlock(),createElementBlock("div",_hoisted_36$3,[y[22]||(y[22]=createBaseVNode("h3",{class:"text-xl font-bold text-gray-900 mb-4"},"Detected Databases",-1)),createBaseVNode("div",_hoisted_37$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(S.dashboardStore.databaseInfo,E=>(openBlock(),createElementBlock("div",{key:E.id,class:"p-4 border border-gray-200 rounded-lg hover:border-emerald-300 hover:shadow-md transition-all"},[createBaseVNode("div",_hoisted_38$3,[createBaseVNode("div",_hoisted_39$2,[createBaseVNode("p",_hoisted_40$2,toDisplayString(E.title),1),createBaseVNode("p",_hoisted_41$2,toDisplayString(Object.keys(E.properties||{}).length)+" properties",1)]),createBaseVNode("a",{href:C.getNotionDatabaseUrl(E.id),target:"_blank",rel:"noopener noreferrer",class:"flex-shrink-0 inline-flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-emerald-600 hover:text-emerald-700 hover:bg-emerald-50 rounded-lg transition-colors border border-emerald-200 hover:border-emerald-300 whitespace-nowrap"},[...y[21]||(y[21]=[createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1),createTextVNode(" Open in Notion ",-1)])],8,_hoisted_42$2)])]))),128))])])):createCommentVNode("",!0)])}const AdminDashboard=_export_sfc(_sfc_main$b,[["render",_sfc_render$b]]),_sfc_main$a={name:"AdminProducts",components:{SearchBar:__unplugin_components_0$4},setup(){const x=useItemStore(),y=useDashboardStore(),B=useConfirm();return{itemStore:x,dashboardStore:y,confirm:B}},data(){return{hasLoaded:!1,currentPage:1,itemsPerPage:50,imageIndices:{},searchQuery:""}},computed:{loading(){return this.itemStore.loading},error(){return this.itemStore.error},products(){return this.itemStore.items||[]},totalProducts(){return this.products.length},databaseInfo(){return this.itemStore.databaseInfo},databaseId(){return this.databaseInfo&&this.databaseInfo.id?this.databaseInfo.id:this.dashboardStore.productsDatabaseId||this.itemStore.databaseId||null},schema(){return this.itemStore.schema},filteredProducts(){if(!this.searchQuery||!this.searchQuery.trim())return this.products;const x=this.searchQuery.toLowerCase();return this.products.filter(y=>{const B=(this.getProductTitle(y)||"").toLowerCase(),S=(y.Description||y.description||"").toLowerCase(),V=(y.Category||y.category||"").toLowerCase();return B.includes(x)||S.includes(x)||V.includes(x)})},dataColumns(){var P;if(!this.schema||!this.schema.properties)return[];const x=this.dashboardStore.productsDatabaseId,y=((P=this.databaseInfo)==null?void 0:P.id)||this.databaseId,B=E=>String(E||"").replace(/-/g,"").toLowerCase();if(x&&y){const E=B(x),D=B(y);E!==D&&(console.error("dataColumns: Schema database mismatch! Expected products database:",x,"but got:",y),console.error("dataColumns: This means columns from the wrong database may be shown."))}else x&&!y&&console.warn("dataColumns: Expected products database ID but no current database ID. Schema may not be loaded yet.");const S=["id","Image","image","Images","images","Title","title","Name","name","Slug","slug","Updated Date","updated_date","Pages","pages","Page","page","Approved","approved"],V=[];Object.entries(this.schema.properties).forEach(([E,D])=>{const z=E.toLowerCase();S.some(j=>j.toLowerCase()===z)||z==="approved"||z==="images"||z==="image"||z==="page"||z==="pages"||z.startsWith("page ")||z.endsWith(" page")||z.includes(" page ")||D.type==="title"||V.push({key:E,label:this.formatLabel(E),type:D.type,format:D.format||null})});const C=["location","latitude","longitude"];return V.sort((E,D)=>{const z=E.key.toLowerCase(),T=D.key.toLowerCase(),j=C.indexOf(z),R=C.indexOf(T);return j!==-1&&R!==-1?j-R:j!==-1?-1:R!==-1?1:0}),V},totalPages(){return Math.max(1,Math.ceil(this.filteredProducts.length/this.itemsPerPage)||1)},paginatedProducts(){const x=(this.currentPage-1)*this.itemsPerPage,y=x+this.itemsPerPage;return this.filteredProducts.slice(x,y)}},watch:{searchQuery(){this.currentPage=1}},async mounted(){if(!this.dashboardStore.productsDatabaseId)try{await this.dashboardStore.initializeDashboard(!1,{skipAggregations:!0,skipRecentActivity:!0})}catch(x){console.error("Error initializing dashboard:",x)}await this.loadProducts()},methods:{async loadProducts(){var x,y;try{this.hasLoaded=!1;const B=this.dashboardStore.productsDatabaseId;if(!B)throw new Error("Products database ID not found. Please ensure the dashboard is initialized.");const S=z=>String(z||"").replace(/-/g,"").toLowerCase(),V=S(B),C=this.itemStore.databaseId,P=S(C);this.itemStore.setDatabaseId(B),P&&P!==V&&await new Promise(z=>setTimeout(z,50)),await this.itemStore.fetchSchema(!0);const E=((x=this.itemStore.databaseInfo)==null?void 0:x.id)||this.itemStore.databaseId,D=S(E);if(D&&D!==V){console.error("AdminProducts: Schema database ID mismatch after reload! Expected:",B,"Got:",E),console.error("AdminProducts: This indicates the schema is from the wrong database. Retrying..."),this.itemStore.setDatabaseId(null),await new Promise(j=>setTimeout(j,100)),this.itemStore.setDatabaseId(B),await this.itemStore.fetchSchema(!0);const z=((y=this.itemStore.databaseInfo)==null?void 0:y.id)||this.itemStore.databaseId;if(S(z)!==V)throw console.error("AdminProducts: Still getting wrong schema after retry. This is a critical error."),new Error(`Failed to load products database schema. Expected: ${B}, Got: ${z}`)}this.itemStore.databaseInfo||console.warn("AdminProducts: databaseInfo is null after schema load"),await this.itemStore.fetchAllItems(),this.hasLoaded=!0}catch(B){throw console.error("Error loading products:",B),this.hasLoaded=!0,B}},handleAdminSearch(x){this.searchQuery=(x==null?void 0:x.query)||""},getProductImages(x){const y=x.Images||x.images;if(y){if(Array.isArray(y)){const S=[];for(const V of y)typeof V=="string"&&this.isImageUrl(V)?S.push(V):typeof V=="object"&&(V.url&&this.isImageUrl(V.url)?S.push(V.url):V.name&&this.isImageUrl(V.name)&&S.push(V.name));if(S.length>0)return S}if(typeof y=="string"){const S=this.getImageUrlsFromValue(y);if(S.length>0)return S}}const B=this.getProductImage(x);return B?[B]:[]},getProductImage(x){const y=["Image","image","Photo","photo","Picture","picture","Thumbnail","thumbnail"];for(const B of y)if(x[B]){if(Array.isArray(x[B])&&x[B].length>0&&x[B][0].url)return x[B][0].url;if(typeof x[B]=="string"&&x[B].startsWith("http"))return x[B]}for(const B in x)if(Array.isArray(x[B])&&x[B].length>0&&x[B][0].url)return x[B][0].url;return null},getProductTitle(x){const y=["Title","title","Name","name"];for(const B of y)if(x[B]&&x[B].trim())return x[B];return null},getProductSlug(x){const y=x.Slug||x.slug;if(y&&y.trim())return y.trim();const B=this.getProductTitle(x);return B&&typeof B=="string"?B.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""):x.id||"untitled"},formatLabel(x){return NotionMiddleware&&typeof NotionMiddleware.formatLabel=="function"?NotionMiddleware.formatLabel(x):x.replace(/([A-Z])/g," $1").replace(/_/g," ").replace(/^\w/,y=>y.toUpperCase()).trim()},getTitleFieldLabel(){var y;if(!((y=this.schema)!=null&&y.properties))return null;const x=Object.entries(this.schema.properties).find(([B,S])=>S.type==="title");return x?this.formatLabel(x[0]):null},getFieldIcon(x){const y=x.key.toLowerCase(),B=x.type;return B==="email"||y.includes("email")?"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z":B==="phone_number"||y.includes("phone")?"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z":B==="url"||y.includes("url")||y.includes("website")||y.includes("link")?"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1":B==="date"?"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z":B==="number"?"M7 20l4-16m2 16l4-16M6 9h14M4 15h14":B==="files"?"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z":B==="multi_select"?"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z":B==="select"?"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2":null},getFieldIconClass(x){const y=x.key.toLowerCase(),B=x.type;return B==="email"||y.includes("email")||B==="phone_number"||y.includes("phone")||B==="url"||y.includes("url")||y.includes("website")?"text-blue-500":B==="number"?"text-green-500":B==="multi_select"?"text-purple-500":B==="files"?"text-blue-500":"text-gray-500"},getAvatarInitials(x){const y=this.getProductTitle(x);if(y&&typeof y=="string"){const B=y.trim().split(/\s+/);if(B.length>=2)return`${B[0][0]}${B[B.length-1][0]}`.toUpperCase();if(B.length===1)return B[0][0].toUpperCase()}return"?"},getBooleanFields(x){var B;if(!((B=this.schema)!=null&&B.properties)||!x)return[];const y=[];return Object.entries(this.schema.properties).forEach(([S,V])=>{V.type==="checkbox"&&x[S]!==void 0&&y.push([S,x[S]||!1])}),y},getBooleanBadgeClasses(x,y){const B=x.toLowerCase()==="approved",S="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium";return y?`${S} bg-green-100 text-green-800`:B?`${S} bg-red-100 text-red-800`:`${S} bg-gray-100 text-gray-800`},getBooleanBadgeText(x,y){return x.toLowerCase()==="approved"&&!y?"Not Approved":this.formatLabel(x)},isImageFile(x){if(!x)return!1;if(x.type&&x.type.startsWith("image/"))return!0;const y=x.name||x.filename||"";if(y){const B=[".jpg",".jpeg",".png",".gif",".bmp",".webp",".svg",".tiff",".ico",".avif"],S=y.toLowerCase();if(B.some(V=>S.endsWith(V)))return!0}return x.url?this.isImageUrl(x.url):x.external&&x.external.url?this.isImageUrl(x.external.url):!1},getFilePreviewUrl(x){return x?x.url?x.url:x.external&&x.external.url?x.external.url:x.preview?x.preview:x.file&&x.file instanceof File?URL.createObjectURL(x.file):"":""},isImageUrl(x){if(!x||typeof x!="string")return!1;try{new URL(x)}catch{return!1}const y=[".jpg",".jpeg",".png",".gif",".bmp",".webp",".svg",".tiff",".ico",".avif"],B=x.toLowerCase(),S=y.some(D=>B.includes(D)),C=["imgur.com","unsplash.com","pexels.com","pixabay.com","cloudinary.com","imagekit.io"].some(D=>B.includes(D)),E=["/image/","/img/","/photo/","/picture/","/media/","i.imgur.com","cdn.","images."].some(D=>B.includes(D));return S||C||E},openImageModal(x){window.open(x,"_blank","noopener,noreferrer")},getImageFiles(x){if(!x||!Array.isArray(x))return[];const y=[];for(const B of x)if(this.isImageFile(B)){const S=this.getFilePreviewUrl(B);S&&S.trim()&&y.push(S)}return y},getNonImageFiles(x){return!x||!Array.isArray(x)?[]:x.filter(y=>!this.isImageFile(y))},getImageUrlsFromValue(x){if(!x)return[];if(Array.isArray(x))return x.map(y=>typeof y=="string"&&this.isImageUrl(y)?y:typeof y=="object"&&y.url&&this.isImageUrl(y.url)?y.url:null).filter(y=>y);if(typeof x=="string"){const y=x.trim();return this.isImageUrl(y)?[y]:y.split(/[,\n]/).map(V=>V.trim()).filter(V=>V).filter(V=>this.isImageUrl(V))}return[]},isImagesColumn(x){return!x||!Array.isArray(x)?!1:x.some(y=>{const B=typeof y=="object"&&(y.url||y.name)||y;return typeof B=="string"&&this.isImageUrl(B)})},getImageUrlsFromMultiSelect(x){return!x||!Array.isArray(x)?[]:x.map(y=>{const B=typeof y=="object"&&(y.url||y.name)||y;return typeof B=="string"&&this.isImageUrl(B)?B:null}).filter(y=>y)},getImageKey(x,y){return`${x.id}_${y}`},getCurrentImageIndex(x,y){const B=this.getImageKey(x,y);return this.imageIndices[B]||0},setCurrentImageIndex(x,y,B){const S=this.getImageKey(x,y);this.imageIndices[S]=B},nextImage(x,y){const B=this.getImageFiles(x[y]);if(B.length>0){const P=(this.getCurrentImageIndex(x,y)+1)%B.length;this.setCurrentImageIndex(x,y,P);return}const S=this.getImageUrlsFromMultiSelect(x[y]);if(S.length>0){const P=(this.getCurrentImageIndex(x,y)+1)%S.length;this.setCurrentImageIndex(x,y,P);return}const V=this.getImageUrlsFromValue(x[y]);if(V.length>0){const P=(this.getCurrentImageIndex(x,y)+1)%V.length;this.setCurrentImageIndex(x,y,P)}},previousImage(x,y){const B=this.getImageFiles(x[y]);if(B.length>0){const P=(this.getCurrentImageIndex(x,y)-1+B.length)%B.length;this.setCurrentImageIndex(x,y,P);return}const S=this.getImageUrlsFromMultiSelect(x[y]);if(S.length>0){const P=(this.getCurrentImageIndex(x,y)-1+S.length)%S.length;this.setCurrentImageIndex(x,y,P);return}const V=this.getImageUrlsFromValue(x[y]);if(V.length>0){const P=(this.getCurrentImageIndex(x,y)-1+V.length)%V.length;this.setCurrentImageIndex(x,y,P)}},isCurrencyField(x){var B,S,V;if(!((S=(B=this.schema)==null?void 0:B.properties)!=null&&S[x]))return!1;const y=this.schema.properties[x];return y.type==="number"&&((V=y.number)==null?void 0:V.format)&&y.number.format!=="number"},formatDate(x){if(!x)return"";try{return new Date(x).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return x}},formatNumber(x,y){return x==null?"":y==="dollar"||y==="usd"?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(x):y==="euro"||y==="eur"?new Intl.NumberFormat("en-US",{style:"currency",currency:"EUR"}).format(x):y==="pound"||y==="gbp"?new Intl.NumberFormat("en-US",{style:"currency",currency:"GBP"}).format(x):y==="yen"||y==="jpy"?new Intl.NumberFormat("en-US",{style:"currency",currency:"JPY"}).format(x):y==="percent"?`${x}%`:new Intl.NumberFormat("en-US").format(x)},truncateText(x,y){return x?x.length<=y?x:x.substring(0,y)+"...":""},getSelectColorClass(x){const y={default:"bg-gray-100 text-gray-800",gray:"bg-gray-100 text-gray-800",brown:"bg-amber-100 text-amber-800",orange:"bg-orange-100 text-orange-800",yellow:"bg-yellow-100 text-yellow-800",green:"bg-green-100 text-green-800",blue:"bg-blue-100 text-blue-800",purple:"bg-purple-100 text-purple-800",pink:"bg-pink-100 text-pink-800",red:"bg-red-100 text-red-800"};return y[x]||y.default},editProduct(x){this.$router.push(`/admin/products/edit/${x}`)},async deleteProduct(x){this.confirm.require({message:"Are you sure you want to delete this product? This action cannot be undone.",header:"Delete Product",icon:"pi pi-exclamation-triangle",rejectClass:"p-button-text p-button-text",acceptClass:"p-button-danger",acceptLabel:"Delete",rejectLabel:"Cancel",accept:async()=>{try{await this.itemStore.deleteItem(x)}catch(y){console.error("Error deleting product:",y),alert(`Error deleting product: ${y.message}`)}}})},handlePageChange(x){this.currentPage=x,window.scrollTo({top:0,behavior:"smooth"})},handleImageError(x){x.target&&(x.target.style.display="none")}}},_hoisted_1$8={class:"w-full max-w-full overflow-x-hidden"},_hoisted_2$8={class:"mb-6 flex items-center justify-between"},_hoisted_3$8={class:"text-gray-600 mt-2"},_hoisted_4$8={key:0,class:"ml-2 text-emerald-600 font-semibold"},_hoisted_5$8={class:"flex items-center gap-4"},_hoisted_6$8={class:"mb-6 bg-white rounded-lg shadow p-4"},_hoisted_7$8={key:0,class:"relative"},_hoisted_8$8={class:"relative z-10 bg-white rounded-lg overflow-hidden"},_hoisted_9$8={class:"relative overflow-x-auto overflow-y-visible w-full max-w-full"},_hoisted_10$7={class:"min-w-full w-full divide-y divide-gray-200 border-separate border-spacing-0"},_hoisted_11$7={class:"bg-gray-50 border-b border-gray-200 sticky top-0 z-20"},_hoisted_12$6={class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider md:sticky md:left-0 bg-gray-50 z-30 border-r border-gray-200 w-64 max-w-64"},_hoisted_13$6={class:"flex items-center space-x-2"},_hoisted_14$5={class:"flex items-center space-x-2"},_hoisted_15$5=["d"],_hoisted_16$5={class:"bg-white divide-y divide-gray-200"},_hoisted_17$5={class:"px-4 py-4 md:sticky md:left-0 bg-white z-10 border-r border-gray-200 w-88 max-w-88 hover:bg-gray-50"},_hoisted_18$4={key:0,class:"mb-2"},_hoisted_19$3={class:"relative w-48 h-48 rounded-lg overflow-hidden border-2 border-gray-200 shadow-sm bg-gray-100"},_hoisted_20$3=["src","alt","onClick"],_hoisted_21$3=["onClick"],_hoisted_22$3=["onClick"],_hoisted_23$3={class:"absolute bottom-0.5 left-1/2 -translate-x-1/2 z-20 bg-black bg-opacity-50 text-white text-xs px-1 py-0.5 rounded"},_hoisted_24$3=["src","alt","onClick"],_hoisted_25$3={key:1,class:"mb-2"},_hoisted_26$2=["src","alt","onClick"],_hoisted_27$2={class:"text-sm font-medium text-emerald-600 hover:text-emerald-800 hover:underline transition-colors break-words line-clamp-2"},_hoisted_28$2={key:0,class:"flex flex-wrap gap-2 mt-1"},_hoisted_29$2={class:"text-xs text-gray-500 mt-1"},_hoisted_30$2={key:0},_hoisted_31$2={key:0,class:"relative"},_hoisted_32$2={class:"relative w-24 h-24 rounded-lg overflow-hidden border border-gray-200 bg-gray-100"},_hoisted_33$2=["src","alt","onClick"],_hoisted_34$2=["onClick"],_hoisted_35$2=["onClick"],_hoisted_36$2={key:2,class:"absolute bottom-1 left-1/2 -translate-x-1/2 z-20 bg-black bg-opacity-50 text-white text-xs px-2 py-0.5 rounded"},_hoisted_37$2={key:0,class:"mt-2 text-xs text-gray-500"},_hoisted_38$2={key:1,class:"text-sm text-gray-400"},_hoisted_39$1={key:1,class:"text-sm text-gray-400"},_hoisted_40$1={key:2},_hoisted_41$1={key:0,class:"relative"},_hoisted_42$1={class:"relative w-24 h-24 rounded-lg overflow-hidden border border-gray-200 bg-gray-100"},_hoisted_43$1=["src","alt","onClick"],_hoisted_44$1=["onClick"],_hoisted_45$1=["onClick"],_hoisted_46$1={class:"absolute bottom-1 left-1/2 -translate-x-1/2 z-20 bg-black bg-opacity-50 text-white text-xs px-2 py-0.5 rounded"},_hoisted_47$1=["src","alt","onClick"],_hoisted_48$1={key:1,class:"flex flex-wrap gap-1"},_hoisted_49$1={key:3,class:"text-sm text-gray-400"},_hoisted_50$1={key:4},_hoisted_51$1={key:5,class:"text-sm text-gray-400"},_hoisted_52$1={key:6},_hoisted_53$1={key:0,class:"relative"},_hoisted_54$1={class:"relative w-24 h-24 rounded-lg overflow-hidden border border-gray-200 bg-gray-100"},_hoisted_55$1=["src","alt","onClick"],_hoisted_56$1=["onClick"],_hoisted_57$1=["onClick"],_hoisted_58$1={class:"absolute bottom-1 left-1/2 -translate-x-1/2 z-20 bg-black bg-opacity-50 text-white text-xs px-2 py-0.5 rounded"},_hoisted_59$1=["src","alt","onClick"],_hoisted_60$1=["href"],_hoisted_61$1={class:"truncate max-w-xs"},_hoisted_62={key:7,class:"text-sm text-gray-400"},_hoisted_63={key:8},_hoisted_64={key:9},_hoisted_65={key:0,class:"flex items-center space-x-2"},_hoisted_66={class:"text-gray-900 font-mono"},_hoisted_67={key:1,class:"text-gray-900"},_hoisted_68={key:2,class:"text-gray-900 font-mono"},_hoisted_69={key:10,class:"text-sm text-gray-400"},_hoisted_70={key:11,class:"text-sm text-gray-400"},_hoisted_71={key:12,class:"text-gray-900"},_hoisted_72={key:0,class:"relative"},_hoisted_73={class:"relative w-24 h-24 rounded-lg overflow-hidden border border-gray-200 bg-gray-100"},_hoisted_74=["src","alt","onClick"],_hoisted_75=["onClick"],_hoisted_76=["onClick"],_hoisted_77={class:"absolute bottom-1 left-1/2 -translate-x-1/2 z-20 bg-black bg-opacity-50 text-white text-xs px-2 py-0.5 rounded"},_hoisted_78=["src","alt","onClick"],_hoisted_79={key:1},_hoisted_80={key:13,class:"text-sm text-gray-400"},_hoisted_81={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium sticky right-0 bg-white z-10 border-l border-gray-200"},_hoisted_82={class:"flex gap-2 justify-end md:flex-row flex-col"},_hoisted_83=["onClick"],_hoisted_84=["onClick"],_hoisted_85={key:0,class:"px-4 md:px-6 py-4 border-t border-gray-200 flex flex-col sm:flex-row items-center justify-between gap-4"},_hoisted_86={class:"text-sm text-gray-600"},_hoisted_87={key:1,class:"bg-white rounded-lg shadow overflow-hidden"},_hoisted_88={class:"overflow-x-auto"},_hoisted_89={class:"min-w-full divide-y divide-gray-200"},_hoisted_90={class:"bg-gray-50"},_hoisted_91={class:"bg-white divide-y divide-gray-200"},_hoisted_92={key:2,class:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6"},_hoisted_93={class:"text-red-700 mb-4"},_hoisted_94={key:3,class:"bg-white rounded-lg shadow p-8 text-center"};function _sfc_render$a(x,y,B,S,V,C){const P=resolveComponent("router-link"),E=__unplugin_components_0$4,D=__unplugin_components_1$3;return openBlock(),createElementBlock("div",_hoisted_1$8,[createBaseVNode("div",_hoisted_2$8,[createBaseVNode("div",null,[y[7]||(y[7]=createBaseVNode("h2",{class:"text-3xl font-bold text-gray-900"},"Manage Products",-1)),createBaseVNode("p",_hoisted_3$8,[y[6]||(y[6]=createTextVNode(" Add, edit, or remove products from your platform ",-1)),V.hasLoaded&&!C.loading?(openBlock(),createElementBlock("span",_hoisted_4$8,"  Total: "+toDisplayString(C.totalProducts)+" "+toDisplayString(C.totalProducts===1?"product":"products"),1)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_5$8,[createVNode(P,{to:"/admin/products/add",class:"px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors flex items-center gap-2"},{default:withCtx(()=>[...y[8]||(y[8]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),createTextVNode(" Add Product ",-1)])]),_:1})])]),createBaseVNode("div",_hoisted_6$8,[createVNode(E,{placeholders:{search:"Search products...",location:""},"show-location":!1,"button-label":"Search",searchValue:V.searchQuery,"onUpdate:searchValue":y[0]||(y[0]=z=>V.searchQuery=z),onSearch:C.handleAdminSearch},null,8,["searchValue","onSearch"])]),!C.loading&&!C.error&&V.hasLoaded&&C.filteredProducts.length>0?(openBlock(),createElementBlock("div",_hoisted_7$8,[y[25]||(y[25]=createBaseVNode("div",{class:"absolute inset-0 rounded-lg p-0.5 shadow-lg"},[createBaseVNode("div",{class:"bg-white rounded-lg h-full w-full"})],-1)),createBaseVNode("div",_hoisted_8$8,[y[24]||(y[24]=createBaseVNode("div",{class:"bg-gray-50 px-6 py-4 border-b border-gray-200"},[createBaseVNode("h3",{class:"text-lg font-semibold text-gray-900"},"All Products")],-1)),createBaseVNode("div",_hoisted_9$8,[createBaseVNode("table",_hoisted_10$7,[createBaseVNode("thead",_hoisted_11$7,[createBaseVNode("tr",null,[createBaseVNode("th",_hoisted_12$6,[createBaseVNode("div",_hoisted_13$6,[y[9]||(y[9]=createBaseVNode("svg",{class:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),createBaseVNode("span",null,toDisplayString(C.getTitleFieldLabel()||"Product"),1)])]),(openBlock(!0),createElementBlock(Fragment,null,renderList(C.dataColumns,z=>(openBlock(),createElementBlock("th",{key:z.key,class:normalizeClass(["px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",z.type==="multi_select"?"min-w-48":"",z.type==="files"?"min-w-32":""])},[createBaseVNode("div",_hoisted_14$5,[C.getFieldIcon(z)?(openBlock(),createBlock(resolveDynamicComponent("svg"),{key:0,class:normalizeClass([C.getFieldIconClass(z),"w-4 h-4"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},{default:withCtx(()=>[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:C.getFieldIcon(z)},null,8,_hoisted_15$5)]),_:2},1032,["class"])):createCommentVNode("",!0),createBaseVNode("span",null,toDisplayString(z.label),1)])],2))),128)),y[10]||(y[10]=createBaseVNode("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider sticky right-0 bg-gray-50 z-30 border-l border-gray-200"}," Actions ",-1))])]),createBaseVNode("tbody",_hoisted_16$5,[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.paginatedProducts,z=>(openBlock(),createElementBlock("tr",{key:z.id,class:"hover:bg-gray-50"},[createBaseVNode("td",_hoisted_17$5,[createBaseVNode("div",null,[createVNode(P,{to:`/products/${C.getProductSlug(z)}`,class:"block"},{default:withCtx(()=>[C.getProductImages(z).length>0?(openBlock(),createElementBlock("div",_hoisted_18$4,[createBaseVNode("div",_hoisted_19$3,[C.getProductImages(z).length>1?(openBlock(),createElementBlock(Fragment,{key:0},[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.getProductImages(z),(T,j)=>(openBlock(),createElementBlock("img",{key:j,src:T,alt:`${C.getProductTitle(z)} ${j+1}`,class:normalizeClass(["absolute inset-0 w-full h-full object-cover transition-opacity duration-300 cursor-pointer hover:opacity-90",C.getCurrentImageIndex(z,"Images")===j?"opacity-100 z-10":"opacity-0 z-0"]),onClick:withModifiers(R=>C.openImageModal(T),["stop"]),onError:y[1]||(y[1]=(...R)=>C.handleImageError&&C.handleImageError(...R))},null,42,_hoisted_20$3))),128)),createBaseVNode("button",{onClick:withModifiers(T=>C.previousImage(z,"Images"),["stop"]),class:"absolute left-1 top-1/2 -translate-y-1/2 z-20 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-1.5 transition-all"},[...y[11]||(y[11]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])],8,_hoisted_21$3),createBaseVNode("button",{onClick:withModifiers(T=>C.nextImage(z,"Images"),["stop"]),class:"absolute right-1 top-1/2 -translate-y-1/2 z-20 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-1.5 transition-all"},[...y[12]||(y[12]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,_hoisted_22$3),createBaseVNode("div",_hoisted_23$3,toDisplayString(C.getCurrentImageIndex(z,"Images")+1)+"/"+toDisplayString(C.getProductImages(z).length),1)],64)):(openBlock(),createElementBlock("img",{key:1,src:C.getProductImages(z)[0],alt:C.getProductTitle(z),class:"w-full h-full object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:withModifiers(T=>C.openImageModal(C.getProductImages(z)[0]),["stop"]),onError:y[2]||(y[2]=(...T)=>C.handleImageError&&C.handleImageError(...T))},null,40,_hoisted_24$3))])])):C.getProductImage(z)?(openBlock(),createElementBlock("div",_hoisted_25$3,[createBaseVNode("img",{src:C.getProductImage(z),alt:C.getProductTitle(z),class:"w-20 h-20 rounded-lg border-2 border-gray-200 shadow-sm bg-gray-100 object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:withModifiers(T=>C.openImageModal(C.getProductImage(z)),["stop"]),onError:y[3]||(y[3]=(...T)=>C.handleImageError&&C.handleImageError(...T))},null,40,_hoisted_26$2)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_27$2,toDisplayString(C.getProductTitle(z)||"Untitled"),1)]),_:2},1032,["to"]),C.getBooleanFields(z).length>0?(openBlock(),createElementBlock("div",_hoisted_28$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.getBooleanFields(z),([T,j])=>(openBlock(),createElementBlock("span",{key:T,class:normalizeClass(C.getBooleanBadgeClasses(T,j))},toDisplayString(C.getBooleanBadgeText(T,j)),3))),128))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_29$2,toDisplayString(C.formatDate(z["Updated Date"])),1)])]),(openBlock(!0),createElementBlock(Fragment,null,renderList(C.dataColumns,T=>(openBlock(),createElementBlock("td",{key:T.key,class:normalizeClass(["px-6 py-4 text-sm",T.type==="multi_select"?"min-w-48":"",T.type==="files"?"min-w-32":""])},[T.type==="files"&&z[T.key]&&z[T.key].length>0?(openBlock(),createElementBlock("div",_hoisted_30$2,[C.getImageFiles(z[T.key]).length>0?(openBlock(),createElementBlock("div",_hoisted_31$2,[createBaseVNode("div",_hoisted_32$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.getImageFiles(z[T.key]),(j,R)=>(openBlock(),createElementBlock("img",{key:`${z.id}-${T.key}-img-${R}`,src:j,alt:`Image ${R+1}`,class:normalizeClass(["absolute inset-0 w-full h-full object-cover transition-opacity duration-300 cursor-pointer hover:opacity-90",C.getCurrentImageIndex(z,T.key)===R?"opacity-100 z-0":"opacity-0 z-0"]),onClick:Z=>C.openImageModal(j),onError:y[4]||(y[4]=(...Z)=>C.handleImageError&&C.handleImageError(...Z))},null,42,_hoisted_33$2))),128)),C.getImageFiles(z[T.key]).length>1?(openBlock(),createElementBlock("button",{key:0,onClick:withModifiers(j=>C.previousImage(z,T.key),["stop"]),class:"absolute left-1 top-1/2 -translate-y-1/2 z-20 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-1 transition-all"},[...y[13]||(y[13]=[createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])],8,_hoisted_34$2)):createCommentVNode("",!0),C.getImageFiles(z[T.key]).length>1?(openBlock(),createElementBlock("button",{key:1,onClick:withModifiers(j=>C.nextImage(z,T.key),["stop"]),class:"absolute right-1 top-1/2 -translate-y-1/2 z-20 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-1 transition-all"},[...y[14]||(y[14]=[createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,_hoisted_35$2)):createCommentVNode("",!0),C.getImageFiles(z[T.key]).length>1?(openBlock(),createElementBlock("div",_hoisted_36$2,toDisplayString(C.getCurrentImageIndex(z,T.key)+1)+"/"+toDisplayString(C.getImageFiles(z[T.key]).length),1)):createCommentVNode("",!0)]),C.getNonImageFiles(z[T.key]).length>0?(openBlock(),createElementBlock("div",_hoisted_37$2," +"+toDisplayString(C.getNonImageFiles(z[T.key]).length)+" file(s) ",1)):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_38$2,toDisplayString(z[T.key].length)+" file(s) ",1))])):T.type==="files"?(openBlock(),createElementBlock("div",_hoisted_39$1," No files ")):T.type==="multi_select"&&z[T.key]&&z[T.key].length>0?(openBlock(),createElementBlock("div",_hoisted_40$1,[C.isImagesColumn(z[T.key])?(openBlock(),createElementBlock("div",_hoisted_41$1,[createBaseVNode("div",_hoisted_42$1,[C.getImageUrlsFromMultiSelect(z[T.key]).length>1?(openBlock(),createElementBlock(Fragment,{key:0},[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.getImageUrlsFromMultiSelect(z[T.key]),(j,R)=>(openBlock(),createElementBlock("img",{key:R,src:j,alt:`${T.label} ${R+1}`,class:normalizeClass(["absolute inset-0 w-full h-full object-cover transition-opacity duration-300 cursor-pointer hover:opacity-90",C.getCurrentImageIndex(z,T.key)===R?"opacity-100 z-10":"opacity-0 z-0"]),onClick:Z=>C.openImageModal(j)},null,10,_hoisted_43$1))),128)),createBaseVNode("button",{onClick:withModifiers(j=>C.previousImage(z,T.key),["stop"]),class:"absolute left-1 top-1/2 -translate-y-1/2 z-20 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-1 transition-all"},[...y[15]||(y[15]=[createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])],8,_hoisted_44$1),createBaseVNode("button",{onClick:withModifiers(j=>C.nextImage(z,T.key),["stop"]),class:"absolute right-1 top-1/2 -translate-y-1/2 z-20 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-1 transition-all"},[...y[16]||(y[16]=[createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,_hoisted_45$1),createBaseVNode("div",_hoisted_46$1,toDisplayString(C.getCurrentImageIndex(z,T.key)+1)+"/"+toDisplayString(C.getImageUrlsFromMultiSelect(z[T.key]).length),1)],64)):(openBlock(),createElementBlock("img",{key:1,src:C.getImageUrlsFromMultiSelect(z[T.key])[0],alt:T.label,class:"w-full h-full object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:j=>C.openImageModal(C.getImageUrlsFromMultiSelect(z[T.key])[0])},null,8,_hoisted_47$1))])])):(openBlock(),createElementBlock("div",_hoisted_48$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(z[T.key],(j,R)=>(openBlock(),createElementBlock("span",{key:R,class:"inline-flex items-center px-2 py-1 text-xs rounded-full border font-medium bg-blue-100 text-blue-800"},toDisplayString(typeof j=="object"&&j.name||j),1))),128))]))])):T.type==="multi_select"?(openBlock(),createElementBlock("div",_hoisted_49$1," No tags ")):T.type==="select"&&z[T.key]?(openBlock(),createElementBlock("div",_hoisted_50$1,[createBaseVNode("span",{class:normalizeClass(["inline-flex items-center px-2 py-1 text-xs rounded-full border font-medium",C.getSelectColorClass(z[`${T.key}_color`])])},toDisplayString(z[T.key]),3)])):T.type==="select"?(openBlock(),createElementBlock("div",_hoisted_51$1," No selection ")):T.type==="url"&&z[T.key]?(openBlock(),createElementBlock("div",_hoisted_52$1,[C.getImageUrlsFromValue(z[T.key]).length>0?(openBlock(),createElementBlock("div",_hoisted_53$1,[createBaseVNode("div",_hoisted_54$1,[C.getImageUrlsFromValue(z[T.key]).length>1?(openBlock(),createElementBlock(Fragment,{key:0},[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.getImageUrlsFromValue(z[T.key]),(j,R)=>(openBlock(),createElementBlock("img",{key:R,src:j,alt:`${T.label} ${R+1}`,class:normalizeClass(["absolute inset-0 w-full h-full object-cover transition-opacity duration-300 cursor-pointer hover:opacity-90",C.getCurrentImageIndex(z,T.key)===R?"opacity-100 z-10":"opacity-0 z-0"]),onClick:Z=>C.openImageModal(j)},null,10,_hoisted_55$1))),128)),createBaseVNode("button",{onClick:withModifiers(j=>C.previousImage(z,T.key),["stop"]),class:"absolute left-1 top-1/2 -translate-y-1/2 z-20 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-1 transition-all"},[...y[17]||(y[17]=[createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])],8,_hoisted_56$1),createBaseVNode("button",{onClick:withModifiers(j=>C.nextImage(z,T.key),["stop"]),class:"absolute right-1 top-1/2 -translate-y-1/2 z-20 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-1 transition-all"},[...y[18]||(y[18]=[createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,_hoisted_57$1),createBaseVNode("div",_hoisted_58$1,toDisplayString(C.getCurrentImageIndex(z,T.key)+1)+"/"+toDisplayString(C.getImageUrlsFromValue(z[T.key]).length),1)],64)):(openBlock(),createElementBlock("img",{key:1,src:C.getImageUrlsFromValue(z[T.key])[0],alt:T.label,class:"w-full h-full object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:j=>C.openImageModal(C.getImageUrlsFromValue(z[T.key])[0])},null,8,_hoisted_59$1))])])):(openBlock(),createElementBlock("a",{key:1,href:z[T.key],target:"_blank",rel:"noopener noreferrer",class:"text-blue-600 hover:text-blue-800 underline flex items-center space-x-1"},[y[19]||(y[19]=createBaseVNode("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1)),createBaseVNode("span",_hoisted_61$1,toDisplayString(z[T.key]),1)],8,_hoisted_60$1))])):T.type==="url"?(openBlock(),createElementBlock("div",_hoisted_62," No URL ")):T.type==="date"&&z[T.key]?(openBlock(),createElementBlock("div",_hoisted_63,toDisplayString(C.formatDate(z[T.key])),1)):T.type==="number"&&z[T.key]!==null&&z[T.key]!==void 0&&(z[T.key]!==0||!C.isCurrencyField(T.key))?(openBlock(),createElementBlock("div",_hoisted_64,[C.isCurrencyField(T.key)?(openBlock(),createElementBlock("span",_hoisted_65,[createBaseVNode("span",_hoisted_66,toDisplayString(C.formatNumber(z[T.key],T.format)),1)])):T.key.toLowerCase()==="year"?(openBlock(),createElementBlock("span",_hoisted_67,toDisplayString(z[T.key]),1)):(openBlock(),createElementBlock("span",_hoisted_68,toDisplayString(C.formatNumber(z[T.key],T.format)),1))])):T.type==="number"&&C.isCurrencyField(T.key)&&(z[T.key]===0||z[T.key]===null||z[T.key]===void 0)?(openBlock(),createElementBlock("div",_hoisted_69," No price ")):T.type==="number"&&(z[T.key]===null||z[T.key]===void 0)?(openBlock(),createElementBlock("div",_hoisted_70,"  ")):z[T.key]!==null&&z[T.key]!==void 0&&z[T.key]!==""?(openBlock(),createElementBlock("div",_hoisted_71,[C.getImageUrlsFromValue(z[T.key]).length>0||C.isImageUrl(String(z[T.key]))?(openBlock(),createElementBlock("div",_hoisted_72,[createBaseVNode("div",_hoisted_73,[C.getImageUrlsFromValue(z[T.key]).length>1?(openBlock(),createElementBlock(Fragment,{key:0},[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.getImageUrlsFromValue(z[T.key]),(j,R)=>(openBlock(),createElementBlock("img",{key:R,src:j,alt:`${T.label} ${R+1}`,class:normalizeClass(["absolute inset-0 w-full h-full object-cover transition-opacity duration-300 cursor-pointer hover:opacity-90",C.getCurrentImageIndex(z,T.key)===R?"opacity-100 z-10":"opacity-0 z-0"]),onClick:Z=>C.openImageModal(j)},null,10,_hoisted_74))),128)),createBaseVNode("button",{onClick:withModifiers(j=>C.previousImage(z,T.key),["stop"]),class:"absolute left-1 top-1/2 -translate-y-1/2 z-20 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-1 transition-all"},[...y[20]||(y[20]=[createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])],8,_hoisted_75),createBaseVNode("button",{onClick:withModifiers(j=>C.nextImage(z,T.key),["stop"]),class:"absolute right-1 top-1/2 -translate-y-1/2 z-20 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-1 transition-all"},[...y[21]||(y[21]=[createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,_hoisted_76),createBaseVNode("div",_hoisted_77,toDisplayString(C.getCurrentImageIndex(z,T.key)+1)+"/"+toDisplayString(C.getImageUrlsFromValue(z[T.key]).length),1)],64)):(openBlock(),createElementBlock("img",{key:1,src:C.getImageUrlsFromValue(z[T.key])[0]||String(z[T.key]),alt:T.label,class:"w-full h-full object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:j=>C.openImageModal(C.getImageUrlsFromValue(z[T.key])[0]||String(z[T.key]))},null,8,_hoisted_78))])])):(openBlock(),createElementBlock("span",_hoisted_79,toDisplayString(C.truncateText(String(z[T.key]),50)),1))])):(openBlock(),createElementBlock("span",_hoisted_80,""))],2))),128)),createBaseVNode("td",_hoisted_81,[createBaseVNode("div",_hoisted_82,[createBaseVNode("button",{onClick:T=>C.editProduct(z.id),class:"text-emerald-600 hover:text-emerald-900 p-2 rounded-lg hover:bg-emerald-50 transition-colors",title:"Edit"},[...y[22]||(y[22]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,_hoisted_83),createBaseVNode("button",{onClick:T=>C.deleteProduct(z.id),class:"text-red-600 hover:text-red-900 p-2 rounded-lg hover:bg-red-50 transition-colors",title:"Delete"},[...y[23]||(y[23]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,_hoisted_84)])])]))),128))])])]),C.totalPages>1||C.filteredProducts.length>0?(openBlock(),createElementBlock("div",_hoisted_85,[createBaseVNode("div",_hoisted_86," Showing "+toDisplayString(C.filteredProducts.length===0?0:(V.currentPage-1)*V.itemsPerPage+1)+" to "+toDisplayString(Math.min(V.currentPage*V.itemsPerPage,C.filteredProducts.length))+" of "+toDisplayString(C.filteredProducts.length)+" "+toDisplayString(C.filteredProducts.length===1?"product":"products"),1),C.totalPages>1?(openBlock(),createBlock(D,{key:0,currentPage:V.currentPage,totalPages:C.totalPages,onPageChange:C.handlePageChange},null,8,["currentPage","totalPages","onPageChange"])):createCommentVNode("",!0)])):createCommentVNode("",!0)])])):createCommentVNode("",!0),C.loading?(openBlock(),createElementBlock("div",_hoisted_87,[createBaseVNode("div",_hoisted_88,[createBaseVNode("table",_hoisted_89,[createBaseVNode("thead",_hoisted_90,[createBaseVNode("tr",null,[y[27]||(y[27]=createBaseVNode("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Image",-1)),y[28]||(y[28]=createBaseVNode("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Title",-1)),(openBlock(),createElementBlock(Fragment,null,renderList(4,z=>createBaseVNode("th",{key:z,class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[...y[26]||(y[26]=[createBaseVNode("div",{class:"h-4 bg-gray-200 rounded w-20"},null,-1)])])),64)),y[29]||(y[29]=createBaseVNode("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions",-1))])]),createBaseVNode("tbody",_hoisted_91,[(openBlock(),createElementBlock(Fragment,null,renderList(5,z=>createBaseVNode("tr",{key:z,class:"animate-pulse"},[y[31]||(y[31]=createBaseVNode("td",{class:"px-6 py-4 whitespace-nowrap"},[createBaseVNode("div",{class:"h-12 w-12 bg-gray-200 rounded"})],-1)),y[32]||(y[32]=createBaseVNode("td",{class:"px-6 py-4"},[createBaseVNode("div",{class:"h-4 bg-gray-200 rounded w-32 mb-2"}),createBaseVNode("div",{class:"h-3 bg-gray-200 rounded w-24"})],-1)),(openBlock(),createElementBlock(Fragment,null,renderList(4,T=>createBaseVNode("td",{key:T,class:"px-6 py-4 whitespace-nowrap"},[...y[30]||(y[30]=[createBaseVNode("div",{class:"h-4 bg-gray-200 rounded w-20"},null,-1)])])),64)),y[33]||(y[33]=createBaseVNode("td",{class:"px-6 py-4 whitespace-nowrap"},[createBaseVNode("div",{class:"flex gap-3"},[createBaseVNode("div",{class:"h-4 bg-gray-200 rounded w-12"}),createBaseVNode("div",{class:"h-4 bg-gray-200 rounded w-12"})])],-1))])),64))])])])])):C.error?(openBlock(),createElementBlock("div",_hoisted_92,[y[34]||(y[34]=createBaseVNode("p",{class:"text-red-800 font-semibold mb-2"},"Error loading products:",-1)),createBaseVNode("p",_hoisted_93,toDisplayString(C.error),1),y[35]||(y[35]=createBaseVNode("div",{class:"text-sm text-red-600 mb-4"},null,-1)),createBaseVNode("button",{onClick:y[5]||(y[5]=(...z)=>C.loadProducts&&C.loadProducts(...z)),class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"}," Retry ")])):!C.loading&&!C.error&&V.hasLoaded&&C.filteredProducts.length===0?(openBlock(),createElementBlock("div",_hoisted_94,[y[37]||(y[37]=createBaseVNode("svg",{class:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1)),y[38]||(y[38]=createBaseVNode("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No products found",-1)),y[39]||(y[39]=createBaseVNode("p",{class:"text-gray-500 mb-4"},"Get started by adding your first product.",-1)),createVNode(P,{to:"/admin/products/add",class:"inline-flex items-center px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors"},{default:withCtx(()=>[...y[36]||(y[36]=[createBaseVNode("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),createTextVNode(" Add Product ",-1)])]),_:1})])):createCommentVNode("",!0)])}const AdminProducts=_export_sfc(_sfc_main$a,[["render",_sfc_render$a],["__scopeId","data-v-c84ae515"]]);class FileUploadService{constructor(){this.baseUrl="/.netlify/functions"}getAdminCode(){try{const y=useAuthStore();if(!y)return console.warn("[FileUploadService] Auth store not available"),null;const B=y.getAdminCode();return B||console.warn("[FileUploadService] Admin code not found. Please log in to the admin panel first."),B}catch(y){return console.error("[FileUploadService] Could not get admin code from auth store:",y),null}}async uploadFiles(y){if(!y||y.length===0)return[];try{const B=new FormData;y.forEach(E=>{E.file instanceof File?B.append("files",E.file):E instanceof File&&B.append("files",E)});const S=this.getAdminCode(),V={};S&&(V["X-Admin-Code"]=S);const C=await fetch(`${this.baseUrl}/upload-file`,{method:"POST",headers:V,body:B});if(!C.ok)throw new Error(`Upload failed: ${C.statusText}`);const P=await C.json();if(!P.success)throw new Error(P.error||"Upload failed");return P.files}catch(B){throw console.error("File upload error:",B),new Error(`Failed to upload files: ${B.message}`)}}async uploadFile(y){return(await this.uploadFiles([y]))[0]}getFileUrl(y){return`${window.location.origin}/.netlify/functions/blob/${y}`}validateFile(y,B={}){const{maxSize:S=10*1024*1024,allowedTypes:V=["image/*"],allowedExtensions:C=[".jpg",".jpeg",".png",".gif",".webp",".svg",".pdf",".doc",".docx",".txt"]}=B,P=[];return y.size>S&&P.push(`File size must be less than ${Math.round(S/1024/1024)}MB`),V.some(D=>D.endsWith("/*")?y.type.startsWith(D.slice(0,-1)):y.type===D)||P.push(`File type not allowed. Allowed types: ${V.join(", ")}`),{isValid:P.length===0,errors:P}}isImageFile(y){return y&&y.type&&y.type.startsWith("image/")}isValidFileSize(y,B=10*1024*1024){return y&&y.size<=B}validateFiles(y,B={}){const{maxSize:S=10*1024*1024,allowedTypes:V=["image/*"]}=B,C=[],P=[];return y.forEach((E,D)=>{const z=this.validateFile(E,{maxSize:S,allowedTypes:V});z.isValid||(P.push({index:D,file:E,errors:z.errors}),C.push(...z.errors))}),{isValid:P.length===0,errors:[...new Set(C)],invalidFiles:P}}}const fileUploadService=new FileUploadService;function useImageError(){const x=S=>{S.target&&(S.target.style.display="none")};return{handleImageError:x,handleImageErrorWithFallback:(S,V="https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=800&q=80")=>{S.target&&(S.target.dataset.fallbackAttempted?S.target.style.display="none":(S.target.dataset.fallbackAttempted="true",S.target.src=V))},handleImageErrorWithPlaceholder:(S,V)=>{S.target&&V?S.target.src=V:x(S)}}}const _sfc_main$9={name:"MultiImageUpload",props:{modelValue:{type:Array,default:()=>[]},label:{type:String,default:"Images"},required:{type:Boolean,default:!1},placeholder:{type:String,default:""}},emits:["update:modelValue"],setup(){const{handleImageError:x}=useImageError();return{handleImageError:x}},data(){return{inputMode:"url",uploading:!1,uploadError:null,isDragOver:!1,urlInput:"",uploadingIndices:[]}},computed:{imageUrls(){return!this.modelValue||!Array.isArray(this.modelValue)?[]:this.modelValue.map(x=>typeof x=="string"?x:typeof x=="object"&&x!==null&&(x.url||x.external&&x.external.url||x.value)||"").filter(x=>x&&x.trim())}},methods:{addImageUrl(){if(!this.urlInput||!this.urlInput.trim())return;try{new URL(this.urlInput)}catch{alert("Please enter a valid URL");return}const x=[...this.imageUrls,this.urlInput.trim()];this.$emit("update:modelValue",x),this.urlInput=""},removeImage(x){const y=this.imageUrls.filter((B,S)=>S!==x);this.$emit("update:modelValue",y)},handleDragOver(x){x.preventDefault(),x.stopPropagation()},handleDragEnter(x){x.preventDefault(),x.stopPropagation(),this.isDragOver=!0},handleDragLeave(x){x.preventDefault(),x.stopPropagation();const y=x.currentTarget.getBoundingClientRect(),B=x.clientX,S=x.clientY;(B<y.left||B>y.right||S<y.top||S>y.bottom)&&(this.isDragOver=!1)},handleDrop(x){x.preventDefault(),x.stopPropagation(),this.isDragOver=!1;const y=Array.from(x.dataTransfer.files||[]);if(y.length===0)return;const B=y.filter(S=>fileUploadService.isImageFile(S));if(B.length===0){this.uploadError="Please drop image files only",alert("Please drop image files only");return}this.uploadFiles(B)},async handleFileUpload(x){const y=Array.from(x.target.files||[]);if(y.length===0)return;const B=fileUploadService.validateFiles(y,{maxSize:10*1024*1024,allowedTypes:["image/*"]});if(!B.isValid){this.uploadError=B.errors[0],alert(this.uploadError),this.$refs.fileInput&&(this.$refs.fileInput.value="");return}await this.uploadFiles(y)},async uploadFiles(x){this.uploading=!0,this.uploadError=null;const y=[...this.imageUrls],B=x.map(V=>URL.createObjectURL(V)),S=[];B.forEach((V,C)=>{const P=y.length+C;S.push(P),y.push(V)}),this.uploadingIndices=S,this.$emit("update:modelValue",y);try{const V=await fileUploadService.uploadFiles(x);if(V&&V.length>0){const C=V.map(E=>E.url),P=this.imageUrls.filter(E=>!B.includes(E));P.push(...C),B.forEach(E=>URL.revokeObjectURL(E)),this.$emit("update:modelValue",P)}else throw new Error("Upload failed: No files returned")}catch(V){this.uploadError=V.message||"Failed to upload files. Please try again.",alert(`Failed to upload files: ${V.message}`);const C=this.imageUrls.filter(P=>!B.includes(P));B.forEach(P=>URL.revokeObjectURL(P)),this.$emit("update:modelValue",C)}finally{this.uploading=!1,this.uploadingIndices=[],this.$refs.fileInput&&(this.$refs.fileInput.value="")}}}},_hoisted_1$7={class:"block text-sm font-medium text-gray-700 mb-1"},_hoisted_2$7={key:0,class:"text-red-500"},_hoisted_3$7={class:"mb-4 border-b border-gray-200"},_hoisted_4$7={class:"flex gap-1"},_hoisted_5$7={key:0,class:"space-y-2"},_hoisted_6$7={class:"flex flex-col sm:flex-row gap-2"},_hoisted_7$7=["value","placeholder"],_hoisted_8$7=["disabled"],_hoisted_9$7={key:1,class:"space-y-2"},_hoisted_10$6={key:0,class:"text-sm text-gray-600 flex items-center gap-2"},_hoisted_11$6={key:1,class:"text-sm text-red-600 mt-2"},_hoisted_12$5={key:2,class:"mt-4"},_hoisted_13$5={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},_hoisted_14$4={class:"aspect-square rounded-lg overflow-hidden border border-gray-200 bg-gray-100 relative"},_hoisted_15$4=["src","alt"],_hoisted_16$4={key:0,class:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center"},_hoisted_17$4=["onClick"];function _sfc_render$9(x,y,B,S,V,C){return openBlock(),createElementBlock("div",null,[createBaseVNode("label",_hoisted_1$7,[createTextVNode(toDisplayString(B.label)+" ",1),B.required?(openBlock(),createElementBlock("span",_hoisted_2$7,"*")):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_3$7,[createBaseVNode("div",_hoisted_4$7,[createBaseVNode("button",{type:"button",onClick:y[0]||(y[0]=P=>V.inputMode="url"),class:normalizeClass(["px-3 py-2 sm:px-4 sm:py-2.5 text-xs sm:text-sm font-semibold transition-all duration-200 rounded-t-lg -mb-px",V.inputMode==="url"?"text-emerald-600 bg-emerald-50 border-b-2 border-emerald-600 shadow-sm":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"])}," URL ",2),createBaseVNode("button",{type:"button",onClick:y[1]||(y[1]=P=>V.inputMode="upload"),class:normalizeClass(["px-3 py-2 sm:px-4 sm:py-2.5 text-xs sm:text-sm font-semibold transition-all duration-200 rounded-t-lg -mb-px",V.inputMode==="upload"?"text-emerald-600 bg-emerald-50 border-b-2 border-emerald-600 shadow-sm":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"])}," Upload ",2)])]),V.inputMode==="url"?(openBlock(),createElementBlock("div",_hoisted_5$7,[createBaseVNode("div",_hoisted_6$7,[createBaseVNode("input",{value:V.urlInput,onInput:y[2]||(y[2]=P=>V.urlInput=P.target.value),type:"url",placeholder:B.placeholder||"Paste image URL here",class:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",onKeyup:y[3]||(y[3]=withKeys((...P)=>C.addImageUrl&&C.addImageUrl(...P),["enter"]))},null,40,_hoisted_7$7),createBaseVNode("button",{onClick:y[4]||(y[4]=(...P)=>C.addImageUrl&&C.addImageUrl(...P)),type:"button",disabled:!V.urlInput||!V.urlInput.trim(),class:"px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed w-full sm:w-auto"}," Add URL ",8,_hoisted_8$7)]),y[11]||(y[11]=createBaseVNode("small",{class:"text-gray-500 text-[10px] sm:text-xs block"},"Add multiple images by entering URLs one at a time",-1))])):(openBlock(),createElementBlock("div",_hoisted_9$7,[createBaseVNode("label",{onDragover:y[6]||(y[6]=withModifiers((...P)=>C.handleDragOver&&C.handleDragOver(...P),["prevent"])),onDragenter:y[7]||(y[7]=withModifiers((...P)=>C.handleDragEnter&&C.handleDragEnter(...P),["prevent"])),onDragleave:y[8]||(y[8]=withModifiers((...P)=>C.handleDragLeave&&C.handleDragLeave(...P),["prevent"])),onDrop:y[9]||(y[9]=withModifiers((...P)=>C.handleDrop&&C.handleDrop(...P),["prevent"])),class:normalizeClass(["flex-1 px-3 py-4 sm:px-4 sm:py-6 md:py-8 border-2 border-dashed rounded-lg cursor-pointer transition-colors text-center min-h-[120px] sm:min-h-[140px] flex items-center justify-center",V.isDragOver?"border-emerald-500 bg-emerald-100":"border-gray-300 hover:border-emerald-500 hover:bg-emerald-50"])},[createBaseVNode("input",{ref:"fileInput",type:"file",accept:"image/*",onChange:y[5]||(y[5]=(...P)=>C.handleFileUpload&&C.handleFileUpload(...P)),class:"hidden",multiple:""},null,544),y[12]||(y[12]=createStaticVNode('<div class="py-2 w-full"><svg class="mx-auto h-6 w-6 sm:h-8 sm:w-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg><p class="mt-2 text-xs sm:text-sm text-gray-600 px-2"><span class="font-medium text-emerald-600">Click to upload</span> or drag and drop </p><p class="text-[10px] sm:text-xs text-gray-500 mt-1 px-2 break-words">PNG, JPG, GIF up to 10MB (multiple files supported)</p></div>',1))],34),V.uploading?(openBlock(),createElementBlock("div",_hoisted_10$6,[...y[13]||(y[13]=[createBaseVNode("svg",{class:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[createBaseVNode("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),createBaseVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),createTextVNode(" Uploading... ",-1)])])):createCommentVNode("",!0),V.uploadError?(openBlock(),createElementBlock("div",_hoisted_11$6,toDisplayString(V.uploadError),1)):createCommentVNode("",!0)])),C.imageUrls.length>0?(openBlock(),createElementBlock("div",_hoisted_12$5,[createBaseVNode("div",_hoisted_13$5,[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.imageUrls,(P,E)=>(openBlock(),createElementBlock("div",{key:`${P}-${E}`,class:"relative group"},[createBaseVNode("div",_hoisted_14$4,[createBaseVNode("img",{src:P,alt:`${B.label} ${E+1}`,class:"w-full h-full object-cover",onError:y[10]||(y[10]=(...D)=>S.handleImageError&&S.handleImageError(...D))},null,40,_hoisted_15$4),V.uploadingIndices.includes(E)?(openBlock(),createElementBlock("div",_hoisted_16$4,[...y[14]||(y[14]=[createStaticVNode('<div class="text-center"><svg class="animate-spin h-6 w-6 text-white mx-auto mb-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg><p class="text-white text-xs">Uploading...</p></div>',1)])])):createCommentVNode("",!0)]),V.uploadingIndices.includes(E)?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:0,onClick:D=>C.removeImage(E),class:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",type:"button",title:"Remove image"},[...y[15]||(y[15]=[createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,_hoisted_17$4))]))),128))])])):createCommentVNode("",!0)])}const __unplugin_components_3=_export_sfc(_sfc_main$9,[["render",_sfc_render$9]]);function useDatabaseSetup(){const x=useItemStore(),y=useDashboardStore(),B=async(P={})=>{const{forceRefresh:E=!1,skipOptions:D={skipAggregations:!0,skipRecentActivity:!0}}=P;if(!y.productsDatabaseId&&!y.pagesDatabaseId)try{await y.initializeDashboard(E,D)}catch{}};return{itemStore:x,dashboardStore:y,ensureDashboardInitialized:B,setupProductsDatabase:async(P=null)=>{await B();const E=P||y.productsDatabaseId;if(E&&x.setDatabaseId(E),!x.schema)try{await x.ensureSchemaLoaded()}catch{}},setupPagesDatabase:async(P=null)=>{var D;await B();let E=P||y.pagesDatabaseId;if(!E&&y.pagesDatabaseId){const z=(D=y.databaseInfo)==null?void 0:D.find(T=>T.id===y.pagesDatabaseId);E=(z==null?void 0:z.id)||y.pagesDatabaseId}if(E&&x.setDatabaseId(E),!x.schema)try{await x.ensureSchemaLoaded()}catch{}},setupDatabase:async P=>{if(P&&(x.setDatabaseId(P),!x.schema))try{await x.ensureSchemaLoaded()}catch{}}}}function getColorIndicator(x){const y={default:"bg-gray-500",gray:"bg-gray-500",brown:"bg-amber-700",orange:"bg-orange-500",yellow:"bg-yellow-500",green:"bg-green-500",blue:"bg-blue-500",purple:"bg-purple-500",pink:"bg-pink-500",red:"bg-red-500"};return y[x]||y.default}function getOptionClasses(x,y){const B={default:"bg-gray-100 text-gray-800 border-gray-300",gray:"bg-gray-100 text-gray-800 border-gray-300",brown:"bg-amber-100 text-amber-800 border-amber-300",orange:"bg-orange-100 text-orange-800 border-orange-300",yellow:"bg-yellow-100 text-yellow-800 border-yellow-300",green:"bg-green-100 text-green-800 border-green-300",blue:"bg-blue-100 text-blue-800 border-blue-300",purple:"bg-purple-100 text-purple-800 border-purple-300",pink:"bg-pink-100 text-pink-800 border-pink-300",red:"bg-red-100 text-red-800 border-red-300"};if(y&&y.options){const S=y.options.find(V=>typeof V=="object"?V.value===x||V.label===x:V===x);if(S&&S.color)return B[S.color]||B.default}return B.default}function getOptionBackgroundClasses(x){if(!x||!x.color)return"";const y={default:"bg-gray-50",gray:"bg-gray-50",brown:"bg-amber-50",orange:"bg-orange-50",yellow:"bg-yellow-50",green:"bg-green-50",blue:"bg-blue-50",purple:"bg-purple-50",pink:"bg-pink-50",red:"bg-red-50"};return y[x.color]||y.default}function getSelectedOptionClasses(x,y){return getOptionClasses(x,y)}function getSelectedOptionLabel(x,y){if(!y||!y.options)return x;const B=y.options.find(S=>typeof S=="object"?S.value===x||S.label===x:S===x);return B&&typeof B=="object"&&(B.label||B.value)||x}function getDefaultIcon(x,y,B){const S=x.toLowerCase();if(S.includes("email"))return"pi pi-envelope";if(S.includes("phone")||S.includes("tel"))return"pi pi-phone";if(S.includes("url")||S.includes("link")||S.includes("website"))return"pi pi-link";if(S.includes("image")||S.includes("photo")||S.includes("picture"))return"pi pi-image";if(S.includes("file")||S.includes("attachment"))return"pi pi-file";if(S.includes("date")||S.includes("time"))return"pi pi-calendar";if(S.includes("location")||S.includes("address"))return"pi pi-map-marker";if(S.includes("price")||S.includes("cost")||S.includes("amount"))return"pi pi-dollar";if(S.includes("name")||S.includes("title"))return"pi pi-tag";if(S.includes("category")||S.includes("tag"))return"pi pi-tags";if(S.includes("status"))return"pi pi-info-circle";if(S.includes("description")||S.includes("desc"))return"pi pi-file-edit";switch(y){case"email":return"pi pi-envelope";case"phone_number":return"pi pi-phone";case"url":return"pi pi-link";case"files":return"pi pi-file";case"date":return"pi pi-calendar";case"number":return"pi pi-calculator";case"checkbox":return"pi pi-check-square";case"select":case"multi_select":return"pi pi-list";default:return"pi pi-pencil"}}function formatLabel(x){return x.replace(/([A-Z])/g," $1").replace(/^./,y=>y.toUpperCase()).replace(/_/g," ").trim()}function generatePlaceholder(x,y,B){const S=x.toLowerCase();if(S.includes("email"))return"your@email.com";if(S.includes("phone")||S.includes("tel"))return"+1 (555) 123-4567";if(S.includes("url")||S.includes("link")||S.includes("website"))return"https://example.com";if(S.includes("name"))return"Enter name";if(S.includes("title"))return"Enter title";if(S.includes("description")||S.includes("desc"))return"Enter description";if(S.includes("price")||S.includes("cost"))return"0.00";if(S.includes("date"))return"YYYY-MM-DD";switch(y){case"email":return"your@email.com";case"url":return"https://example.com";case"phone_number":case"tel":return"+1 (555) 123-4567";case"number":return"0";case"date":return"YYYY-MM-DD";case"textarea":case"rich_text":return"Enter text...";default:return`Enter ${formatLabel(x)}`}}function extractOptionsFromRawProperty(x){return x?x.select&&x.select.options?x.select.options.map(y=>({label:y.name,value:y.name,color:y.color||null})):x.multi_select&&x.multi_select.options?x.multi_select.options.map(y=>({label:y.name,value:y.name,color:y.color||null})):[]:[]}const currencyFormats={dollar:{currency:"USD",symbol:"$"},usd:{currency:"USD",symbol:"$"},yen:{currency:"JPY",symbol:""},jpy:{currency:"JPY",symbol:""},euro:{currency:"EUR",symbol:""},eur:{currency:"EUR",symbol:""},pound:{currency:"GBP",symbol:""},gbp:{currency:"GBP",symbol:""}},_sfc_main$8={name:"ProductForm",setup(){const x=useItemStore(),y=useDashboardStore(),{handleImageError:B}=useImageError(),{setupProductsDatabase:S}=useDatabaseSetup(),V=useToast();return{itemStore:x,dashboardStore:y,handleImageError:B,setupProductsDatabase:S,toast:V}},props:{productId:{type:[String,Number],default:null},submitting:{type:Boolean,default:!1},formErrors:{type:Object,default:()=>({})}},data(){return{loading:!1,editingItem:null,formData:{},slugManuallyEdited:!1}},computed:{isEdit(){return!!this.productId},submitButtonText(){return this.isEdit?"Update Product":"Create Product"},submittingText(){return this.isEdit?"Updating...":"Creating..."},getFormFieldsArray(){return this.editingItem?Object.entries(this.editingItem).map(([x,y])=>{var j,R,Z,U,M;const B=x.toLowerCase(),S=x;if(B.endsWith("_color")||B.endsWith("_colors")||B==="created_time"||B==="last_edited_time"||B==="created_date"||B==="updated_date"||B==="created_at"||B==="updated_at"||B==="date_created"||B==="date_updated"||S==="Created Date"||S==="Updated Date"||S==="Created At"||S==="Updated At"||B.includes("created_at")||B.includes("updated_at")||B.includes("created")&&(B.includes("date")||B.includes("time"))||B.includes("updated")&&(B.includes("date")||B.includes("time"))||y.type==="date"&&(B.includes("created")||B.includes("updated")))return null;let C=y.type;y.multi_select&&Array.isArray(y.multi_select)&&(C="multi_select"),y.files&&Array.isArray(y.files)&&(C="files");const P=formatLabel(x),E=P.toLowerCase();if(E.includes("created")&&(E.includes("date")||E.includes("time"))||E.includes("updated")&&(E.includes("date")||E.includes("time")))return null;const z=B==="name"||B==="title"||C==="title",T=y.required||z&&!this.isEdit;return{name:x,type:C,required:T,value:y.value||"",options:C==="select"||C==="multi_select"?extractOptionsFromRawProperty(y):[],icon:getDefaultIcon(x,C,(j=y.number)==null?void 0:j.format),emoji:y.emoji||null,label:P,placeholder:generatePlaceholder(x,C,(R=y.number)==null?void 0:R.format),format:(Z=y.number)==null?void 0:Z.format,min:C==="number"?0:void 0,step:C==="number"?(U=y.number)!=null&&U.format&&((M=y.number)==null?void 0:M.format)!=="number"?500:1:void 0,readonly:x==="slug"&&this.isEdit,id:y.id,number:y.number,select:y.select,multi_select:y.multi_select,...Object.fromEntries(Object.entries(y).filter(([W])=>!["number","select","multi_select","value"].includes(W)))}}).filter(x=>x!==null&&x.name!=="id"):[]},titleFields(){return this.getFormFieldsArray.filter(y=>{const B=y.name.toLowerCase();return y.type==="title"||B==="title"||B==="name"||B==="slug"}).sort((y,B)=>{const S=y.name.toLowerCase(),V=B.name.toLowerCase();return S==="slug"?1:V==="slug"?-1:0})},slugFieldName(){const x=this.getFormFieldsArray.find(y=>y.name&&y.name.toLowerCase()==="slug");return x?x.name:null},descriptionFields(){return this.getFormFieldsArray.filter(x=>{const y=x.name.toLowerCase();return y==="description"||y.includes("description")})},sizePriceYearFields(){return this.getFormFieldsArray.filter(y=>{const B=y.name.toLowerCase();return B==="size"||B==="price"||B==="year"}).sort((y,B)=>{const S=y.name.toLowerCase(),V=B.name.toLowerCase();return S==="size"?-1:V==="size"?1:S==="price"?-1:V==="price"?1:S==="year"?-1:V==="year"?1:0})},allOtherFields(){return this.getFormFieldsArray.filter(x=>{const y=x.name.toLowerCase(),B=(x.label||x.name||"").toLowerCase(),S=y==="location"||y==="latitude"||y==="longitude"||y==="lat"||y==="lng"||y==="location_latitude"||y==="location_longitude",V=y==="description"||y.includes("description"),C=y==="size"||y==="price"||y==="year",P=(x.type==="multi_select"||x.type==="files")&&(B==="images"||B==="image"||y==="images"||y==="image");return x.type!=="title"&&y!=="title"&&y!=="name"&&y!=="slug"&&x.type!=="checkbox"&&x.type!=="files"&&!S&&!V&&!C&&!P})},contactFields(){return this.getFormFieldsArray.filter(x=>{const y=x.name.toLowerCase();return y.includes("email")||y.includes("phone")||y.includes("contact")||x.type==="email"||x.type==="phone_number"})},currencyNumberFields(){return this.getFormFieldsArray.filter(x=>{const y=x.name.toLowerCase(),B=y==="location"||y==="latitude"||y==="longitude"||y==="lat"||y==="lng"||y==="location_latitude"||y==="location_longitude",S=y==="size"||y==="price"||y==="year";return x.type==="number"&&x.format&&x.format!=="number"&&!B&&!S})},regularNumberFields(){return this.getFormFieldsArray.filter(x=>{const y=x.name.toLowerCase(),B=y==="location"||y==="latitude"||y==="longitude"||y==="lat"||y==="lng"||y==="location_latitude"||y==="location_longitude",S=y==="size"||y==="price"||y==="year";return x.type==="number"&&(!x.format||x.format==="number")&&!B&&!S})},booleanFields(){return this.getFormFieldsArray.filter(x=>x.type==="checkbox")},locationFields(){return this.getFormFieldsArray.filter(y=>{const B=y.name.toLowerCase();return B==="location"||B==="latitude"||B==="longitude"||B==="lat"||B==="lng"||B==="location_latitude"||B==="location_longitude"}).sort((y,B)=>{const S=y.name.toLowerCase(),V=B.name.toLowerCase();return S==="location"?-1:V==="location"?1:S==="latitude"||S==="lat"||S==="location_latitude"?-1:V==="latitude"||V==="lat"||V==="location_latitude"?1:S==="longitude"||S==="lng"||S==="location_longitude"?-1:V==="longitude"||V==="lng"||V==="location_longitude"?1:0})},selectionFields(){return this.getFormFieldsArray.filter(x=>{if(x.type==="multi_select"){const y=(x.label||x.name||"").toLowerCase(),B=(x.name||"").toLowerCase();if(y==="images"||y==="image"||B==="images"||B==="image")return!1}return x.type==="select"||x.type==="multi_select"})},fileFields(){return this.getFormFieldsArray.filter(x=>{if(x.type==="files")return!0;if(x.type==="multi_select"){const y=(x.label||x.name||"").toLowerCase(),B=(x.name||"").toLowerCase();return y==="images"||y==="image"||B==="images"||B==="image"}return!1})},otherFields(){return this.getFormFieldsArray.filter(x=>{const y=x.name.toLowerCase(),B=y.includes("email")||y.includes("phone")||y.includes("contact")||x.type==="email"||x.type==="phone_number";return x.type!=="title"&&x.type!=="number"&&x.type!=="checkbox"&&x.type!=="select"&&x.type!=="multi_select"&&x.type!=="files"&&!B&&x.name.toLowerCase()!=="title"&&x.name.toLowerCase()!=="name"})}},async mounted(){await this.setupProductsDatabase(),this.isEdit?(await this.loadProduct(),this.slugManuallyEdited=!0):(this.initializeForNewProduct(),this.slugManuallyEdited=!1)},methods:{getFieldValue(x){var y,B;return((B=(y=this.editingItem)==null?void 0:y[x])==null?void 0:B.value)||this.formData[x]||""},updateField(x,y){this.formData||(this.formData={}),this.formData[x]=y;const B=(x||"").toString().toLowerCase();if(B==="slug"){this.slugManuallyEdited=!0;return}(B==="title"||B==="name")&&this.autoGenerateSlug(y)},generateSlug(x){return!x||typeof x!="string"?"":x.toString().trim().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")},setSlugValue(x){this.slugFieldName&&(this.formData||(this.formData={}),this.formData[this.slugFieldName]=x)},autoGenerateSlug(x){if(this.isEdit||this.slugManuallyEdited||!this.slugFieldName)return;const y=this.generateSlug(x);this.setSlugValue(y)},getMultiselectValue(x){const y=this.getFieldValue(x);if(Array.isArray(y))return y;if(typeof y=="string"&&y)try{const B=JSON.parse(y);return Array.isArray(B)?B:[]}catch{return y.split(",").map(S=>S.trim()).filter(S=>S)}return[]},updateMultiselectField(x,y){this.updateField(x,y)},removeMultiselectItem(x,y){const S=this.getMultiselectValue(x).filter(V=>typeof V=="string"&&typeof y=="string"?V!==y:typeof V=="object"&&typeof y=="object"?V.value!==y.value:V!==y);this.updateMultiselectField(x,S)},getFileFieldValue(x){var S,V;const y=this.formData[x]||((V=(S=this.editingItem)==null?void 0:S[x])==null?void 0:V.value)||[];if(!Array.isArray(y))return[];const B=this.getFormFieldsArray.find(C=>C.name===x);if(B&&B.type==="multi_select"){const C=(B.label||B.name||"").toLowerCase();if(C==="images"||C==="image")return y.map(P=>{if(typeof P=="object"&&(P.url||P.preview||P.external||P.file))return P;if(typeof P=="string"&&P.startsWith("http"))return{url:P,name:P.split("/").pop()||"Image",type:"image/url",external:{url:P}};if(typeof P=="object"&&P.value){const E=typeof P.value=="string"?P.value:P.value.url||P.value;if(E&&typeof E=="string"&&E.startsWith("http"))return{url:E,name:P.label||E.split("/").pop()||"Image",type:"image/url",external:{url:E}}}return P})}return y},getFileFieldValueAsArray(x){const y=this.getFileFieldValue(x);return!y||!Array.isArray(y)?[]:y.map(B=>typeof B=="string"?B:typeof B=="object"&&B!==null&&(B.url||B.external&&B.external.url||B.value)||"").filter(B=>B&&B.trim())},updateFileFieldFromArray(x,y){const B=y.map(S=>typeof S=="string"&&S.startsWith("http")?{url:S,name:S.split("/").pop()||"Image",type:"image/url",external:{url:S}}:S);this.updateField(x,B)},getImagePreviews(x){const y=this.getFileFieldValue(x);return!y||!Array.isArray(y)?[]:y.map((B,S)=>B&&B.preview&&typeof B.preview=="string"?{url:B.preview,name:B.name||"Image",uploading:B.uploading||!1,index:S}:B&&B.url&&typeof B.url=="string"?{url:B.url,name:B.name||"Image",uploading:!1,index:S}:B&&B.external&&B.external.url&&typeof B.external.url=="string"?{url:B.external.url,name:B.name||B.filename||"Image",uploading:!1,index:S}:B&&B instanceof File?{url:URL.createObjectURL(B),name:B.name||"Image",uploading:!0,index:S}:B&&B.file&&B.file instanceof File?{url:URL.createObjectURL(B.file),name:B.name||B.file.name||"Image",uploading:B.uploading||!0,index:S}:typeof B=="string"&&B.startsWith("http")?{url:B,name:"Image",uploading:!1,index:S}:B&&typeof B=="object"&&B.value&&typeof B.value=="string"&&B.value.startsWith("http")?{url:B.value,name:B.name||B.label||"Image",uploading:!1,index:S}:null).filter(B=>B!==null)},isFileUploading(x,y){const B=this.getFileFieldValue(x);return!B||!Array.isArray(B)||!B[y]?!1:B[y].uploading===!0},updateFileField(x,y){const B=Array.from(y||[]).map(S=>({name:S.name,size:S.size,type:S.type,lastModified:S.lastModified,file:S,preview:URL.createObjectURL(S)}));this.updateField(x,B)},removeFileFromField(x,y){const B=this.getFileFieldValue(x),S=B[y];S&&S.preview&&URL.revokeObjectURL(S.preview);const V=B.filter((C,P)=>P!==y);this.updateField(x,V)},initializeForNewProduct(){var y,B,S;const x=((y=this.itemStore.schema)==null?void 0:y.properties)||((S=(B=this.itemStore.databaseInfo)==null?void 0:B.schema)==null?void 0:S.properties)||this.itemStore.schema;if(!x){this.editingItem={};return}this.editingItem={},Object.entries(x).forEach(([V,C])=>{V!=="id"&&(this.editingItem[V]={type:C.type,value:this.getDefaultValue(C.type),required:!1,...C})}),this.formData={},this.slugManuallyEdited=!1},getDefaultValue(x){switch(x){case"checkbox":return!1;case"number":return 0;case"multi_select":case"files":return[];default:return""}},async loadProduct(){var x,y,B;this.loading=!0;try{await this.setupProductsDatabase(),await this.itemStore.fetchItem(this.productId);const S=this.itemStore.currentItem;if(!S){this.$router.push("/admin/products");return}const V=((x=this.itemStore.schema)==null?void 0:x.properties)||((B=(y=this.itemStore.databaseInfo)==null?void 0:y.schema)==null?void 0:B.properties)||this.itemStore.schema||{};this.editingItem={},Object.entries(V).forEach(([C,P])=>{if(C==="id")return;const E=S[C]||S[C.charAt(0).toUpperCase()+C.slice(1)]||S[C.toLowerCase()];this.editingItem[C]={type:P.type,value:E!==void 0?E:this.getDefaultValue(P.type),required:!1,...P}}),Object.entries(S).forEach(([C,P])=>{const E=C.toLowerCase();C==="id"||C==="created_time"||C==="last_edited_time"||E==="created_date"||E==="updated_date"||E==="created_at"||E==="updated_at"||E==="date_created"||E==="date_updated"||E.includes("created_at")||E.includes("updated_at")||E.includes("created")&&E.includes("date")||E.includes("updated")&&E.includes("date")||E.includes("created")&&E.includes("time")||E.includes("updated")&&E.includes("time")||this.editingItem[C]||(this.editingItem[C]={type:this.inferType(P),value:P,required:!1})}),this.formData={},Object.entries(this.editingItem).forEach(([C,P])=>{this.formData[C]=P.value}),this.slugManuallyEdited=!0}catch(S){this.toast.add({severity:"error",summary:"Error",detail:`Error loading product: ${S.message}`,life:5e3}),this.$router.push("/admin/products")}finally{this.loading=!1}},inferType(x){return typeof x=="boolean"?"checkbox":typeof x=="number"?"number":Array.isArray(x)?"multi_select":x&&typeof x=="string"&&x.match(/^\d{4}-\d{2}-\d{2}/)?"date":"rich_text"},async refreshSchema(){try{await this.setupProductsDatabase(),await this.itemStore.fetchSchema(!0),this.isEdit?await this.loadProduct():this.initializeForNewProduct()}catch{}},handleSubmit(x){var P;x&&(x.preventDefault(),x.stopPropagation());let y=!0;if(!this.isEdit){const E=this.titleFields.find(D=>{const z=D.name.toLowerCase();return z==="name"||z==="title"||D.type==="title"});if(E){const D=this.getFieldValue(E.name);(!D||typeof D=="string"&&!D.trim())&&(this.toast.add({severity:"warn",summary:"Validation Error",detail:`${E.label} is required. Please enter a product name.`,life:5e3}),y=!1)}else this.titleFields.some(z=>{const T=this.getFieldValue(z.name);return T&&(typeof T=="string"?T.trim():T)})||(this.toast.add({severity:"warn",summary:"Validation Error",detail:"Product name is required. Please enter a product name.",life:5e3}),y=!1)}if(!y)return!1;const B={...this.formData},S=new Date().toISOString().split("T")[0],V=((P=this.itemStore.schema)==null?void 0:P.properties)||{};if(!this.isEdit){const E=Object.keys(V).find(D=>{const z=D.toLowerCase();return(z==="created_at"||z==="created_date"||z==="created"||z==="date_created"||z.includes("created_at"))&&(V[D].type==="date"||V[D].type==="created_time")});E&&!B[E]&&(B[E]=S)}const C=Object.keys(V).find(E=>{const D=E.toLowerCase();return(D==="updated_at"||D==="updated_date"||D==="updated"||D==="date_updated"||D.includes("updated_at"))&&(V[E].type==="date"||V[E].type==="last_edited_time")});C&&(B[C]=S),this.getFormFieldsArray.forEach(E=>{if(E.type==="multi_select"){const D=(E.label||E.name||"").toLowerCase(),z=(E.name||"").toLowerCase();if(D==="images"||D==="image"||z==="images"||z==="image"){const T=B[E.name];if(Array.isArray(T)){const j=T.map(R=>{if(typeof R=="string")return R;if(typeof R=="object"&&R!==null){if(R.url&&typeof R.url=="string")return R.url;if(R.external&&R.external.url&&typeof R.external.url=="string")return R.external.url;if(R.value&&typeof R.value=="string"&&R.value.startsWith("http"))return R.value}return null}).filter(R=>R&&typeof R=="string"&&R.trim());B[E.name]=j}else if(T&&typeof T=="object"){const j=T.url||T.external&&T.external.url||T.value;j&&typeof j=="string"&&(B[E.name]=[j])}}}}),this.fileFields.forEach(E=>{const D=(E.label||E.name||"").toLowerCase(),z=(E.name||"").toLowerCase();if(D==="images"||D==="image"||z==="images"||z==="image"){const T=B[E.name];if(Array.isArray(T)){const j=T.map(R=>typeof R=="string"?R:typeof R=="object"&&R!==null&&(R.url||R.external&&R.external.url||R.value)||null).filter(R=>R&&typeof R=="string"&&R.trim());B[E.name]=j}}}),y&&this.$emit("submit",B)},handleCancel(){this.$emit("cancel")},getCurrencyCode(x){if(!x)return"USD";const y=x.toLowerCase(),B=currencyFormats[y];return(B==null?void 0:B.currency)||"USD"},getColorIndicator,getOptionClasses,getOptionBackgroundClasses,getSelectedOptionClasses,getSelectedOptionLabel,shouldUseTextarea(x){const y=x.toLowerCase();return y==="description"||y.includes("description")}}},_hoisted_1$6={class:"bg-white rounded-lg shadow p-6 pb-24"},_hoisted_2$6={class:"mb-6"},_hoisted_3$6={class:"text-2xl font-bold text-gray-900"},_hoisted_4$6={class:"text-gray-600 mt-1"},_hoisted_5$6={key:0,class:"space-y-6 animate-pulse"},_hoisted_6$6={class:"space-y-4 pb-6 border-b border-gray-200"},_hoisted_7$6={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},_hoisted_8$6={class:"space-y-4 pb-6 border-b border-gray-200"},_hoisted_9$6={class:"grid grid-cols-3 gap-4"},_hoisted_10$5={class:"space-y-4 pb-6 border-b border-gray-200"},_hoisted_11$5={class:"grid grid-cols-3 gap-4"},_hoisted_12$4={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},_hoisted_13$4={key:0,class:"space-y-4 pb-6 border-b border-gray-200"},_hoisted_14$3={class:"grid grid-cols-1 md:grid-cols-3 gap-4 items-start"},_hoisted_15$3=["for"],_hoisted_16$3={key:1,class:"text-red-500 ml-1"},_hoisted_17$3={key:0,class:"text-red-600 block"},_hoisted_18$3={key:1,class:"text-xs text-gray-500 mt-1"},_hoisted_19$2={key:2,class:"text-xs text-gray-500 mt-1"},_hoisted_20$2=["for"],_hoisted_21$2={class:"text-sm text-gray-700"},_hoisted_22$2={key:0,class:"text-red-600 text-xs"},_hoisted_23$2={key:1,class:"text-xs text-gray-500 mt-1"},_hoisted_24$2={key:1,class:"space-y-4 pb-6 border-b border-gray-200"},_hoisted_25$2=["for"],_hoisted_26$1={key:1,class:"text-red-500 ml-1"},_hoisted_27$1={key:0,class:"text-red-600 block"},_hoisted_28$1={key:2,class:"space-y-4 pb-6 border-b border-gray-200"},_hoisted_29$1={key:0,class:"text-red-600 block"},_hoisted_30$1={key:3,class:"space-y-4 pb-6 border-b border-gray-200"},_hoisted_31$1={class:"grid grid-cols-3 gap-4"},_hoisted_32$1=["for"],_hoisted_33$1={key:1,class:"text-red-500 ml-1"},_hoisted_34$1={key:3,class:"text-red-600 block"},_hoisted_35$1={key:4,class:"space-y-4 pb-6 border-b border-gray-200"},_hoisted_36$1={class:"grid grid-cols-3 gap-4"},_hoisted_37$1=["for"],_hoisted_38$1={key:1,class:"text-red-500 ml-1"},_hoisted_39={key:2,class:"text-red-600 block"},_hoisted_40={key:5,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},_hoisted_41=["for"],_hoisted_42={key:1,class:"text-red-500 ml-1"},_hoisted_43={key:0,class:"text-red-600 block"},_hoisted_44=["for"],_hoisted_45={class:"text-green-600 ml-1"},_hoisted_46={key:1,class:"text-red-500 ml-1"},_hoisted_47={key:0,class:"text-red-600 block"},_hoisted_48=["for"],_hoisted_49={key:1,class:"text-red-500 ml-1"},_hoisted_50={key:0,class:"text-red-600 block"},_hoisted_51=["for"],_hoisted_52={key:1,class:"text-red-500 ml-1"},_hoisted_53={class:"flex items-center gap-2"},_hoisted_54={key:0,class:"mt-2"},_hoisted_55={class:"flex items-center gap-2"},_hoisted_56={key:2,class:"text-red-600 block"},_hoisted_57=["for"],_hoisted_58={key:1,class:"text-red-500 ml-1"},_hoisted_59={key:4,class:"text-red-600 block"},_hoisted_60={class:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-50 p-4"},_hoisted_61={class:"max-w-7xl mx-auto flex justify-end gap-3"};function _sfc_render$8(x,y,B,S,V,C){const P=script$2,E=script$3,D=script$4,z=__unplugin_components_3,T=script$5,j=script$6,R=script$7,Z=script$8,U=script$9;return openBlock(),createElementBlock("div",_hoisted_1$6,[createBaseVNode("div",_hoisted_2$6,[createBaseVNode("h2",_hoisted_3$6,toDisplayString(C.isEdit?"Edit Product":"Add New Product"),1),createBaseVNode("p",_hoisted_4$6,toDisplayString(C.isEdit?"Update product information":"Create a new product"),1)]),V.loading?(openBlock(),createElementBlock("div",_hoisted_5$6,[y[6]||(y[6]=createBaseVNode("div",{class:"mb-6"},[createBaseVNode("div",{class:"h-8 bg-gray-200 rounded w-48 mb-2"}),createBaseVNode("div",{class:"h-4 bg-gray-200 rounded w-64"})],-1)),createBaseVNode("div",_hoisted_6$6,[createBaseVNode("div",_hoisted_7$6,[y[2]||(y[2]=createStaticVNode('<div class="space-y-2" data-v-c06dfb7e><div class="h-4 bg-gray-200 rounded w-24" data-v-c06dfb7e></div><div class="h-10 bg-gray-200 rounded" data-v-c06dfb7e></div></div><div class="space-y-2" data-v-c06dfb7e><div class="h-4 bg-gray-200 rounded w-24" data-v-c06dfb7e></div><div class="h-10 bg-gray-200 rounded" data-v-c06dfb7e></div></div>',2)),(openBlock(),createElementBlock(Fragment,null,renderList(3,M=>createBaseVNode("div",{key:M,class:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg"},[...y[1]||(y[1]=[createBaseVNode("div",{class:"w-5 h-5 bg-gray-200 rounded"},null,-1),createBaseVNode("div",{class:"h-4 bg-gray-200 rounded w-32"},null,-1)])])),64))])]),y[7]||(y[7]=createStaticVNode('<div class="space-y-4 pb-6 border-b border-gray-200" data-v-c06dfb7e><div class="space-y-2" data-v-c06dfb7e><div class="h-4 bg-gray-200 rounded w-32" data-v-c06dfb7e></div><div class="h-24 bg-gray-200 rounded" data-v-c06dfb7e></div></div></div><div class="space-y-4 pb-6 border-b border-gray-200" data-v-c06dfb7e><div class="space-y-2" data-v-c06dfb7e><div class="h-4 bg-gray-200 rounded w-32" data-v-c06dfb7e></div><div class="h-32 bg-gray-200 rounded border-2 border-dashed border-gray-300" data-v-c06dfb7e></div></div></div>',2)),createBaseVNode("div",_hoisted_8$6,[createBaseVNode("div",_hoisted_9$6,[(openBlock(),createElementBlock(Fragment,null,renderList(3,M=>createBaseVNode("div",{key:M,class:"space-y-2"},[...y[3]||(y[3]=[createBaseVNode("div",{class:"h-4 bg-gray-200 rounded w-20"},null,-1),createBaseVNode("div",{class:"h-10 bg-gray-200 rounded"},null,-1)])])),64))])]),createBaseVNode("div",_hoisted_10$5,[createBaseVNode("div",_hoisted_11$5,[(openBlock(),createElementBlock(Fragment,null,renderList(2,M=>createBaseVNode("div",{key:M,class:"space-y-2"},[...y[4]||(y[4]=[createBaseVNode("div",{class:"h-4 bg-gray-200 rounded w-24"},null,-1),createBaseVNode("div",{class:"h-10 bg-gray-200 rounded"},null,-1)])])),64))])]),createBaseVNode("div",_hoisted_12$4,[(openBlock(),createElementBlock(Fragment,null,renderList(6,M=>createBaseVNode("div",{key:M,class:"space-y-2"},[...y[5]||(y[5]=[createBaseVNode("div",{class:"h-4 bg-gray-200 rounded w-28"},null,-1),createBaseVNode("div",{class:"h-10 bg-gray-200 rounded"},null,-1)])])),64))]),y[8]||(y[8]=createBaseVNode("div",{class:"flex justify-end gap-4 pt-6 border-t border-gray-200"},[createBaseVNode("div",{class:"h-10 bg-gray-200 rounded w-24"}),createBaseVNode("div",{class:"h-10 bg-gray-200 rounded w-24"})],-1))])):(openBlock(),createElementBlock("form",{key:1,onSubmit:y[0]||(y[0]=withModifiers((...M)=>C.handleSubmit&&C.handleSubmit(...M),["prevent"])),class:"space-y-6"},[C.titleFields.length>0||C.booleanFields.length>0?(openBlock(),createElementBlock("div",_hoisted_13$4,[createBaseVNode("div",_hoisted_14$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.titleFields,M=>(openBlock(),createElementBlock("div",{key:M.name,class:"space-y-2"},[createBaseVNode("label",{for:M.name,class:"block text-sm font-medium text-gray-700"},[M.icon?(openBlock(),createElementBlock("i",{key:0,class:normalizeClass([M.icon,"mr-2 text-gray-500"])},null,2)):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(M.label)+" ",1),M.required?(openBlock(),createElementBlock("span",_hoisted_16$3,"*")):createCommentVNode("",!0)],8,_hoisted_15$3),createVNode(P,{id:M.name,type:M.type,placeholder:M.placeholder,required:M.required,"model-value":C.getFieldValue(M.name),"onUpdate:modelValue":W=>C.updateField(M.name,W),class:normalizeClass([{"p-invalid":B.formErrors[M.name]},"w-full"]),readonly:M.readonly},null,8,["id","type","placeholder","required","model-value","onUpdate:modelValue","class","readonly"]),B.formErrors[M.name]?(openBlock(),createElementBlock("small",_hoisted_17$3,toDisplayString(B.formErrors[M.name]),1)):createCommentVNode("",!0),M.name.toLowerCase()==="slug"?(openBlock(),createElementBlock("p",_hoisted_18$3," Auto generated based on title for SEO-friendly ")):M.readonly?(openBlock(),createElementBlock("p",_hoisted_19$2,"This field is auto-generated")):createCommentVNode("",!0)]))),128)),(openBlock(!0),createElementBlock(Fragment,null,renderList(C.booleanFields,M=>(openBlock(),createElementBlock("div",{key:M.name,class:"space-y-2"},[createBaseVNode("label",{for:M.name,class:"block text-sm font-medium text-gray-700"},toDisplayString(M.label),9,_hoisted_20$2),createBaseVNode("div",{class:normalizeClass(["flex items-center gap-2 p-3 rounded-lg border transition-colors duration-200",C.getFieldValue(M.name)?"bg-emerald-50 border-emerald-200":"bg-gray-50 border-gray-200"])},[createVNode(E,{id:M.name,"model-value":C.getFieldValue(M.name),"onUpdate:modelValue":W=>C.updateField(M.name,W),binary:!0},null,8,["id","model-value","onUpdate:modelValue"]),createBaseVNode("span",_hoisted_21$2,toDisplayString(M.label),1)],2),B.formErrors[M.name]?(openBlock(),createElementBlock("small",_hoisted_22$2,toDisplayString(B.formErrors[M.name]),1)):createCommentVNode("",!0),M.name.toLowerCase()==="approved"?(openBlock(),createElementBlock("p",_hoisted_23$2," Approved products are published to customer ")):createCommentVNode("",!0)]))),128))])])):createCommentVNode("",!0),C.descriptionFields.length>0?(openBlock(),createElementBlock("div",_hoisted_24$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.descriptionFields,M=>(openBlock(),createElementBlock("div",{key:M.name,class:"space-y-2"},[createBaseVNode("label",{for:M.name,class:"block text-sm font-medium text-gray-700"},[M.icon?(openBlock(),createElementBlock("i",{key:0,class:normalizeClass([M.icon,"mr-2 text-gray-500"])},null,2)):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(M.label)+" ",1),M.required?(openBlock(),createElementBlock("span",_hoisted_26$1,"*")):createCommentVNode("",!0)],8,_hoisted_25$2),createVNode(D,{id:M.name,placeholder:M.placeholder,required:M.required,"model-value":C.getFieldValue(M.name),"onUpdate:modelValue":W=>C.updateField(M.name,W),class:normalizeClass([{"p-invalid":B.formErrors[M.name]},"w-full"]),rows:"4"},null,8,["id","placeholder","required","model-value","onUpdate:modelValue","class"]),B.formErrors[M.name]?(openBlock(),createElementBlock("small",_hoisted_27$1,toDisplayString(B.formErrors[M.name]),1)):createCommentVNode("",!0)]))),128))])):createCommentVNode("",!0),C.fileFields.length>0?(openBlock(),createElementBlock("div",_hoisted_28$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.fileFields,M=>(openBlock(),createElementBlock("div",{key:M.name,class:"space-y-2"},[createVNode(z,{"model-value":C.getFileFieldValueAsArray(M.name),"onUpdate:modelValue":W=>C.updateFileFieldFromArray(M.name,W),label:M.label,required:M.required,placeholder:"Paste image URL here (e.g., https://example.com/image.jpg)"},null,8,["model-value","onUpdate:modelValue","label","required"]),B.formErrors[M.name]?(openBlock(),createElementBlock("small",_hoisted_29$1,toDisplayString(B.formErrors[M.name]),1)):createCommentVNode("",!0)]))),128))])):createCommentVNode("",!0),C.sizePriceYearFields.length>0?(openBlock(),createElementBlock("div",_hoisted_30$1,[createBaseVNode("div",_hoisted_31$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.sizePriceYearFields,M=>(openBlock(),createElementBlock("div",{key:M.name,class:"space-y-2"},[createBaseVNode("label",{for:M.name,class:"block text-sm font-medium text-gray-700"},[M.icon?(openBlock(),createElementBlock("i",{key:0,class:normalizeClass([M.icon,"mr-2 text-gray-500"])},null,2)):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(M.label)+" ",1),M.required?(openBlock(),createElementBlock("span",_hoisted_33$1,"*")):createCommentVNode("",!0)],8,_hoisted_32$1),C.currencyNumberFields.includes(M)?(openBlock(),createBlock(T,{key:0,id:M.name,placeholder:M.placeholder,required:M.required,min:M.min||0,max:M.max,step:M.step,"model-value":C.getFieldValue(M.name),"onUpdate:modelValue":W=>C.updateField(M.name,W),class:normalizeClass([{"p-invalid":B.formErrors[M.name]},"w-full"]),showButtons:"",buttonLayout:"horizontal",mode:"currency",currency:C.getCurrencyCode(M.format)},{incrementbuttonicon:withCtx(()=>[...y[9]||(y[9]=[createBaseVNode("span",{class:"pi pi-plus"},null,-1)])]),decrementbuttonicon:withCtx(()=>[...y[10]||(y[10]=[createBaseVNode("span",{class:"pi pi-minus"},null,-1)])]),_:1},8,["id","placeholder","required","min","max","step","model-value","onUpdate:modelValue","class","currency"])):M.type==="number"?(openBlock(),createBlock(T,{key:1,id:M.name,placeholder:M.placeholder,required:M.required,min:M.min||0,max:M.max,step:M.step,"model-value":C.getFieldValue(M.name),"onUpdate:modelValue":W=>C.updateField(M.name,W),class:normalizeClass([{"p-invalid":B.formErrors[M.name]},"w-full"]),showButtons:"",buttonLayout:"horizontal"},{incrementbuttonicon:withCtx(()=>[...y[11]||(y[11]=[createBaseVNode("i",{class:"pi pi-plus"},null,-1)])]),decrementbuttonicon:withCtx(()=>[...y[12]||(y[12]=[createBaseVNode("i",{class:"pi pi-minus"},null,-1)])]),_:1},8,["id","placeholder","required","min","max","step","model-value","onUpdate:modelValue","class"])):(openBlock(),createBlock(P,{key:2,id:M.name,type:M.type,placeholder:M.placeholder,required:M.required,"model-value":C.getFieldValue(M.name),"onUpdate:modelValue":W=>C.updateField(M.name,W),class:normalizeClass([{"p-invalid":B.formErrors[M.name]},"w-full"])},null,8,["id","type","placeholder","required","model-value","onUpdate:modelValue","class"])),B.formErrors[M.name]?(openBlock(),createElementBlock("small",_hoisted_34$1,toDisplayString(B.formErrors[M.name]),1)):createCommentVNode("",!0)]))),128))])])):createCommentVNode("",!0),C.locationFields.length>0?(openBlock(),createElementBlock("div",_hoisted_35$1,[createBaseVNode("div",_hoisted_36$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.locationFields,M=>(openBlock(),createElementBlock("div",{key:M.name,class:"space-y-2"},[createBaseVNode("label",{for:M.name,class:"block text-sm font-medium text-gray-700"},[M.icon?(openBlock(),createElementBlock("i",{key:0,class:normalizeClass([M.icon,"mr-2 text-gray-500"])},null,2)):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(M.label)+" ",1),M.required?(openBlock(),createElementBlock("span",_hoisted_38$1,"*")):createCommentVNode("",!0)],8,_hoisted_37$1),M.type==="number"?(openBlock(),createBlock(T,{key:0,id:M.name,placeholder:M.placeholder,required:M.required,min:-180,max:180,step:1e-6,"model-value":C.getFieldValue(M.name),"onUpdate:modelValue":W=>C.updateField(M.name,W),class:normalizeClass([{"p-invalid":B.formErrors[M.name]},"w-full"]),showButtons:"",buttonLayout:"horizontal",minFractionDigits:6,maxFractionDigits:6},{incrementbuttonicon:withCtx(()=>[...y[13]||(y[13]=[createBaseVNode("i",{class:"pi pi-plus"},null,-1)])]),decrementbuttonicon:withCtx(()=>[...y[14]||(y[14]=[createBaseVNode("i",{class:"pi pi-minus"},null,-1)])]),_:1},8,["id","placeholder","required","model-value","onUpdate:modelValue","class"])):(openBlock(),createBlock(P,{key:1,id:M.name,type:M.type,placeholder:M.placeholder,required:M.required,"model-value":C.getFieldValue(M.name),"onUpdate:modelValue":W=>C.updateField(M.name,W),class:normalizeClass([{"p-invalid":B.formErrors[M.name]},"w-full"])},null,8,["id","type","placeholder","required","model-value","onUpdate:modelValue","class"])),B.formErrors[M.name]?(openBlock(),createElementBlock("small",_hoisted_39,toDisplayString(B.formErrors[M.name]),1)):createCommentVNode("",!0)]))),128))])])):createCommentVNode("",!0),C.allOtherFields.length>0?(openBlock(),createElementBlock("div",_hoisted_40,[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.allOtherFields,M=>(openBlock(),createElementBlock("div",{key:M.name,class:normalizeClass(["space-y-2",M.type==="files"||M.type==="rich_text"||M.type==="textarea"?"md:col-span-2 lg:col-span-3":""])},[C.contactFields.includes(M)?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("label",{for:M.name,class:"block text-sm font-medium text-gray-700"},[M.icon?(openBlock(),createElementBlock("i",{key:0,class:normalizeClass([M.icon,"mr-2 text-gray-500"])},null,2)):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(M.label)+" ",1),M.required?(openBlock(),createElementBlock("span",_hoisted_42,"*")):createCommentVNode("",!0)],8,_hoisted_41),createVNode(P,{id:M.name,type:M.type,placeholder:M.placeholder,required:M.required,"model-value":C.getFieldValue(M.name),"onUpdate:modelValue":W=>C.updateField(M.name,W),class:normalizeClass([{"p-invalid":B.formErrors[M.name]},"w-full"])},null,8,["id","type","placeholder","required","model-value","onUpdate:modelValue","class"]),B.formErrors[M.name]?(openBlock(),createElementBlock("small",_hoisted_43,toDisplayString(B.formErrors[M.name]),1)):createCommentVNode("",!0)],64)):C.currencyNumberFields.includes(M)?(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("label",{for:M.name,class:"block text-sm font-medium text-gray-700"},[M.icon?(openBlock(),createElementBlock("i",{key:0,class:normalizeClass([M.icon,"mr-2 text-gray-500"])},null,2)):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(M.label)+" ",1),createBaseVNode("span",_hoisted_45,"("+toDisplayString(C.getCurrencyCode(M.format))+")",1),M.required?(openBlock(),createElementBlock("span",_hoisted_46,"*")):createCommentVNode("",!0)],8,_hoisted_44),createVNode(T,{id:M.name,placeholder:M.placeholder,required:M.required,min:M.min||0,max:M.max,step:M.step,"model-value":C.getFieldValue(M.name),"onUpdate:modelValue":W=>C.updateField(M.name,W),class:normalizeClass([{"p-invalid":B.formErrors[M.name]},"w-full"]),showButtons:"",buttonLayout:"horizontal",mode:"currency",currency:C.getCurrencyCode(M.format)},{incrementbuttonicon:withCtx(()=>[...y[15]||(y[15]=[createBaseVNode("span",{class:"pi pi-plus"},null,-1)])]),decrementbuttonicon:withCtx(()=>[...y[16]||(y[16]=[createBaseVNode("span",{class:"pi pi-minus"},null,-1)])]),_:1},8,["id","placeholder","required","min","max","step","model-value","onUpdate:modelValue","class","currency"]),B.formErrors[M.name]?(openBlock(),createElementBlock("small",_hoisted_47,toDisplayString(B.formErrors[M.name]),1)):createCommentVNode("",!0)],64)):C.regularNumberFields.includes(M)?(openBlock(),createElementBlock(Fragment,{key:2},[createBaseVNode("label",{for:M.name,class:"block text-sm font-medium text-gray-700"},[M.icon?(openBlock(),createElementBlock("i",{key:0,class:normalizeClass([M.icon,"mr-2 text-gray-500"])},null,2)):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(M.label)+" ",1),M.required?(openBlock(),createElementBlock("span",_hoisted_49,"*")):createCommentVNode("",!0)],8,_hoisted_48),createVNode(T,{id:M.name,placeholder:M.placeholder,required:M.required,min:M.min||0,max:M.max,step:M.step,"model-value":C.getFieldValue(M.name),"onUpdate:modelValue":W=>C.updateField(M.name,W),class:normalizeClass([{"p-invalid":B.formErrors[M.name]},"w-full"]),showButtons:"",buttonLayout:"horizontal"},{incrementbuttonicon:withCtx(()=>[...y[17]||(y[17]=[createBaseVNode("i",{class:"pi pi-plus"},null,-1)])]),decrementbuttonicon:withCtx(()=>[...y[18]||(y[18]=[createBaseVNode("i",{class:"pi pi-minus"},null,-1)])]),_:1},8,["id","placeholder","required","min","max","step","model-value","onUpdate:modelValue","class"]),B.formErrors[M.name]?(openBlock(),createElementBlock("small",_hoisted_50,toDisplayString(B.formErrors[M.name]),1)):createCommentVNode("",!0)],64)):C.selectionFields.includes(M)?(openBlock(),createElementBlock(Fragment,{key:3},[createBaseVNode("label",{for:M.name,class:"block text-sm font-medium text-gray-700"},[M.icon?(openBlock(),createElementBlock("i",{key:0,class:normalizeClass([M.icon,"mr-2 text-gray-500"])},null,2)):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(M.label)+" ",1),M.required?(openBlock(),createElementBlock("span",_hoisted_52,"*")):createCommentVNode("",!0)],8,_hoisted_51),M.type==="select"?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(j,{id:M.name,required:M.required,"model-value":C.getFieldValue(M.name),"onUpdate:modelValue":W=>C.updateField(M.name,W),options:M.options,optionLabel:"label",optionValue:"value",placeholder:`Select ${M.label}`,class:normalizeClass([{"p-invalid":B.formErrors[M.name]},"w-full"])},{option:withCtx(W=>[createBaseVNode("div",_hoisted_53,[W.option.color?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass([C.getColorIndicator(W.option.color),"w-3 h-3 rounded-full"])},null,2)):createCommentVNode("",!0),createBaseVNode("span",null,toDisplayString(W.option.label),1)])]),_:1},8,["id","required","model-value","onUpdate:modelValue","options","placeholder","class"]),C.getFieldValue(M.name)?(openBlock(),createElementBlock("div",_hoisted_54,[createBaseVNode("div",_hoisted_55,[createBaseVNode("span",{class:normalizeClass([C.getSelectedOptionClasses(C.getFieldValue(M.name),M),"px-3 py-1.5 text-sm rounded-full border font-medium"])},toDisplayString(C.getSelectedOptionLabel(C.getFieldValue(M.name),M)),3)])])):createCommentVNode("",!0)],64)):M.type==="multi_select"?(openBlock(),createBlock(Z,{key:1,id:M.name,"model-value":C.getMultiselectValue(M.name),"onUpdate:modelValue":W=>C.updateMultiselectField(M.name,W),options:M.options,optionLabel:"label",optionValue:"value",placeholder:`Select ${M.label}`,class:normalizeClass([{"p-invalid":B.formErrors[M.name]},"w-full"]),filter:!0,allowEmpty:!0,display:"chip"},{option:withCtx(W=>[createBaseVNode("div",{class:normalizeClass(["flex items-center gap-2 px-2 py-1 rounded",C.getOptionBackgroundClasses(W.option)])},[createBaseVNode("span",null,toDisplayString(W.option.label),1)],2)]),chip:withCtx(W=>{var ke,_e;return[createBaseVNode("div",{class:normalizeClass(["flex items-center gap-2 px-3 py-1.5 text-sm rounded-full border font-medium",C.getOptionClasses(W.value,M)])},[createBaseVNode("span",null,toDisplayString(typeof W.value=="string"?W.value:((ke=W.value)==null?void 0:ke.label)||((_e=W.value)==null?void 0:_e.value)||W.value),1),createVNode(R,{type:"button",onClick:ae=>C.removeMultiselectItem(M.name,W.value||W),class:"ml-1 hover:opacity-75 p-0 w-6 h-6 text-gray-700 hover:text-gray-900",icon:"pi pi-times",size:"small",link:"",rounded:""},null,8,["onClick"])],2)]}),_:2},1032,["id","model-value","onUpdate:modelValue","options","placeholder","class"])):createCommentVNode("",!0),B.formErrors[M.name]?(openBlock(),createElementBlock("small",_hoisted_56,toDisplayString(B.formErrors[M.name]),1)):createCommentVNode("",!0)],64)):(openBlock(),createElementBlock(Fragment,{key:4},[createBaseVNode("label",{for:M.name,class:"block text-sm font-medium text-gray-700"},[M.icon?(openBlock(),createElementBlock("i",{key:0,class:normalizeClass([M.icon,"mr-2 text-gray-500"])},null,2)):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(M.label)+" ",1),M.required?(openBlock(),createElementBlock("span",_hoisted_58,"*")):createCommentVNode("",!0)],8,_hoisted_57),M.type==="date"?(openBlock(),createBlock(U,{key:0,id:M.name,placeholder:M.placeholder,required:M.required,"model-value":C.getFieldValue(M.name),"onUpdate:modelValue":W=>C.updateField(M.name,W),class:normalizeClass([{"p-invalid":B.formErrors[M.name]},"w-full"]),dateFormat:"yy-mm-dd"},null,8,["id","placeholder","required","model-value","onUpdate:modelValue","class"])):(M.type==="rich_text"||M.type==="textarea")&&C.shouldUseTextarea(M.name)?(openBlock(),createBlock(D,{key:1,id:M.name,placeholder:M.placeholder,required:M.required,"model-value":C.getFieldValue(M.name),"onUpdate:modelValue":W=>C.updateField(M.name,W),class:normalizeClass([{"p-invalid":B.formErrors[M.name]},"w-full"]),rows:"1"},null,8,["id","placeholder","required","model-value","onUpdate:modelValue","class"])):M.type==="url"?(openBlock(),createBlock(P,{key:2,id:M.name,type:"url",placeholder:M.placeholder,required:M.required,"model-value":C.getFieldValue(M.name),"onUpdate:modelValue":W=>C.updateField(M.name,W),class:normalizeClass([{"p-invalid":B.formErrors[M.name]},"w-full"])},null,8,["id","placeholder","required","model-value","onUpdate:modelValue","class"])):(openBlock(),createBlock(P,{key:3,id:M.name,type:M.type,placeholder:M.placeholder,required:M.required,"model-value":C.getFieldValue(M.name),"onUpdate:modelValue":W=>C.updateField(M.name,W),class:normalizeClass([{"p-invalid":B.formErrors[M.name]},"w-full"])},null,8,["id","type","placeholder","required","model-value","onUpdate:modelValue","class"])),B.formErrors[M.name]?(openBlock(),createElementBlock("small",_hoisted_59,toDisplayString(B.formErrors[M.name]),1)):createCommentVNode("",!0)],64))],2))),128))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_60,[createBaseVNode("div",_hoisted_61,[createVNode(R,{type:"button",onClick:C.handleCancel,label:"Cancel",severity:"secondary"},null,8,["onClick"]),createVNode(R,{type:"submit",disabled:B.submitting,loading:B.submitting,label:B.submitting?C.submittingText:C.submitButtonText,severity:"primary"},null,8,["disabled","loading","label"])])])],32))])}const __unplugin_components_0$2=_export_sfc(_sfc_main$8,[["render",_sfc_render$8],["__scopeId","data-v-c06dfb7e"]]),_sfc_main$7={name:"AddProduct",setup(){const x=useItemStore(),y=useDashboardStore();return{itemStore:x,dashboardStore:y}},async mounted(){const x=this.$route.query.databaseId||this.dashboardStore.productsDatabaseId||"default";if(this.itemStore.setDatabaseId(x),!this.itemStore.schema)try{await this.itemStore.loadDatabaseSchema()}catch(y){console.error("Error loading schema:",y)}},computed:{loading(){return this.itemStore.loading},error(){return this.itemStore.error}},methods:{async handleSubmit(x){try{const y=this.itemStore.schema;if(y){const C=ValidationService.validateFormData(x,y);if(!C.isValid){alert(`Validation errors: ${Object.values(C.errors).join(", ")}`);return}}const B=x,S={...B,year:B.year||new Date().getFullYear().toString(),percentage:B.percentage||"0%",latitude:B.latitude||0,longitude:B.longitude||0},V=this.$route.query.parentPageId||null;await this.itemStore.createItem(S,V),this.$router.push("/admin/products")}catch(y){console.error("Error creating product:",y),alert(`Error creating product: ${y.message}`)}},handleCancel(){this.$router.push("/admin/products")}}};function _sfc_render$7(x,y,B,S,V,C){const P=__unplugin_components_0$2;return openBlock(),createElementBlock("div",null,[createVNode(P,{onSubmit:C.handleSubmit,onCancel:C.handleCancel},null,8,["onSubmit","onCancel"])])}const AddProduct=_export_sfc(_sfc_main$7,[["render",_sfc_render$7]]),_sfc_main$6={name:"EditProduct",setup(){const x=useItemStore(),y=useDashboardStore(),{setupProductsDatabase:B}=useDatabaseSetup();return{itemStore:x,dashboardStore:y,setupProductsDatabase:B}},computed:{productId(){return this.$route.params.id},loading(){return this.itemStore.loading},error(){return this.itemStore.error}},async mounted(){await this.setupProductsDatabase()},methods:{async handleSubmit(x){try{const y=this.itemStore.schema;if(y){const S=ValidationService.validateFormData(x,y);if(!S.isValid){alert(`Validation errors: ${Object.values(S.errors).join(", ")}`);return}}const B=x;await this.itemStore.updateItem(this.productId,B),this.$router.push("/admin/products")}catch(y){console.error("Error updating product:",y),alert(`Error updating product: ${y.message}`)}},handleCancel(){this.$router.push("/admin/products")}}};function _sfc_render$6(x,y,B,S,V,C){const P=__unplugin_components_0$2;return openBlock(),createElementBlock("div",null,[createVNode(P,{productId:C.productId,onSubmit:C.handleSubmit,onCancel:C.handleCancel},null,8,["productId","onSubmit","onCancel"])])}const EditProduct=_export_sfc(_sfc_main$6,[["render",_sfc_render$6]]),_sfc_main$5={name:"ImageUpload",props:{modelValue:{type:String,default:""},label:{type:String,default:"Image URL"},required:{type:Boolean,default:!1},placeholder:{type:String,default:""},previewWidth:{type:String,default:"300px"},previewHeight:{type:String,default:"160px"}},emits:["update:modelValue"],setup(){const{handleImageError:x}=useImageError();return{handleImageError:x}},data(){return{inputMode:"url",uploading:!1,uploadError:null,isDragOver:!1}},computed:{previewStyle(){return(this.previewWidth===this.previewHeight||this.previewWidth.includes("px")&&this.previewHeight.includes("px")&&this.previewWidth===this.previewHeight)&&this.previewWidth.includes("px")?{width:this.previewWidth,height:this.previewHeight,aspectRatio:"1 / 1"}:{maxWidth:this.previewWidth}},imageStyle(){return{height:this.previewHeight,width:"100%",objectFit:"cover"}}},watch:{modelValue(x,y){x&&this.isDataUrl(x)?this.inputMode="upload":x&&(!y||y==="")&&(this.inputMode="url")}},methods:{handleUrlInput(x){this.$emit("update:modelValue",x.target.value)},handleDragOver(x){x.preventDefault(),x.stopPropagation()},handleDragEnter(x){x.preventDefault(),x.stopPropagation(),this.isDragOver=!0},handleDragLeave(x){x.preventDefault(),x.stopPropagation();const y=x.currentTarget.getBoundingClientRect(),B=x.clientX,S=x.clientY;(B<y.left||B>y.right||S<y.top||S>y.bottom)&&(this.isDragOver=!1)},async handleDrop(x){x.preventDefault(),x.stopPropagation(),this.isDragOver=!1;const y=Array.from(x.dataTransfer.files||[]);if(y.length===0)return;const B=y.filter(S=>fileUploadService.isImageFile(S));if(B.length===0){this.uploadError="Please drop image files only",alert("Please drop image files only");return}await this.uploadFile(B[0])},async handleFileInputChange(x){const y=Array.from(x.target.files||[]);if(y.length===0)return;const B=y[0];await this.uploadFile(B),x.target&&(x.target.value="")},async uploadFile(x){if(!x)return;const y=fileUploadService.validateFile(x,{maxSize:10*1024*1024,allowedTypes:["image/*"]});if(!y.isValid){this.uploadError=y.errors[0],alert(this.uploadError);return}this.uploading=!0,this.uploadError=null;try{const B=await fileUploadService.uploadFile(x);if(B&&B.url)await this.$nextTick(),this.$emit("update:modelValue",B.url);else throw new Error("Upload failed: No URL returned")}catch(B){this.uploadError=B.message||"Failed to upload file. Please try again.",alert(this.uploadError)}finally{this.uploading=!1}},clearImage(x){x&&(x.preventDefault(),x.stopPropagation()),this.$emit("update:modelValue",""),this.$refs.fileInput&&(this.$refs.fileInput.value=""),this.uploadError=null},isDataUrl(x){return typeof x=="string"&&x.startsWith("data:image/")},handleImageLoad(x){x.target.style.display=""}}},_hoisted_1$5={class:"block text-sm font-medium text-gray-700 mb-1"},_hoisted_2$5={key:0,class:"text-red-500"},_hoisted_3$5={class:"mb-4 border-b border-gray-200"},_hoisted_4$5={class:"flex gap-1"},_hoisted_5$5={key:0,class:"space-y-2"},_hoisted_6$5={class:"flex items-center gap-2"},_hoisted_7$5=["value","required","placeholder"],_hoisted_8$5={key:1,class:"space-y-2"},_hoisted_9$5={class:"flex items-center gap-3"},_hoisted_10$4=["required"],_hoisted_11$4={key:0,class:"text-sm text-gray-600 flex items-center gap-2"},_hoisted_12$3={key:1,class:"text-sm text-red-600 mt-2"},_hoisted_13$3=["src","alt"];function _sfc_render$5(x,y,B,S,V,C){return openBlock(),createElementBlock("div",null,[createBaseVNode("label",_hoisted_1$5,[createTextVNode(toDisplayString(B.label)+" ",1),B.required?(openBlock(),createElementBlock("span",_hoisted_2$5,"*")):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_3$5,[createBaseVNode("div",_hoisted_4$5,[createBaseVNode("button",{type:"button",onClick:y[0]||(y[0]=P=>V.inputMode="url"),class:normalizeClass(["px-4 py-2.5 text-sm font-semibold transition-all duration-200 rounded-t-lg -mb-px",V.inputMode==="url"?"text-emerald-600 bg-emerald-50 border-b-2 border-emerald-600 shadow-sm":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"])}," URL ",2),createBaseVNode("button",{type:"button",onClick:y[1]||(y[1]=P=>V.inputMode="upload"),class:normalizeClass(["px-4 py-2.5 text-sm font-semibold transition-all duration-200 rounded-t-lg -mb-px",V.inputMode==="upload"?"text-emerald-600 bg-emerald-50 border-b-2 border-emerald-600 shadow-sm":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"])}," Upload ",2)])]),V.inputMode==="url"?(openBlock(),createElementBlock("div",_hoisted_5$5,[createBaseVNode("div",_hoisted_6$5,[createBaseVNode("input",{value:B.modelValue,onInput:y[2]||(y[2]=(...P)=>C.handleUrlInput&&C.handleUrlInput(...P)),type:"url",required:B.required&&V.inputMode==="url",placeholder:B.placeholder||"https://images.unsplash.com/...",class:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"},null,40,_hoisted_7$5),B.modelValue?(openBlock(),createElementBlock("button",{key:0,type:"button",onClick:y[3]||(y[3]=withModifiers((...P)=>C.clearImage&&C.clearImage(...P),["stop","prevent"])),class:"px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg border border-red-200 transition-colors",title:"Clear image"},[...y[13]||(y[13]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):createCommentVNode("",!0)])])):(openBlock(),createElementBlock("div",_hoisted_8$5,[createBaseVNode("div",_hoisted_9$5,[createBaseVNode("label",{onDragover:y[5]||(y[5]=withModifiers((...P)=>C.handleDragOver&&C.handleDragOver(...P),["prevent"])),onDragenter:y[6]||(y[6]=withModifiers((...P)=>C.handleDragEnter&&C.handleDragEnter(...P),["prevent"])),onDragleave:y[7]||(y[7]=withModifiers((...P)=>C.handleDragLeave&&C.handleDragLeave(...P),["prevent"])),onDrop:y[8]||(y[8]=withModifiers((...P)=>C.handleDrop&&C.handleDrop(...P),["prevent"])),class:normalizeClass(["flex-1 px-4 py-2 border-2 border-dashed rounded-lg cursor-pointer transition-colors text-center",V.isDragOver?"border-emerald-500 bg-emerald-100":"border-gray-300 hover:border-emerald-500 hover:bg-emerald-50"])},[createBaseVNode("input",{ref:"fileInput",type:"file",accept:"image/*",onChange:y[4]||(y[4]=(...P)=>C.handleFileInputChange&&C.handleFileInputChange(...P)),class:"hidden",required:B.required&&V.inputMode==="upload"&&!B.modelValue},null,40,_hoisted_10$4),y[14]||(y[14]=createStaticVNode('<div class="py-2"><svg class="mx-auto h-8 w-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg><p class="mt-2 text-sm text-gray-600"><span class="font-medium text-emerald-600">Click to upload</span> or drag and drop </p><p class="text-xs text-gray-500">PNG, JPG, GIF up to 10MB</p></div>',1))],34),B.modelValue?(openBlock(),createElementBlock("button",{key:0,type:"button",onClick:y[9]||(y[9]=withModifiers((...P)=>C.clearImage&&C.clearImage(...P),["stop","prevent"])),class:"px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg border border-red-200 transition-colors",title:"Remove uploaded image"},[...y[15]||(y[15]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])])):createCommentVNode("",!0)]),V.uploading?(openBlock(),createElementBlock("div",_hoisted_11$4,[...y[16]||(y[16]=[createBaseVNode("svg",{class:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[createBaseVNode("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),createBaseVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),createTextVNode(" Uploading... ",-1)])])):createCommentVNode("",!0),V.uploadError?(openBlock(),createElementBlock("div",_hoisted_12$3,toDisplayString(V.uploadError),1)):createCommentVNode("",!0)])),B.modelValue?(openBlock(),createElementBlock("div",{class:"mt-2 rounded-lg overflow-hidden border border-gray-200 relative group",style:normalizeStyle(C.previewStyle),key:`preview-${B.modelValue}`},[(openBlock(),createElementBlock("img",{key:`img-${B.modelValue}`,src:B.modelValue,alt:`${B.label} preview`,class:"w-full object-cover",style:normalizeStyle(C.imageStyle),onError:y[10]||(y[10]=(...P)=>S.handleImageError&&S.handleImageError(...P)),onLoad:y[11]||(y[11]=(...P)=>C.handleImageLoad&&C.handleImageLoad(...P))},null,44,_hoisted_13$3)),createBaseVNode("button",{type:"button",onClick:y[12]||(y[12]=withModifiers((...P)=>C.clearImage&&C.clearImage(...P),["stop","prevent"])),class:"absolute top-2 right-2 px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all shadow-lg z-10 opacity-80 hover:opacity-100",title:"Remove image"},[...y[17]||(y[17]=[createBaseVNode("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])],4)):createCommentVNode("",!0)])}const __unplugin_components_0$1=_export_sfc(_sfc_main$5,[["render",_sfc_render$5]]),_sfc_main$4={name:"AdminCategories",data(){return{showAddModal:!1,editingCategory:null,formData:{name:"",description:"",image:""},products:{items:[]}}},computed:{categories(){const x={};return this.products.items.forEach(y=>{x[y.category]||(x[y.category]={id:y.category,name:y.category,count:0,description:"",image:""}),x[y.category].count++}),Object.values(x)}},methods:{editCategory(x){this.editingCategory=x,this.formData={...x},this.showAddModal=!0},deleteCategory(x){confirm("Are you sure you want to delete this category? Products in this category will need to be reassigned.")},saveCategory(){this.editingCategory,this.closeModal()},closeModal(){this.showAddModal=!1,this.editingCategory=null,this.formData={name:"",description:"",image:""}}}},_hoisted_1$4={class:"mb-6 flex items-center justify-between"},_hoisted_2$4={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},_hoisted_3$4={class:"flex items-start justify-between mb-4"},_hoisted_4$4={class:"text-xl font-bold text-gray-900"},_hoisted_5$4={class:"text-sm text-gray-500 mt-1"},_hoisted_6$4={class:"flex gap-2"},_hoisted_7$4=["onClick"],_hoisted_8$4=["onClick"],_hoisted_9$4={class:"text-gray-600 text-sm"},_hoisted_10$3={key:0,class:"mt-4"},_hoisted_11$3=["src","alt"],_hoisted_12$2={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},_hoisted_13$2={class:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4"},_hoisted_14$2={class:"p-6"},_hoisted_15$2={class:"flex items-center justify-between mb-4"},_hoisted_16$2={class:"text-2xl font-bold text-gray-900"},_hoisted_17$2={class:"flex justify-end gap-3 pt-4"},_hoisted_18$2={type:"submit",class:"px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600"};function _sfc_render$4(x,y,B,S,V,C){const P=__unplugin_components_0$1;return openBlock(),createElementBlock("div",null,[createBaseVNode("div",_hoisted_1$4,[y[8]||(y[8]=createBaseVNode("div",null,[createBaseVNode("h2",{class:"text-3xl font-bold text-gray-900"},"Manage Categories"),createBaseVNode("p",{class:"text-gray-600 mt-2"},"Organize your products with categories")],-1)),createBaseVNode("button",{onClick:y[0]||(y[0]=E=>V.showAddModal=!0),class:"px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors flex items-center gap-2"},[...y[7]||(y[7]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),createTextVNode(" Add Category ",-1)])])]),createBaseVNode("div",_hoisted_2$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.categories,E=>(openBlock(),createElementBlock("div",{key:E.id,class:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow"},[createBaseVNode("div",_hoisted_3$4,[createBaseVNode("div",null,[createBaseVNode("h3",_hoisted_4$4,toDisplayString(E.name),1),createBaseVNode("p",_hoisted_5$4,toDisplayString(E.count)+" products",1)]),createBaseVNode("div",_hoisted_6$4,[createBaseVNode("button",{onClick:D=>C.editCategory(E),class:"p-2 text-emerald-600 hover:bg-emerald-50 rounded-lg"},[...y[9]||(y[9]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,_hoisted_7$4),createBaseVNode("button",{onClick:D=>C.deleteCategory(E.id),class:"p-2 text-red-600 hover:bg-red-50 rounded-lg"},[...y[10]||(y[10]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,_hoisted_8$4)])]),createBaseVNode("p",_hoisted_9$4,toDisplayString(E.description),1),E.image?(openBlock(),createElementBlock("div",_hoisted_10$3,[createBaseVNode("img",{src:E.image,alt:E.name,class:"w-full h-32 object-cover rounded"},null,8,_hoisted_11$3)])):createCommentVNode("",!0)]))),128))]),V.showAddModal?(openBlock(),createElementBlock("div",_hoisted_12$2,[createBaseVNode("div",_hoisted_13$2,[createBaseVNode("div",_hoisted_14$2,[createBaseVNode("div",_hoisted_15$2,[createBaseVNode("h3",_hoisted_16$2,toDisplayString(V.editingCategory?"Edit Category":"Add New Category"),1),createBaseVNode("button",{onClick:y[1]||(y[1]=(...E)=>C.closeModal&&C.closeModal(...E)),class:"text-gray-400 hover:text-gray-600"},[...y[11]||(y[11]=[createBaseVNode("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),createBaseVNode("form",{onSubmit:y[6]||(y[6]=withModifiers((...E)=>C.saveCategory&&C.saveCategory(...E),["prevent"])),class:"space-y-4"},[createBaseVNode("div",null,[y[12]||(y[12]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Category Name",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":y[2]||(y[2]=E=>V.formData.name=E),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"},null,512),[[vModelText,V.formData.name]])]),createBaseVNode("div",null,[y[13]||(y[13]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":y[3]||(y[3]=E=>V.formData.description=E),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"},null,512),[[vModelText,V.formData.description]])]),createBaseVNode("div",null,[createVNode(P,{modelValue:V.formData.image,"onUpdate:modelValue":y[4]||(y[4]=E=>V.formData.image=E),label:"Category Image",placeholder:"https://images.unsplash.com/..."},null,8,["modelValue"])]),createBaseVNode("div",_hoisted_17$2,[createBaseVNode("button",{type:"button",onClick:y[5]||(y[5]=(...E)=>C.closeModal&&C.closeModal(...E)),class:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"}," Cancel "),createBaseVNode("button",_hoisted_18$2,toDisplayString(V.editingCategory?"Update":"Create")+" Category ",1)])],32)])])])):createCommentVNode("",!0)])}const AdminCategories=_export_sfc(_sfc_main$4,[["render",_sfc_render$4]]),_sfc_main$3={name:"DynamicFormField",components:{ImageUpload:__unplugin_components_0$1},props:{fieldKey:{type:String,required:!0},fieldValue:{type:[String,Number,Boolean,Object,Array],default:null},path:{type:String,required:!0}},data(){return{expandedKeys:{}}},mounted(){this.processSocialLinksIfNeeded()},watch:{fieldValue:{handler(x){this.isSocialLinksArray&&this.$nextTick(()=>{this.processSocialLinksIfNeeded()})},deep:!0}},computed:{isString(){return typeof this.fieldValue=="string"},isNumber(){return typeof this.fieldValue=="number"},isBoolean(){return typeof this.fieldValue=="boolean"},isArray(){return Array.isArray(this.fieldValue)},isObject(){return typeof this.fieldValue=="object"&&this.fieldValue!==null&&!Array.isArray(this.fieldValue)},isArrayOfObjects(){return this.isArray&&this.fieldValue.length>0&&typeof this.fieldValue[0]=="object"&&this.fieldValue[0]!==null},isArrayOfPrimitives(){return this.isArray&&(this.fieldValue.length===0||typeof this.fieldValue[0]!="object"||this.fieldValue[0]===null)},isImageArray(){if(!this.isArrayOfPrimitives)return!1;const x=this.fieldKey.toLowerCase(),B=["images","image","photos","photo","pictures","picture","gallery"].some(S=>x===S||x.includes(S));if(this.fieldValue&&this.fieldValue.length>0){const S=this.fieldValue.every(V=>{if(typeof V!="string")return!1;const C=V.toLowerCase(),E=[".jpg",".jpeg",".png",".gif",".bmp",".webp",".svg",".tiff",".ico",".avif"].some(z=>C.includes(z)),D=C.includes("unsplash.com")||C.includes("pexels.com")||C.includes("imgur.com")||C.includes("cloudinary.com")||C.includes("/image/")||C.includes("/img/")||C.includes("/photo/")||C.includes("/picture/")||C.startsWith("http")&&(C.includes("image")||C.includes("img"));return E||D||C.startsWith("data:image/")});return B||S&&this.fieldValue.length>0}return B},isSocialLinksArray(){if(!this.isArrayOfObjects)return!1;const x=this.fieldKey.toLowerCase(),y=x==="sociallinks"||x==="social_links"||x==="social-links"||x.includes("social")&&x.includes("link");if(this.fieldValue&&this.fieldValue.length>0){const B=this.fieldValue[0];if(B&&typeof B=="object"&&B.url)return!0}return y},isImageField(){const x=this.fieldKey.toLowerCase(),B=["image","img","photo","picture","banner","thumbnail","icon","logo","avatar","brandlogo","sitelogo","companylogo"].some(S=>x.includes(S));if(this.isString&&this.fieldValue){const S=String(this.fieldValue).toLowerCase(),C=[".jpg",".jpeg",".png",".gif",".bmp",".webp",".svg",".tiff",".ico",".avif"].some(E=>S.includes(E)),P=S.includes("unsplash.com")||S.includes("pexels.com")||S.includes("imgur.com")||S.includes("cloudinary.com")||S.includes("/image/")||S.includes("/img/")||S.includes("/photo/")||S.includes("/picture/");return B||C||P}return B},shouldShowLabel(){const x=this.path==="",y=x&&this.fieldKey==="Content",B=typeof this.fieldKey=="string"&&(this.fieldKey.toLowerCase().includes("image")||this.fieldKey.toLowerCase().includes("logo"));return(!this.isObject||x)&&!y&&!B}},methods:{formatKey(x){return x.replace(/([A-Z])/g," $1").replace(/^./,y=>y.toUpperCase()).trim()},toggleExpand(x){const y=this.expandedKeys[x]||!1;this.expandedKeys[x]=!y},getValueType(x){return Array.isArray(x)?`${x.length} items`:typeof x=="object"&&x!==null?`${Object.keys(x).length} properties`:typeof x},handleInput(x){this.$emit("update",this.path,x)},handleNestedUpdate(x,y){this.$emit("update",x,y)},updateArrayItem(x,y){const B=[...this.fieldValue];B[x]=y||"",this.$emit("update",this.path,B)},processSocialLinksIfNeeded(){if(this.isSocialLinksArray&&this.fieldValue&&Array.isArray(this.fieldValue)){const x=processSocialLinks(this.fieldValue);x.some((B,S)=>{const V=this.fieldValue[S],C=B.icon&&B.icon.trim()&&(!V||!V.icon||!V.icon.trim()),P=V&&V.icon!==B.icon;return C||P})&&this.$nextTick(()=>{this.$emit("update",this.path,x)})}},updateSocialLinkUrl(x,y){var P;const B=typeof y=="string"?y:((P=y==null?void 0:y.target)==null?void 0:P.value)||"",S=[...this.fieldValue],V=S[x]||{},C=updateSocialLink({...V,url:B||""});S[x]=C,this.$emit("update",this.path,S)},addSocialLinkItem(){const x=[...this.fieldValue];x.push({url:"",name:"",icon:""}),this.$emit("update",this.path,x)},removeArrayItem(x){const y=[...this.fieldValue];y.splice(x,1),this.$emit("update",this.path,y)},addArrayItem(){const x=[...this.fieldValue];if(this.isArrayOfObjects&&x.length>0){const y=JSON.parse(JSON.stringify(x[0]));Object.keys(y).forEach(B=>{typeof y[B]=="string"?y[B]="":typeof y[B]=="number"?y[B]=0:typeof y[B]=="boolean"&&(y[B]=!1)}),x.push(y)}else x.push("");this.$emit("update",this.path,x)},getPreviewWidth(){return this.fieldKey.toLowerCase().includes("logo")?"120px":"100%"},getPreviewHeight(){const x=this.fieldKey.toLowerCase();return x.includes("banner")||x.includes("hero")?"300px":x.includes("thumbnail")||x.includes("icon")||x.includes("logo")?"120px":"200px"}}},_hoisted_1$3={class:"space-y-3"},_hoisted_2$3={key:0,class:"flex items-center justify-between"},_hoisted_3$3={class:"block text-sm font-semibold text-gray-900 capitalize"},_hoisted_4$3={key:1,class:"space-y-1"},_hoisted_5$3=["value","placeholder"],_hoisted_6$3={key:2,class:"space-y-1"},_hoisted_7$3=["value","placeholder"],_hoisted_8$3={key:3,class:"flex items-center space-x-2"},_hoisted_9$3=["checked"],_hoisted_10$2={class:"text-sm text-gray-700"},_hoisted_11$2={key:4,class:"space-y-4"},_hoisted_12$1={key:0,class:"space-y-3"},_hoisted_13$1={class:"flex items-start gap-4"},_hoisted_14$1={key:0,class:"flex-shrink-0 w-16 h-16 flex flex-col items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl border-2 border-gray-200 shadow-sm"},_hoisted_15$1={class:"w-8 h-8 text-emerald-600",fill:"currentColor",viewBox:"0 0 24 24"},_hoisted_16$1=["d"],_hoisted_17$1={key:1,class:"flex-shrink-0 w-16 h-16 flex flex-col items-center justify-center bg-gray-100 rounded-xl border-2 border-dashed border-gray-300"},_hoisted_18$1={class:"flex-1 space-y-2"},_hoisted_19$1=["value","onInput","onPaste"],_hoisted_20$1=["onClick"],_hoisted_21$1={class:"p-4 space-y-3"},_hoisted_22$1={key:5,class:"space-y-4"},_hoisted_23$1={class:"flex flex-wrap gap-4"},_hoisted_24$1={class:"px-4 py-3 bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200"},_hoisted_25$1={class:"text-sm font-semibold text-gray-700"},_hoisted_26={class:"p-4"},_hoisted_27={class:"flex flex-wrap gap-4"},_hoisted_28={class:"flex items-center gap-3"},_hoisted_29={class:"flex-shrink-0 w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center"},_hoisted_30={class:"text-xs font-semibold text-gray-600"},_hoisted_31=["value","onInput"],_hoisted_32=["onClick"],_hoisted_33={key:6,class:"space-y-2"},_hoisted_34=["onClick"],_hoisted_35={class:"flex items-center gap-2"},_hoisted_36={class:"font-semibold text-gray-900 capitalize"},_hoisted_37={class:"text-xs text-gray-500"},_hoisted_38={key:0,class:"px-4 py-3 bg-white border-t border-gray-200"};function _sfc_render$3(x,y,B,S,V,C){const P=__unplugin_components_0$1,E=resolveComponent("DynamicFormField",!0);return openBlock(),createElementBlock("div",_hoisted_1$3,[C.shouldShowLabel?(openBlock(),createElementBlock("div",_hoisted_2$3,[createBaseVNode("label",_hoisted_3$3,toDisplayString(C.formatKey(B.fieldKey)),1)])):createCommentVNode("",!0),C.isString?(openBlock(),createElementBlock("div",_hoisted_4$3,[C.isImageField?(openBlock(),createBlock(P,{key:0,"model-value":B.fieldValue,"onUpdate:modelValue":C.handleInput,label:C.formatKey(B.fieldKey),placeholder:`Enter ${C.formatKey(B.fieldKey)} URL or upload image`,"preview-width":C.getPreviewWidth(),"preview-height":C.getPreviewHeight()},null,8,["model-value","onUpdate:modelValue","label","placeholder","preview-width","preview-height"])):(openBlock(),createElementBlock("input",{key:1,type:"text",value:B.fieldValue,onInput:y[0]||(y[0]=D=>C.handleInput(D.target.value)),placeholder:`Enter ${C.formatKey(B.fieldKey)}`,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-sm"},null,40,_hoisted_5$3))])):C.isNumber?(openBlock(),createElementBlock("div",_hoisted_6$3,[createBaseVNode("input",{type:"number",value:B.fieldValue,onInput:y[1]||(y[1]=D=>C.handleInput(parseFloat(D.target.value)||0)),placeholder:`Enter ${C.formatKey(B.fieldKey)}`,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-sm"},null,40,_hoisted_7$3)])):C.isBoolean?(openBlock(),createElementBlock("div",_hoisted_8$3,[createBaseVNode("input",{type:"checkbox",checked:B.fieldValue,onChange:y[2]||(y[2]=D=>C.handleInput(D.target.checked)),class:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"},null,40,_hoisted_9$3),createBaseVNode("span",_hoisted_10$2,toDisplayString(B.fieldValue?"Yes":"No"),1)])):C.isArrayOfObjects?(openBlock(),createElementBlock("div",_hoisted_11$2,[C.isSocialLinksArray?(openBlock(),createElementBlock("div",_hoisted_12$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(B.fieldValue,(D,z)=>(openBlock(),createElementBlock("div",{key:`${B.path}-${z}-social`,class:"bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow duration-200 overflow-hidden p-4"},[createBaseVNode("div",_hoisted_13$1,[D.icon?(openBlock(),createElementBlock("div",_hoisted_14$1,[(openBlock(),createElementBlock("svg",_hoisted_15$1,[createBaseVNode("path",{d:D.icon},null,8,_hoisted_16$1)]))])):(openBlock(),createElementBlock("div",_hoisted_17$1,[...y[7]||(y[7]=[createBaseVNode("svg",{class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})],-1),createBaseVNode("span",{class:"text-xs text-gray-500 mt-1"},"No icon",-1)])])),createBaseVNode("div",_hoisted_18$1,[createBaseVNode("div",null,[y[8]||(y[8]=createBaseVNode("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Social Media URL",-1)),createBaseVNode("input",{type:"url",value:D.url||"",onInput:T=>C.updateSocialLinkUrl(z,T.target.value),onPaste:T=>C.updateSocialLinkUrl(z,T.target.value),placeholder:"https://facebook.com/username or https://instagram.com/username",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-sm"},null,40,_hoisted_19$1)])]),createBaseVNode("button",{onClick:T=>C.removeArrayItem(z),type:"button",class:"flex-shrink-0 px-3 py-2 text-red-600 hover:text-red-700 rounded-lg hover:bg-red-50 transition-colors"},[...y[9]||(y[9]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,_hoisted_20$1)])]))),128)),createBaseVNode("button",{onClick:y[3]||(y[3]=(...D)=>C.addSocialLinkItem&&C.addSocialLinkItem(...D)),type:"button",class:"w-full px-4 py-3 text-sm font-medium text-emerald-600 bg-emerald-50 border-2 border-dashed border-emerald-300 rounded-xl hover:bg-emerald-100 hover:border-emerald-400 transition-all duration-200 flex items-center justify-center gap-2"},[...y[10]||(y[10]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),createTextVNode(" Add Social Link ",-1)])])])):(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("div",{class:normalizeClass(["grid gap-4",B.path?"grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(B.fieldValue,(D,z)=>(openBlock(),createElementBlock("div",{key:`${B.path}-${z}-${JSON.stringify(D).substring(0,50)}`,class:"bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow duration-200 overflow-hidden"},[createBaseVNode("div",_hoisted_21$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(D,(T,j)=>(openBlock(),createBlock(E,{key:`${B.path}-${z}-${j}`,"field-key":j,"field-value":T,path:B.path?`${B.path}.${z}.${j}`:`${z}.${j}`,onUpdate:C.handleNestedUpdate},null,8,["field-key","field-value","path","onUpdate"]))),128))])]))),128))],2),B.path===""?(openBlock(),createElementBlock("button",{key:0,onClick:y[4]||(y[4]=(...D)=>C.addArrayItem&&C.addArrayItem(...D)),type:"button",class:"w-full px-4 py-3 text-sm font-medium text-emerald-600 bg-emerald-50 border-2 border-dashed border-emerald-300 rounded-xl hover:bg-emerald-100 hover:border-emerald-400 transition-all duration-200 flex items-center justify-center gap-2"},[...y[11]||(y[11]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),createTextVNode(" Add Item ",-1)])])):createCommentVNode("",!0)],64))])):C.isArrayOfPrimitives?(openBlock(),createElementBlock("div",_hoisted_22$1,[C.isImageArray?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("div",_hoisted_23$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(B.fieldValue,(D,z)=>(openBlock(),createElementBlock("div",{key:z,class:"bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow duration-200 overflow-hidden"},[createBaseVNode("div",_hoisted_24$1,[createBaseVNode("span",_hoisted_25$1,"Image "+toDisplayString(z+1),1)]),createBaseVNode("div",_hoisted_26,[createVNode(P,{"model-value":D,"onUpdate:modelValue":T=>C.updateArrayItem(z,T),label:`Image ${z+1}`,placeholder:`Enter image URL or upload image ${z+1}`,"preview-width":"100%","preview-height":"200px"},null,8,["model-value","onUpdate:modelValue","label","placeholder"])])]))),128))]),B.path===""?(openBlock(),createElementBlock("button",{key:0,onClick:y[5]||(y[5]=(...D)=>C.addArrayItem&&C.addArrayItem(...D)),type:"button",class:"w-full px-4 py-3 text-sm font-medium text-emerald-600 bg-emerald-50 border-2 border-dashed border-emerald-300 rounded-xl hover:bg-emerald-100 hover:border-emerald-400 transition-all duration-200 flex items-center justify-center gap-2"},[...y[12]||(y[12]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),createTextVNode(" Add Image ",-1)])])):createCommentVNode("",!0)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("div",_hoisted_27,[(openBlock(!0),createElementBlock(Fragment,null,renderList(B.fieldValue,(D,z)=>(openBlock(),createElementBlock("div",{key:z,class:"bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow duration-200 p-2 w-full"},[createBaseVNode("div",_hoisted_28,[createBaseVNode("div",_hoisted_29,[createBaseVNode("span",_hoisted_30,toDisplayString(z+1),1)]),createBaseVNode("input",{type:"text",value:D,onInput:T=>C.updateArrayItem(z,T.target.value),class:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-sm"},null,40,_hoisted_31),createBaseVNode("button",{onClick:T=>C.removeArrayItem(z),type:"button",class:"px-3 py-2 text-red-600 hover:text-red-700 rounded-lg hover:bg-red-50 transition-colors"},[...y[13]||(y[13]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,_hoisted_32)])]))),128))]),createBaseVNode("button",{onClick:y[6]||(y[6]=(...D)=>C.addArrayItem&&C.addArrayItem(...D)),type:"button",class:"w-full px-4 py-3 text-sm font-medium text-emerald-600 bg-emerald-50 border-2 border-dashed border-emerald-300 rounded-xl hover:bg-emerald-100 hover:border-emerald-400 transition-all duration-200 flex items-center justify-center gap-2"},[...y[14]||(y[14]=[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),createTextVNode(" Add Item ",-1)])])],64))])):C.isObject?(openBlock(),createElementBlock("div",_hoisted_33,[B.path===""?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(B.fieldValue,(D,z)=>(openBlock(),createElementBlock("div",{key:`${B.path}-${z}`,class:"rounded-lg overflow-hidden"},[createBaseVNode("button",{onClick:withModifiers(T=>C.toggleExpand(z),["stop"]),type:"button",class:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors text-left"},[createBaseVNode("div",_hoisted_35,[(openBlock(),createElementBlock("svg",{class:normalizeClass(["w-4 h-4 text-gray-500 transition-transform duration-200",V.expandedKeys[z]?"rotate-90":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...y[15]||(y[15]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)])],2)),createBaseVNode("span",_hoisted_36,toDisplayString(C.formatKey(z)),1),createBaseVNode("span",_hoisted_37,"("+toDisplayString(C.getValueType(D))+")",1)])],8,_hoisted_34),V.expandedKeys[z]?(openBlock(),createElementBlock("div",_hoisted_38,[createVNode(E,{"field-key":z,"field-value":D,path:z,onUpdate:C.handleNestedUpdate},null,8,["field-key","field-value","path","onUpdate"])])):createCommentVNode("",!0)]))),128)):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(B.fieldValue,(D,z)=>(openBlock(),createElementBlock("div",{key:`${B.path}-${z}`,class:"space-y-2"},[createVNode(E,{"field-key":z,"field-value":D,path:B.path?`${B.path}.${z}`:z,onUpdate:C.handleNestedUpdate},null,8,["field-key","field-value","path","onUpdate"])]))),128))])):createCommentVNode("",!0)])}const __unplugin_components_0=_export_sfc(_sfc_main$3,[["render",_sfc_render$3],["__scopeId","data-v-d7fd4a56"]]),_sfc_main$2={name:"AdminContent",setup(){const x=useItemStore(),y=useDashboardStore(),B=useToast(),{handleImageError:S}=useImageError(),{setupPagesDatabase:V}=useDatabaseSetup();return{itemStore:x,dashboardStore:y,toast:B,handleImageError:S,setupPagesDatabase:V}},computed:{databaseInfo(){return this.itemStore.databaseInfo},databaseId(){return this.databaseInfo&&this.databaseInfo.id?this.databaseInfo.id:this.dashboardStore.pagesDatabaseId||this.itemStore.databaseId||null},availablePages(){const y=(this.pagesList.length>0?this.pagesList:this.itemStore.items||[]).map(S=>{const V=S["Page Name"]||S.Page||S.Slug||"Untitled",C=this.getPageKeyFromName(V);return{id:S.id,name:V,key:C}}).filter(S=>{const V=S.key.toLowerCase(),C=(S.name||"").toLowerCase().trim(),P=V==="settings"||V==="setting"||C.includes("settings")||C.includes("setting")||C.includes("settigns")||C==="settigns";return S.name&&S.name!=="Untitled"&&!P}),B=["home","about","contact","privacy","terms"];return y.sort((S,V)=>{const C=S.key.toLowerCase(),P=V.key.toLowerCase(),E=B.indexOf(C),D=B.indexOf(P);return E!==-1&&D!==-1?E-D:E!==-1?-1:D!==-1?1:C.localeCompare(P)})},currentPageContent(){return this.currentPageDetails?this.currentPageDetails:this.content[this.selectedPage]},parsedContent(){const x=this.currentPageContent;return!x||typeof x!="object"?(this.parsedContentCache=null,null):(this.parsedContentCache||(this.parsedContentCache={key:null,value:null}),parsePageContent(x,this.parsedContentCache,{useEval:!0}))}},data(){return{selectedPage:"home",loading:!1,saving:!1,currentPageId:null,currentPageDetails:null,heroImageUrl:"",heroTitle:"",heroSubtitle:"",isLoadingContent:!1,pagesList:[],parsedContentCache:null,pendingRequests:new Map,pageContentCache:{},pageKeyToIdMap:{},content:{home:{},about:{},contact:{},privacy:{},terms:{}}}},async mounted(){this.loading=!0;try{await this.setupPagesDatabase();const[x,y]=await Promise.allSettled([(async()=>{this.itemStore.schema||await this.itemStore.ensureSchemaLoaded()})(),this.loadPagesList()]);x.status==="rejected"&&console.warn("Could not load pages database schema:",x.reason),y.status==="rejected"&&console.error("Error loading pages list:",y.reason),this.availablePages.length>0&&(this.availablePages.find(S=>S.key===this.selectedPage)||(this.selectedPage=this.availablePages[0].key),await this.loadAllPageContent(),this.setCurrentPageFromCache())}catch(x){console.error("Error in mounted:",x)}finally{this.loading=!1}},watch:{selectedPage(x,y){x!==y&&x&&this.setCurrentPageFromCache()},currentPageContent:{handler(x,y){x&&x!==y&&(this.heroImageUrl=this.getHeroImageUrl(),this.heroTitle=this.getHeroField("Hero Title")||"",this.heroSubtitle=this.getHeroField("Hero Subtitle")||"",this.parsedContentCache=null)},immediate:!0}},methods:{ensureArray(x,y){return x[y]||(x[y]=[]),x[y]},deepMerge(x,y){const B={...x};return this.isObject(x)&&this.isObject(y)&&Object.keys(y).forEach(S=>{this.isObject(y[S])?S in x?B[S]=this.deepMerge(x[S],y[S]):Object.assign(B,{[S]:y[S]}):Array.isArray(y[S])?B[S]=[...y[S]]:Object.assign(B,{[S]:y[S]})}),B},isObject(x){return x&&typeof x=="object"&&!Array.isArray(x)},ensureContentStructure(x){[{path:"introduction",prop:"content",type:"array"},{path:"dataSharing",prop:"content",type:"array"},{path:"security",prop:"content",type:"array"},{path:"cookies",prop:"content",type:"array"},{path:"changes",prop:"content",type:"array"},{path:"contact",prop:"content",type:"array"},{path:"acceptance",prop:"content",type:"array"},{path:"userAccounts",prop:"content",type:"array"},{path:"productsAndServices",prop:"content",type:"array"},{path:"paymentTerms",prop:"content",type:"array"},{path:"intellectualProperty",prop:"content",type:"array"},{path:"limitationOfLiability",prop:"content",type:"array"},{path:"indemnification",prop:"content",type:"array"},{path:"termination",prop:"content",type:"array"},{path:"governingLaw",prop:"content",type:"array"},{path:"useOfService",prop:"restrictions",type:"array"}].forEach(({path:B,prop:S,type:V})=>{x[B]||(x[B]={}),x[B][S]||(x[B][S]=V==="array"?[]:{})})},getPageKeyFromName(x){const y=x.toLowerCase();return y.includes("home")?"home":y.includes("about")?"about":y.includes("contact")?"contact":y.includes("privacy")?"privacy":y.includes("terms")?"terms":y.split(" ")[0]||"home"},getCurrentPageName(){const x=this.availablePages.find(y=>y.key===this.selectedPage);return x?x.name:this.selectedPage},getContentField(){return!this.currentPageContent||typeof this.currentPageContent!="object"?null:this.currentPageContent.Content||this.currentPageContent.content||null},hasHeroFields(){return!this.currentPageContent||typeof this.currentPageContent!="object"?!1:["Hero Image","Hero Title","Hero Subtitle"].some(y=>this.currentPageContent[y])},getHeroField(x){return!this.currentPageContent||typeof this.currentPageContent!="object"?null:this.currentPageContent[x]||null},getHeroImageUrl(){const x=this.getHeroField("Hero Image")||this.getHeroField("heroImage")||this.getHeroField("backgroundImage")||this.getHeroField("image");if(!x)return"";if(Array.isArray(x)&&x.length>0){const y=x[0];return y.url||y||""}return typeof x=="object"&&x.url?x.url:String(x)},setHeroField(x,y){this.currentPageDetails&&(this.currentPageDetails[x]=y),this.content[this.selectedPage]||(this.content[this.selectedPage]={}),this.content[this.selectedPage][x]=y},updateHeroImage(x){const y=x||"";this.heroImageUrl=y,this.setHeroField("Hero Image",y)},updateHeroTitle(){this.setHeroField("Hero Title",this.heroTitle)},updateHeroSubtitle(){this.setHeroField("Hero Subtitle",this.heroSubtitle)},updateContentField(x,y){this.parsedContentCache=null;const B=this.parsedContent;if(!B){console.warn("[AdminContent] Cannot update content field: parsedContent is null");return}console.debug(`[AdminContent] updateContentField called with path: "${x}", value type: ${typeof y}, value:`,typeof y=="string"&&y.length>100?y.substring(0,100)+"...":y);const S=(P,E,D)=>{const z=Array.isArray(P)?[...P]:{...P};if(E.length===1){const Z=E[0];if(/^\d+$/.test(Z)){const U=parseInt(Z,10),M=[...z];for(;M.length<=U;)M.push(null);return M[U]=D===""?"":D,M}else return z[Z]=D===""?"":D,z}const[T,...j]=E;if(/^\d+$/.test(T)){const Z=parseInt(T,10),U=[...z];for(;U.length<=Z;)U.push({});return U[Z]=S(U[Z]||{},j,D),U}else return z[T]=S(z[T]||{},j,D),z};let V;if(!x||x==="")V=y&&typeof y=="object"&&!Array.isArray(y)?{...B,...y}:B;else{const P=x.split(".").filter(E=>E!=="");V=S(B,P,y)}const C=JSON.stringify(V);try{const P=JSON.parse(C),E=x?x.split(".").filter(z=>z!==""):[];let D=P;for(const z of E)if(/^\d+$/.test(z)?D=D[parseInt(z,10)]:D=D[z],D===void 0)break;console.debug(`[AdminContent] Content updated. Path "${x}" now has value:`,typeof D=="string"&&D.length>100?D.substring(0,100)+"...":D)}catch(P){console.error("[AdminContent] Error verifying content update:",P)}this.currentPageDetails?(this.currentPageDetails={...this.currentPageDetails,Content:C},console.debug('[AdminContent] Updated currentPageDetails["Content"] with new content')):console.warn("[AdminContent] currentPageDetails is null, cannot update Content field"),this.content[this.selectedPage]||(this.content[this.selectedPage]={}),this.content[this.selectedPage]={...this.content[this.selectedPage],Content:C}},getTimeField(x){return!this.currentPageContent||typeof this.currentPageContent!="object"?null:this.currentPageContent[x]||null},formatDateTime(x){if(!x)return"";try{const y=new Date(x);if(isNaN(y.getTime()))return x;const B={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0};return y.toLocaleString("en-US",B)}catch{return x}},formatKey(x){return x.replace(/([A-Z])/g," $1").replace(/^./,y=>y.toUpperCase()).trim()},isComplexValue(x){return typeof x=="object"&&x!==null},formatContent(x){return x==null?"null":Array.isArray(x)?x.length===0?"[]":x.some(y=>typeof y=="object"&&y!==null)?JSON.stringify(x,null,2):x.join(", "):typeof x=="object"?JSON.stringify(x,null,2):String(x)},formatValue(x){return x==null?"":Array.isArray(x)?x.length===0?"[]":x.join(", "):typeof x=="object"?JSON.stringify(x):String(x)},isParsedContentObject(){const x=this.parsedContent;return x?typeof x=="function"?(console.error("isParsedContentObject: parsedContent is a function!",x),!1):typeof x=="object"&&!Array.isArray(x)&&x!==null:!1},getParsedContentType(){const x=this.parsedContent;if(!x)return"null";const y=typeof x;return y==="function"?(console.error("parsedContent is a function! This should not happen. Value:",x),"function (ERROR)"):y},hasValidContent(){const x=this.parsedContent;if(!x)return!1;if(typeof x=="function")return console.error("hasValidContent: parsedContent is a function! This should not happen.",x),!1;if(!this.isParsedContentObject())return!1;try{return Object.keys(x).length>0}catch(y){return console.error("Error checking parsedContent keys:",y,x),!1}},async fetchPageDetails(x){if(!x){this.currentPageDetails=null;return}if(this.pendingRequests.has(x))return this.pendingRequests.get(x);const y=(async()=>{try{const B=await this.itemStore.fetchItem(x);B?(this.currentPageDetails=B,this.parsedContentCache=null):this.currentPageDetails=null}catch(B){console.error("Error fetching page details:",B),this.currentPageDetails=null}finally{this.pendingRequests.delete(x)}})();return this.pendingRequests.set(x,y),y},async selectPage(x){this.loading||this.selectedPage===x||(this.selectedPage=x)},async loadPagesList(){if(!this.dashboardStore.pagesDatabaseId){console.warn("Pages database ID not available");return}try{await this.itemStore.fetchAllItems(),this.pagesList=this.itemStore.items||[]}catch(x){console.error("Error loading pages list:",x),this.pagesList=[]}},async loadAllPageContent(){if(!(!this.dashboardStore.pagesDatabaseId||this.isLoadingContent)){this.isLoadingContent=!0;try{let x=this.pagesList;x.length===0&&(await this.loadPagesList(),x=this.pagesList),this.pageKeyToIdMap={},x.forEach(S=>{const V=S["Page Name"]||S.Page||S.Slug||"",C=this.getPageKeyFromName(V);C&&S.id&&(this.pageKeyToIdMap[C]=S.id)});const y=5,B=x.filter(S=>{const V=S["Page Name"]||S.Page||S.Slug||"";return this.getPageKeyFromName(V)&&S.id});for(let S=0;S<B.length;S+=y){const C=B.slice(S,S+y).map(async P=>{const E=P["Page Name"]||P.Page||P.Slug||"",D=this.getPageKeyFromName(E);try{const z=await this.itemStore.fetchItem(P.id);z&&(this.pageContentCache[P.id]={details:z,pageKey:D})}catch(z){console.error(`Error fetching details for page ${D} (${P.id}):`,z)}});await Promise.allSettled(C)}}catch(x){console.error("Error loading all page content:",x)}finally{this.isLoadingContent=!1}}},setCurrentPageFromCache(){const x=this.pageKeyToIdMap[this.selectedPage];x&&this.pageContentCache[x]?(this.currentPageId=x,this.currentPageDetails=this.pageContentCache[x].details,this.parsedContentCache=null,this.updateHeroFieldsFromContent()):(this.currentPageId=null,this.currentPageDetails=null,this.parsedContentCache=null,this.heroImageUrl="",this.heroTitle="",this.heroSubtitle="")},updateHeroFieldsFromContent(){this.currentPageDetails&&(this.heroImageUrl=this.getHeroImageUrl(),this.heroTitle=this.getHeroField("Hero Title")||"",this.heroSubtitle=this.getHeroField("Hero Subtitle")||"")},async saveContent(){var y,B,S,V,C;const x=this.databaseId;if(!x){this.toast.add({severity:"error",summary:"Error",detail:"Pages database not configured. Please ensure the dashboard is initialized.",life:5e3});return}try{await this.setupPagesDatabase(x)}catch{this.toast.add({severity:"error",summary:"Error",detail:"Error loading database schema. Please try again.",life:5e3});return}this.saving=!0;try{const P={home:"Home",about:"About",contact:"Contact",privacy:"Privacy Policy",terms:"Terms of Service"};let E=null;if(this.currentPageDetails&&this.currentPageDetails.Content?(E=this.currentPageDetails.Content,console.debug("[AdminContent] Using content from currentPageDetails")):this.currentPageContent&&this.currentPageContent.Content&&(E=this.currentPageContent.Content,console.debug("[AdminContent] Using content from currentPageContent")),E&&typeof E=="object"&&(E=JSON.stringify(E),console.debug("[AdminContent] Stringified object content")),!E||typeof E!="string"){this.parsedContentCache=null;const M=this.parsedContent;M?(E=JSON.stringify(M),console.debug("[AdminContent] Using content from parsedContent (cache cleared)")):(E=JSON.stringify({}),console.warn("[AdminContent] No content found, using empty object"))}try{JSON.parse(E)}catch{console.error("[AdminContent] Content is not valid JSON:",E==null?void 0:E.substring(0,100)),this.parsedContentCache=null;const W=this.parsedContent||{};E=JSON.stringify(W)}const D={"Page Name":P[this.selectedPage]||this.selectedPage.charAt(0).toUpperCase()+this.selectedPage.slice(1),Content:E,"Last Updated":new Date().toISOString().split("T")[0]},z=(y=this.currentPageDetails)==null?void 0:y["Hero Image"],T=(B=this.currentPageDetails)==null?void 0:B["Hero Title"],j=(S=this.currentPageDetails)==null?void 0:S["Hero Subtitle"],R=this.heroImageUrl?this.heroImageUrl.trim():"",Z=(C=(V=this.itemStore.schema)==null?void 0:V.properties)==null?void 0:C["Hero Image"],U=(Z==null?void 0:Z.type)||"rich_text";if(R)if(R.startsWith("data:image/"))if(console.warn("Base64 data URL detected. Files should be uploaded to storage first to avoid payload size issues."),U==="files"){const M=R.match(/data:image\/([^;]+)/),W=M?M[1]:"png";D["Hero Image"]=[{name:`hero-image.${W}`,url:R,type:"external"}]}else D["Hero Image"]=R;else if(U==="files"){const W=(R.split("/").pop()||"hero-image.jpg").split("?")[0];D["Hero Image"]=[{name:W,url:R,type:"external"}]}else D["Hero Image"]=R;else U==="files"?D["Hero Image"]=[]:D["Hero Image"]="";if(this.heroTitle!==void 0&&this.heroTitle!==null&&this.heroTitle.trim()!==""?D["Hero Title"]=this.heroTitle:T!=null&&(D["Hero Title"]=T),this.heroSubtitle!==void 0&&this.heroSubtitle!==null&&this.heroSubtitle.trim()!==""?D["Hero Subtitle"]=this.heroSubtitle:j!=null&&(D["Hero Subtitle"]=j),this.currentPageId)await this.itemStore.updateItem(this.currentPageId,D),this.toast.add({severity:"success",summary:"Success",detail:"Content updated successfully!",life:3e3});else{const M=await this.itemStore.createItem(D);this.currentPageId=M.id,this.toast.add({severity:"success",summary:"Success",detail:"Content saved successfully!",life:3e3})}if(this.parsedContentCache=null,await this.loadPagesList(),this.currentPageId){const M=await this.itemStore.fetchItem(this.currentPageId);M&&(this.pageContentCache[this.currentPageId]={details:M,pageKey:this.selectedPage},this.currentPageDetails=M,await this.$nextTick(),this.updateHeroFieldsFromContent())}else if(this.currentPageId){this.pageKeyToIdMap[this.selectedPage]=this.currentPageId;const M=await this.itemStore.fetchItem(this.currentPageId);M&&(this.pageContentCache[this.currentPageId]={details:M,pageKey:this.selectedPage},this.currentPageDetails=M,this.updateHeroFieldsFromContent())}}catch(P){console.error("Error saving content:",P),P.message&&P.message.includes("2000")?this.toast.add({severity:"error",summary:"Error",detail:"Content is too long. Please reduce the amount of content or contact support.",life:5e3}):this.toast.add({severity:"error",summary:"Error",detail:`Error saving content: ${P.message||"Unknown error occurred"}`,life:5e3})}finally{this.saving=!1}}}},_hoisted_1$2={class:"admin-content-wrapper"},_hoisted_2$2={key:0,class:"mb-6"},_hoisted_3$2={class:"border-b border-gray-200"},_hoisted_4$2={class:"-mb-px flex space-x-8 overflow-x-auto","aria-label":"Tabs"},_hoisted_5$2={key:1,class:"mb-6"},_hoisted_6$2={class:"border-b border-gray-200"},_hoisted_7$2={class:"-mb-px flex space-x-8 overflow-x-auto","aria-label":"Tabs"},_hoisted_8$2=["onClick"],_hoisted_9$2={key:2,class:""},_hoisted_10$1={class:"animate-pulse space-y-4"},_hoisted_11$1={class:"space-y-3"},_hoisted_12={key:3,class:"mb-6 bg-gray-50 rounded-lg"},_hoisted_13={class:"space-y-4"},_hoisted_14={class:"bg-white p-4 rounded border border-gray-200"},_hoisted_15={class:"bg-white p-4 rounded border border-gray-200"},_hoisted_16={class:"bg-white p-4 rounded border border-gray-200"},_hoisted_17={class:"mt-4 border-t"},_hoisted_18={key:0,class:"text-sm text-gray-500 italic"},_hoisted_19={key:0,class:"mt-2 text-xs"},_hoisted_20={key:1,class:""},_hoisted_21={class:""},_hoisted_22={class:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-50 px-4 sm:px-6 lg:px-8 py-4"},_hoisted_23={class:"max-w-7xl mx-auto flex justify-end gap-3"},_hoisted_24=["disabled"],_hoisted_25={key:0,class:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"};function _sfc_render$2(x,y,B,S,V,C){const P=__unplugin_components_0$1,E=__unplugin_components_0;return openBlock(),createElementBlock("div",_hoisted_1$2,[y[13]||(y[13]=createBaseVNode("div",{class:"mb-6"},[createBaseVNode("h2",{class:"text-3xl font-bold text-gray-900"},"Manage Page Content"),createBaseVNode("p",{class:"text-gray-600 mt-2"},"Edit content for different pages on your website")],-1)),V.loading?(openBlock(),createElementBlock("div",_hoisted_2$2,[createBaseVNode("div",_hoisted_3$2,[createBaseVNode("nav",_hoisted_4$2,[(openBlock(),createElementBlock(Fragment,null,renderList(5,D=>createBaseVNode("div",{key:D,class:"animate-pulse"},[...y[5]||(y[5]=[createBaseVNode("div",{class:"h-10 w-24 bg-gray-200 rounded"},null,-1)])])),64))])])])):C.availablePages.length>0?(openBlock(),createElementBlock("div",_hoisted_5$2,[createBaseVNode("div",_hoisted_6$2,[createBaseVNode("nav",_hoisted_7$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.availablePages,D=>(openBlock(),createElementBlock("button",{key:D.id,onClick:z=>C.selectPage(D.key),class:normalizeClass([V.selectedPage===D.key?"border-emerald-500 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200"])},toDisplayString(D.name),11,_hoisted_8$2))),128))])])])):createCommentVNode("",!0),V.loading?(openBlock(),createElementBlock("div",_hoisted_9$2,[createBaseVNode("div",_hoisted_10$1,[y[8]||(y[8]=createStaticVNode('<div class="space-y-3" data-v-b73f5ac8><div class="bg-white p-4 rounded border border-gray-200" data-v-b73f5ac8><div class="h-4 w-24 bg-gray-200 rounded mb-2" data-v-b73f5ac8></div><div class="h-48 w-full bg-gray-200 rounded" data-v-b73f5ac8></div></div><div class="bg-white p-4 rounded border border-gray-200" data-v-b73f5ac8><div class="h-4 w-16 bg-gray-200 rounded mb-2" data-v-b73f5ac8></div><div class="h-6 w-3/4 bg-gray-200 rounded" data-v-b73f5ac8></div></div><div class="bg-white p-4 rounded border border-gray-200" data-v-b73f5ac8><div class="h-4 w-20 bg-gray-200 rounded mb-2" data-v-b73f5ac8></div><div class="h-4 w-full bg-gray-200 rounded" data-v-b73f5ac8></div><div class="h-4 w-5/6 bg-gray-200 rounded mt-2" data-v-b73f5ac8></div></div></div><div class="border-t border-gray-200 pt-4" data-v-b73f5ac8></div>',2)),createBaseVNode("div",_hoisted_11$1,[y[7]||(y[7]=createBaseVNode("div",{class:"h-4 w-32 bg-gray-200 rounded"},null,-1)),(openBlock(),createElementBlock(Fragment,null,renderList(4,D=>createBaseVNode("div",{key:D,class:"bg-white p-3 rounded border border-gray-200 space-y-2"},[...y[6]||(y[6]=[createBaseVNode("div",{class:"h-4 w-40 bg-gray-200 rounded"},null,-1),createBaseVNode("div",{class:"h-3 w-full bg-gray-200 rounded"},null,-1),createBaseVNode("div",{class:"h-3 w-3/4 bg-gray-200 rounded"},null,-1)])])),64))])])])):C.availablePages.length>0?(openBlock(),createElementBlock("div",_hoisted_12,[createBaseVNode("div",_hoisted_13,[createBaseVNode("div",_hoisted_14,[y[9]||(y[9]=createBaseVNode("label",{class:"block font-medium text-gray-900 mb-2"},"Hero Title",-1)),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":y[0]||(y[0]=D=>V.heroTitle=D),onInput:y[1]||(y[1]=(...D)=>C.updateHeroTitle&&C.updateHeroTitle(...D)),placeholder:"Enter hero title",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-lg font-semibold"},null,544),[[vModelText,V.heroTitle]])]),createBaseVNode("div",_hoisted_15,[y[10]||(y[10]=createBaseVNode("label",{class:"block font-medium text-gray-900 mb-2"},"Hero Subtitle",-1)),withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":y[2]||(y[2]=D=>V.heroSubtitle=D),onInput:y[3]||(y[3]=(...D)=>C.updateHeroSubtitle&&C.updateHeroSubtitle(...D)),rows:"3",placeholder:"Enter hero subtitle/description",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-sm resize-y"},null,544),[[vModelText,V.heroSubtitle]])]),createBaseVNode("div",_hoisted_16,[createVNode(P,{modelValue:V.heroImageUrl,"onUpdate:modelValue":C.updateHeroImage,label:"Hero Image",placeholder:"Enter image URL or upload image",previewWidth:"100%",previewHeight:"256px"},null,8,["modelValue","onUpdate:modelValue"])])]),createBaseVNode("div",_hoisted_17,[C.hasValidContent()?(openBlock(),createElementBlock("div",_hoisted_20,[createBaseVNode("div",_hoisted_21,[(openBlock(),createBlock(E,{key:`content-${V.selectedPage}`,"field-key":"Content","field-value":C.parsedContent,path:"",onUpdate:C.updateContentField},null,8,["field-value","onUpdate"]))])])):(openBlock(),createElementBlock("div",_hoisted_18,[y[11]||(y[11]=createTextVNode(" No content available for this page. ",-1)),C.parsedContent?(openBlock(),createElementBlock("div",_hoisted_19," Debug: parsedContent exists but is not a valid object. Type: "+toDisplayString(C.getParsedContentType()),1)):createCommentVNode("",!0)]))])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_22,[createBaseVNode("div",_hoisted_23,[createBaseVNode("button",{onClick:y[4]||(y[4]=(...D)=>C.saveContent&&C.saveContent(...D)),disabled:V.saving||V.loading,class:"px-6 py-3 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 font-medium shadow-md"},[V.saving?(openBlock(),createElementBlock("svg",_hoisted_25,[...y[12]||(y[12]=[createBaseVNode("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),createBaseVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(V.saving?"Saving...":"Save Changes"),1)],8,_hoisted_24)])]),y[14]||(y[14]=createBaseVNode("div",{class:"h-20"},null,-1))])}const AdminContent=_export_sfc(_sfc_main$2,[["render",_sfc_render$2],["__scopeId","data-v-b73f5ac8"]]),_sfc_main$1={name:"AdminSettings",setup(){const x=useItemStore(),y=useDashboardStore(),B=useToast();return{itemStore:x,dashboardStore:y,toast:B}},computed:{databaseInfo(){return this.itemStore.databaseInfo},databaseId(){return this.databaseInfo&&this.databaseInfo.id?this.databaseInfo.id:this.dashboardStore.pagesDatabaseId||this.itemStore.databaseId||null},currentPageContent(){return this.currentPageDetails?this.currentPageDetails:this.content.settings},parsedContent(){const x=this.currentPageContent;return!x||typeof x!="object"?(this.parsedContentCache=null,null):(this.parsedContentCache||(this.parsedContentCache={key:null,value:null}),parsePageContent(x,this.parsedContentCache,{useEval:!0}))}},data(){return{loading:!1,saving:!1,currentPageId:null,currentPageDetails:null,heroImageUrl:"",heroTitle:"",heroSubtitle:"",parsedContentCache:null,content:{settings:{}},pageKeyToIdMap:{}}},async mounted(){await this.loadSettingsPage()},methods:{getPageKeyFromName(x){const y=x.toLowerCase().trim();return y.includes("settings")||y.includes("setting")||y.includes("settigns")||y==="settigns"?"settings":y.split(" ")[0]||"settings"},async loadSettingsPage(){var x;this.loading=!0;try{this.dashboardStore.pagesDatabaseId||await this.dashboardStore.initializeDashboard(!1,{skipAggregations:!0,skipRecentActivity:!0});let y=null;if(this.dashboardStore.pagesDatabaseId){const V=(x=this.dashboardStore.databaseInfo)==null?void 0:x.find(C=>C.id===this.dashboardStore.pagesDatabaseId);y=(V==null?void 0:V.id)||this.dashboardStore.pagesDatabaseId}if(y)this.itemStore.setDatabaseId(y);else{console.warn("Pages database ID not available"),this.loading=!1;return}await Promise.all([this.itemStore.ensureSchemaLoaded(),this.itemStore.fetchAllItems()]),this.itemStore.databaseInfo&&this.itemStore.databaseInfo.id&&this.itemStore.setDatabaseId(this.itemStore.databaseInfo.id);const B=this.itemStore.items||[],S=B.find(V=>{const C=(V["Page Name"]||V.Page||V.Slug||"").toLowerCase().trim(),P=this.getPageKeyFromName(V["Page Name"]||V.Page||V.Slug||"");return C.includes("settings")||C.includes("setting")||C.includes("settigns")||C==="settigns"||P==="settings"});if(S&&S.id){this.currentPageId=S.id;const V=await this.itemStore.fetchItem(S.id);V?(this.currentPageDetails=V,this.content.settings=V,this.updateHeroFieldsFromContent()):console.warn("Settings page found but details could not be fetched")}else console.warn("Settings page not found in Notion database. Available pages:",B.map(V=>V["Page Name"]||V.Page||V.Slug||"Untitled"))}catch(y){console.error("Error loading settings page from Notion:",y),this.toast.add({severity:"error",summary:"Error",detail:`Failed to load settings from Notion: ${y.message||"Unknown error"}`,life:5e3})}finally{this.loading=!1}},updateHeroFieldsFromContent(){this.currentPageContent&&(this.heroImageUrl=this.getHeroImageUrl(),this.heroTitle=this.getHeroField("Hero Title")||"",this.heroSubtitle=this.getHeroField("Hero Subtitle")||"",this.parsedContentCache=null)},getHeroField(x){return!this.currentPageContent||typeof this.currentPageContent!="object"?null:this.currentPageContent[x]||null},getHeroImageUrl(){const x=this.getHeroField("Hero Image")||this.getHeroField("heroImage")||this.getHeroField("backgroundImage")||this.getHeroField("image");if(!x)return"";if(Array.isArray(x)&&x.length>0){const y=x[0];return y.url||y||""}return typeof x=="object"&&x.url?x.url:String(x)},setHeroField(x,y){this.currentPageDetails&&(this.currentPageDetails[x]=y),this.content.settings||(this.content.settings={}),this.content.settings[x]=y},updateHeroImage(x){const y=x||"";this.heroImageUrl=y,this.setHeroField("Hero Image",y)},updateHeroTitle(){this.setHeroField("Hero Title",this.heroTitle)},updateHeroSubtitle(){this.setHeroField("Hero Subtitle",this.heroSubtitle)},updateContentField(x,y){this.parsedContentCache=null;const B=this.parsedContent;if(!B){console.warn("Cannot update content field: parsedContent is null");return}const S=(P,E,D)=>{const z=Array.isArray(P)?[...P]:{...P};if(E.length===1){const Z=E[0];if(/^\d+$/.test(Z)){const U=parseInt(Z,10),M=[...z];for(;M.length<=U;)M.push(null);return M[U]=D===""?"":D,M}else return z[Z]=D===""?"":D,z}const[T,...j]=E;if(/^\d+$/.test(T)){const Z=parseInt(T,10),U=[...z];for(;U.length<=Z;)U.push({});return U[Z]=S(U[Z]||{},j,D),U}else return z[T]=S(z[T]||{},j,D),z};let V;if(!x||x==="")V=y&&typeof y=="object"&&!Array.isArray(y)?{...B,...y}:B;else{const P=x.split(".").filter(E=>E!=="");V=S(B,P,y)}const C=JSON.stringify(V);this.currentPageDetails&&(this.currentPageDetails={...this.currentPageDetails,Content:C}),this.content.settings||(this.content.settings={}),this.content.settings={...this.content.settings,Content:C}},hasValidContent(){const x=this.parsedContent;if(!x||typeof x=="function"||!(typeof x=="object"&&!Array.isArray(x)&&x!==null))return!1;try{return Object.keys(x).length>0}catch{return!1}},async saveContent(){var x,y,B,S,V;if(!this.currentPageId){this.toast.add({severity:"error",summary:"Error",detail:'Settings page not found. Please create a "Settings" page in your Notion database.',life:5e3});return}this.saving=!0;try{let C=null;this.currentPageDetails&&this.currentPageDetails.Content?C=this.currentPageDetails.Content:this.currentPageContent&&this.currentPageContent.Content&&(C=this.currentPageContent.Content),C&&typeof C=="object"&&(C=JSON.stringify(C)),(!C||typeof C!="string")&&(C=this.parsedContent?JSON.stringify(this.parsedContent):JSON.stringify({}));const P={"Page Name":"Settings",Content:C,"Last Updated":new Date().toISOString().split("T")[0]},E=(x=this.currentPageDetails)==null?void 0:x["Hero Image"],D=(y=this.currentPageDetails)==null?void 0:y["Hero Title"],z=(B=this.currentPageDetails)==null?void 0:B["Hero Subtitle"],T=this.heroImageUrl?this.heroImageUrl.trim():"",j=(V=(S=this.itemStore.schema)==null?void 0:S.properties)==null?void 0:V["Hero Image"],R=(j==null?void 0:j.type)||"rich_text";if(T)if(T.startsWith("data:image/"))if(R==="files"){const U=T.match(/data:image\/([^;]+)/),M=U?U[1]:"png";P["Hero Image"]=[{name:`hero-image.${M}`,url:T,type:"external"}]}else P["Hero Image"]=T;else if(R==="files"){const M=(T.split("/").pop()||"hero-image.jpg").split("?")[0];P["Hero Image"]=[{name:M,url:T,type:"external"}]}else P["Hero Image"]=T;else R==="files"?P["Hero Image"]=[]:P["Hero Image"]="";this.heroTitle!==void 0&&this.heroTitle!==null&&this.heroTitle.trim()!==""?P["Hero Title"]=this.heroTitle:D!=null&&(P["Hero Title"]=D),this.heroSubtitle!==void 0&&this.heroSubtitle!==null&&this.heroSubtitle.trim()!==""?P["Hero Subtitle"]=this.heroSubtitle:z!=null&&(P["Hero Subtitle"]=z),await this.itemStore.updateItem(this.currentPageId,P),this.toast.add({severity:"success",summary:"Success",detail:"Settings updated successfully!",life:3e3}),this.parsedContentCache=null;const Z=await this.itemStore.fetchItem(this.currentPageId);Z&&(this.currentPageDetails=Z,await this.$nextTick(),this.updateHeroFieldsFromContent())}catch(C){console.error("Error saving settings:",C),this.toast.add({severity:"error",summary:"Error",detail:`Error saving settings: ${C.message||"Unknown error occurred"}`,life:5e3})}finally{this.saving=!1}}}},_hoisted_1$1={key:0,class:"space-y-4"},_hoisted_2$1={key:1,class:"space-y-4"},_hoisted_3$1={class:"mt-4 border-t"},_hoisted_4$1={key:0,class:"text-sm text-gray-500 italic"},_hoisted_5$1={key:1,class:""},_hoisted_6$1={class:""},_hoisted_7$1={key:2,class:"text-sm text-gray-500 italic"},_hoisted_8$1={class:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-50 px-4 sm:px-6 lg:px-8 py-4"},_hoisted_9$1={class:"max-w-7xl mx-auto flex justify-end gap-3"},_hoisted_10=["disabled"],_hoisted_11={key:0,class:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"};function _sfc_render$1(x,y,B,S,V,C){const P=__unplugin_components_0;return openBlock(),createElementBlock("div",null,[y[3]||(y[3]=createBaseVNode("div",{class:"mb-6"},[createBaseVNode("h2",{class:"text-3xl font-bold text-gray-900"},"Site Settings"),createBaseVNode("p",{class:"text-gray-600 mt-2"},"Configure your website settings and preferences")],-1)),V.loading?(openBlock(),createElementBlock("div",_hoisted_1$1,[...y[1]||(y[1]=[createStaticVNode('<div class="animate-pulse space-y-4"><div class="rounded-lg overflow-hidden border border-gray-200"><div class="w-full flex items-center justify-between px-4 py-3 bg-gray-50"><div class="flex items-center gap-2"><div class="w-4 h-4 bg-gray-300 rounded"></div><div class="h-5 w-24 bg-gray-300 rounded"></div><div class="h-4 w-16 bg-gray-200 rounded"></div></div></div><div class="px-4 py-3 bg-white border-t border-gray-200 space-y-3"><div class="space-y-2"><div class="h-4 w-20 bg-gray-200 rounded"></div><div class="h-10 w-full bg-gray-200 rounded"></div></div><div class="space-y-2"><div class="h-4 w-16 bg-gray-200 rounded"></div><div class="h-32 w-full bg-gray-200 rounded"></div></div><div class="space-y-2"><div class="h-4 w-24 bg-gray-200 rounded"></div><div class="h-10 w-full bg-gray-200 rounded"></div></div></div></div><div class="rounded-lg overflow-hidden border border-gray-200"><div class="w-full flex items-center justify-between px-4 py-3 bg-gray-50"><div class="flex items-center gap-2"><div class="w-4 h-4 bg-gray-300 rounded"></div><div class="h-5 w-32 bg-gray-300 rounded"></div><div class="h-4 w-16 bg-gray-200 rounded"></div></div></div></div><div class="rounded-lg overflow-hidden border border-gray-200"><div class="w-full flex items-center justify-between px-4 py-3 bg-gray-50"><div class="flex items-center gap-2"><div class="w-4 h-4 bg-gray-300 rounded"></div><div class="h-5 w-20 bg-gray-300 rounded"></div><div class="h-4 w-16 bg-gray-200 rounded"></div></div></div></div><div class="rounded-lg overflow-hidden border border-gray-200"><div class="w-full flex items-center justify-between px-4 py-3 bg-gray-50"><div class="flex items-center gap-2"><div class="w-4 h-4 bg-gray-300 rounded"></div><div class="h-5 w-16 bg-gray-300 rounded"></div><div class="h-4 w-16 bg-gray-200 rounded"></div></div></div></div><div class="rounded-lg overflow-hidden border border-gray-200"><div class="w-full flex items-center justify-between px-4 py-3 bg-gray-50"><div class="flex items-center gap-2"><div class="w-4 h-4 bg-gray-300 rounded"></div><div class="h-5 w-20 bg-gray-300 rounded"></div><div class="h-4 w-16 bg-gray-200 rounded"></div></div></div></div></div>',1)])])):C.hasValidContent()?(openBlock(),createElementBlock("div",_hoisted_2$1,[createBaseVNode("div",_hoisted_3$1,[C.hasValidContent()?(openBlock(),createElementBlock("div",_hoisted_5$1,[createBaseVNode("div",_hoisted_6$1,[(openBlock(),createBlock(P,{key:`settings-content-${V.currentPageId||"new"}`,"field-key":"Content","field-value":C.parsedContent,path:"",onUpdate:C.updateContentField},null,8,["field-value","onUpdate"]))])])):(openBlock(),createElementBlock("div",_hoisted_4$1," No content available for settings. "))])])):(openBlock(),createElementBlock("div",_hoisted_7$1,' No settings content available. Please create a "Settings" page in your Notion database. ')),createBaseVNode("div",_hoisted_8$1,[createBaseVNode("div",_hoisted_9$1,[createBaseVNode("button",{onClick:y[0]||(y[0]=(...E)=>C.saveContent&&C.saveContent(...E)),disabled:V.saving||V.loading,class:"px-6 py-3 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 font-medium shadow-md"},[V.saving?(openBlock(),createElementBlock("svg",_hoisted_11,[...y[2]||(y[2]=[createBaseVNode("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),createBaseVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(V.saving?"Saving...":"Save Changes"),1)],8,_hoisted_10)])]),y[4]||(y[4]=createBaseVNode("div",{class:"h-20"},null,-1))])}const AdminSettings=_export_sfc(_sfc_main$1,[["render",_sfc_render$1]]),_sfc_main={name:"AdminLogin",setup(){const x=useRouter(),y=useAuthStore(),B=ref(""),S=ref(!1),V=ref("");return{code:B,loading:S,error:V,handleLogin:async()=>{if(!B.value){V.value="Please enter an admin code";return}S.value=!0,V.value="";try{const P=await y.login(B.value);if(P.success){const E=x.currentRoute.value.query.redirect||"/admin";x.push(E)}else V.value=P.error||"Invalid admin code",B.value=""}catch(P){V.value="An error occurred. Please try again.",console.error("Login error:",P)}finally{S.value=!1}}}}},_hoisted_1={class:"min-h-screen bg-gradient-to-br from-emerald-50 to-teal-50 flex items-center justify-center px-4"},_hoisted_2={class:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8"},_hoisted_3=["disabled"],_hoisted_4={key:0,class:"p-3 bg-red-50 border border-red-200 rounded-lg"},_hoisted_5={class:"text-sm text-red-600"},_hoisted_6=["disabled"],_hoisted_7={key:0,class:"flex items-center justify-center"},_hoisted_8={key:1},_hoisted_9={class:"mt-6 text-center"};function _sfc_render(x,y,B,S,V,C){const P=resolveComponent("router-link");return openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[y[5]||(y[5]=createStaticVNode('<div class="text-center mb-8"><div class="inline-flex items-center justify-center w-16 h-16 bg-emerald-100 rounded-full mb-4"><svg class="w-8 h-8 text-emerald-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg></div><h1 class="text-3xl font-bold text-gray-900 mb-2">Admin Access</h1><p class="text-gray-600">Enter your admin code to continue</p></div>',1)),createBaseVNode("form",{onSubmit:y[1]||(y[1]=withModifiers((...E)=>S.handleLogin&&S.handleLogin(...E),["prevent"])),class:"space-y-6"},[createBaseVNode("div",null,[y[2]||(y[2]=createBaseVNode("label",{for:"adminCode",class:"block text-sm font-medium text-gray-700 mb-2"}," Admin Code ",-1)),withDirectives(createBaseVNode("input",{id:"adminCode","onUpdate:modelValue":y[0]||(y[0]=E=>S.code=E),type:"password",autocomplete:"off",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors",placeholder:"Enter admin code",disabled:S.loading,required:"",autofocus:""},null,8,_hoisted_3),[[vModelText,S.code]])]),S.error?(openBlock(),createElementBlock("div",_hoisted_4,[createBaseVNode("p",_hoisted_5,toDisplayString(S.error),1)])):createCommentVNode("",!0),createBaseVNode("button",{type:"submit",disabled:S.loading||!S.code,class:"w-full py-3 px-4 bg-emerald-600 text-white font-medium rounded-lg hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[S.loading?(openBlock(),createElementBlock("span",_hoisted_7,[...y[3]||(y[3]=[createBaseVNode("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[createBaseVNode("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),createBaseVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),createTextVNode(" Verifying... ",-1)])])):(openBlock(),createElementBlock("span",_hoisted_8,"Access Admin"))],8,_hoisted_6)],32),createBaseVNode("div",_hoisted_9,[createVNode(P,{to:"/",class:"text-sm text-gray-600 hover:text-gray-900 transition-colors"},{default:withCtx(()=>[...y[4]||(y[4]=[createTextVNode("  Back to Home ",-1)])]),_:1})])])])}const AdminLogin=_export_sfc(_sfc_main,[["render",_sfc_render]]),routes=[{path:"/",name:"Home",component:Home},{path:"/products",name:"Products",component:Products},{path:"/products/:slug",name:"ProductDetail",component:ProductDetail},{path:"/about",name:"About",component:About},{path:"/contact",name:"Contact",component:Contact},{path:"/privacy",name:"Privacy",component:Privacy},{path:"/terms",name:"Terms",component:Terms},{path:"/admin/login",name:"AdminLogin",component:AdminLogin},{path:"/admin",component:Admin,meta:{requiresAuth:!0},children:[{path:"",name:"AdminDashboard",component:AdminDashboard},{path:"products",name:"AdminProducts",component:AdminProducts},{path:"products/add",name:"AddProduct",component:AddProduct},{path:"products/edit/:id",name:"EditProduct",component:EditProduct},{path:"categories",name:"AdminCategories",component:AdminCategories},{path:"content",name:"AdminContent",component:AdminContent},{path:"settings",name:"AdminSettings",component:AdminSettings}]}],router=createRouter({history:createWebHistory(),routes,scrollBehavior(x,y,B){return B||{top:0}}});document.title="Stack Seekers | Real Estate Investment Platform";const app=createApp(App),pinia=createPinia();app.use(pinia);app.use(router);router.beforeEach(async(x,y,B)=>{const S=useSettingsStore(),V=S.getSettings();if(!(V&&Object.keys(V).length>0))try{await S.loadSettings()}catch(P){console.error("Error loading settings in router guard:",P)}x.matched.some(P=>P.meta.requiresAuth)?useAuthStore().isAuthenticated?B():B({name:"AdminLogin",query:{redirect:x.fullPath}}):B()});app.use(PrimeVue,{theme:{preset:index,options:{darkModeSelector:!1}}});app.use(ConfirmationService);app.use(ToastService);app.mount("#app");
